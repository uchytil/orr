<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Finite-horizon LQR as a QP – B(E)3M35ORR – Optimal and Robust Control</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./discr_dir_mpc.html" rel="next">
<link href="./discr_dir_general.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-d4d76bf8491c20bad77d141916dc28e1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-50b4abff8b0f30bb501ab99a3cda6e79.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./discr_dir_goals.html">3. Discrete-time optimal control – direct approach</a></li><li class="breadcrumb-item"><a href="./discr_dir_LQR.html">Finite-horizon LQR as a QP</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">B(E)3M35ORR – Optimal and Robust Control</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">0. Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What is optimal and robust control?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_outline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course outline</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_rules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rules of the course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software for the course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Literature for the course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_similar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Similar courses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_projects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Projects</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">1. Optimization – theory</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization problems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_reformulations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem reformulations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_unconstrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unconstrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_constrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Constrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_modellers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization modelling languages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">2. Optimization – algorithms</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_derivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Computing the derivatives</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_unconstrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unconstrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_constrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Constrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_solvers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical solvers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">3. Discrete-time optimal control – direct approach</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General finite-horizon nonlinear optimal control as an NLP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_LQR.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Finite-horizon LQR as a QP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model predictive control (MPC)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical solvers for MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">4. Discrete-time optimal control – indirect approach</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General finite-horizon nonlinear optimal control as a TP-BVP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_LQR_fin_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete-time LQR on a finite horizon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_LQR_inf_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete-time LQR on an infinite horizon using the DARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_LQR_tracking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reference tracking using LQR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_DARE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete-time algebraic Riccati equation (DARE)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software for discrete-time LQR and DARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">5. Discrete-time optimal control – dynamic programming (DP)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DP and discrete-time optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_tabular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tabular outcomes of DP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_LQR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR via DP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_LQT.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQ tracking via DP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_DDP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Differential dynamic programming (DDP)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">6. More on MPC</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_stability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stability of MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_recursive_feasibility.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recursive feasibility</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_economic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Economic MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_explicit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Explicit MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">7. Continuous-time optimal control - indirect approach via calculus of variations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview of continuous-time optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_calculus_of_variations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Calculus of variations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_via_calculus_of_variations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General finite-horizon nonlinear optimal control as a TP-BVP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_LQR_fin_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR on a finite time horizon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_LQR_inf_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR on an infinite time horizon using the CARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">On notation for Hamiltonians and variations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_trajectory_stabilization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Trajectory stabilization and neigboring extremals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software for continuous-time LQR and CARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">8. Continuous-time optimal control - indirect approach via Pontryagin’s maximum principle</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_goals_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_Pontryagin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pontryagin’s maximum (or minimum) principle</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_free_final_time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimal control with a free final time</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_time_optimal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time-optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_references_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_hw_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">9. Numerical methods for continuous-time optimal control - both indirect and direct approaches</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_indirect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical methods for indirect approach</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_direct.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical methods for direct approach</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true">
 <span class="menu-text">9.X. Continuous-time optimal control – dynamic programming</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_HJB.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dynamic programming for continuous-time optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_LQR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using HJB equation to solve the continuous-time LQR problem</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_DDP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Differential dynamic programming (DDP)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true">
 <span class="menu-text">10. Some extensions: LQG, LTR, H2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_stochastic_LQR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR for stochastic systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_LQG.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQG control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_LTR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Loop transfer recovery (LTR)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_H2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H2-optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true">
 <span class="menu-text">11. Uncertainty modelling and robustness analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_uncertainty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Uncertainty (in) modelling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_unstructured.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Robustness analysis for unstructured uncertainty</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_structured.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Robustness analysis for structured uncertainty</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true">
 <span class="menu-text">12. Robust control</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_mixed_sensitivity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed sensitivity design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_H_infinity_control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hinfinity-optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_mu_synthesis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mu synthesis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true">
 <span class="menu-text">13. Limitations of achievable performance</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_SISO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Limitations for SISO systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_MIMO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Limitations for MIMO systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="true">
 <span class="menu-text">14. Model and controller order reduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model order reduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_controller.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Controller order reduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_benchmarks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Benchmarks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#simultaneous-sparse-formulation" id="toc-simultaneous-sparse-formulation" class="nav-link active" data-scroll-target="#simultaneous-sparse-formulation">Simultaneous (sparse) formulation</a>
  <ul class="collapse">
  <li><a href="#adding-constraints-on-controls-and-states" id="toc-adding-constraints-on-controls-and-states" class="nav-link" data-scroll-target="#adding-constraints-on-controls-and-states">Adding constraints on controls and states</a></li>
  </ul></li>
  <li><a href="#sequential-dense-formulation" id="toc-sequential-dense-formulation" class="nav-link" data-scroll-target="#sequential-dense-formulation">Sequential (dense) formulation</a>
  <ul class="collapse">
  <li><a href="#adding-the-constraints-on-controls" id="toc-adding-the-constraints-on-controls" class="nav-link" data-scroll-target="#adding-the-constraints-on-controls">Adding the constraints on controls</a></li>
  <li><a href="#adding-the-constraints-on-states" id="toc-adding-the-constraints-on-states" class="nav-link" data-scroll-target="#adding-the-constraints-on-states">Adding the constraints on states</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/hurak/orr/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./discr_dir_goals.html">3. Discrete-time optimal control – direct approach</a></li><li class="breadcrumb-item"><a href="./discr_dir_LQR.html">Finite-horizon LQR as a QP</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Finite-horizon LQR as a QP</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/1MHV-L4--lI?si=6Orm_cGxmTAX_myT" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>Here we specialize the general procedure from the previous section to the case of a <strong>L</strong>inear system and a <strong>Q</strong>uadratic cost. We start by considering a simple problem of <strong>R</strong>egulation, wherein the goal is to bring the system either exactly or approximately to zero final state, that is, <span class="math inline">\mathbf x^\text{ref}=\mathbf 0</span> and we want <span class="math inline">\bm x_N=\mathbf x^\text{ref}</span> or <span class="math inline">\bm x_N\approx\mathbf x^\text{ref}</span>, respectively. The problem is known as the <strong>LQR</strong> problem. <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bm u_0,\ldots, \bm u_{N-1}, \bm x_{0},\ldots, \bm x_N} &amp;\quad  \frac{1}{2} \bm x_N^\top \mathbf S \bm x_N + \frac{1}{2} \sum_{k=0}^{N-1} \left(\bm x_k^\top \mathbf Q \bm x_k + \bm u_k^\top \mathbf R \bm u_k \right)\\
\text{subject to}   &amp;\quad \bm x_{k+1} = \mathbf A\bm x_k + \mathbf B\bm u_k,\quad k = 0, \ldots, N-1, \\
                    &amp;\quad \bm x_0 = \mathbf x_0,\\
                    &amp;\quad \bm x_N = \mathbf 0\;  (\text{or}\, \bm x_N \approx \mathbf 0).
\end{aligned}
</span></p>
<p>Referring to the two options for the last constraint,</p>
<ul>
<li>if the condition <span class="math inline">\bm x_N=\mathbf 0</span> on the final state is strictly enforced, the terminal state cost (the term <span class="math inline">\frac{1}{2} \bm x_N^\top \mathbf S \bm x_N</span> in the cost function) is redundant and can be removed;</li>
<li>if the final state condition can be relaxed to <span class="math inline">\bm x_N\approx\mathbf 0</span>, it is by increasing the weight <span class="math inline">\mathbf S</span> in the terminal cost function <span class="math inline">\frac{1}{2} \bm x_N^\top \mathbf S \bm x_N</span> that <span class="math inline">\bm x_N</span> can be made arbitrarily close to <span class="math inline">\mathbf 0</span>.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>It is a standard dilemma in optimization, not only in optimal control, that if we want to satisfy some requirement, we can either strictly enforce it through constraints or we can seemingly relax it and set a cost to be paid for not satysfying it.</p>
</div>
</div>
<section id="simultaneous-sparse-formulation" class="level2">
<h2 class="anchored" data-anchor-id="simultaneous-sparse-formulation">Simultaneous (sparse) formulation</h2>
<p>Below we rewrite the latter problem, that is, <span class="math inline">\bm x_N\approx\mathbf 0</span>, in the “unrolled” form, where we stack the state and control variables into “long” vectors <span class="math inline">\bar{\bm x}</span> and <span class="math inline">\bar{\bm u}</span>. Doing the same for the former is straightforward. <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bar{\bm u},\bar{\bm x}} &amp; \frac{1}{2}\left(\begin{bmatrix} \bm x_1^\top &amp; \bm x_2^\top &amp; \ldots &amp; \bm x_N^\top \end{bmatrix}
\underbrace{\begin{bmatrix}\mathbf Q &amp; &amp; &amp; \\ &amp; \mathbf Q &amp; &amp;\\ &amp; &amp;\ddots &amp; \\ &amp; &amp; &amp; \mathbf S \end{bmatrix}}_{\overline{\mathbf Q}}
\underbrace{\begin{bmatrix} \bm x_1 \\ \bm x_2 \\ \vdots \\ \bm x_N \end{bmatrix}}_{\bar{\bm x}}\right.\\
&amp;\qquad +\left.
\begin{bmatrix} \bm u_0^\top &amp; \bm u_1^\top &amp; \ldots &amp; \bm u_{N-1}^\top \end{bmatrix}
\underbrace{\begin{bmatrix}\mathbf R &amp; &amp; &amp; \\ &amp; \mathbf R &amp; &amp;\\ &amp; &amp;\ddots &amp; \\ &amp; &amp; &amp; \mathbf R \end{bmatrix}}_{\overline{\mathbf R}}
\underbrace{\begin{bmatrix} \bm u_0 \\ \bm u_1 \\ \vdots \\ \bm u_{N-1} \end{bmatrix}}_{\bar{\bm u}}\right)
+ \underbrace{\frac{1}{2}\mathbf x_0^\top \mathbf Q \mathbf x_0}_{\mathrm{constant}}
\end{aligned}
</span> subject to <span class="math display">
\begin{bmatrix} \bm x_1 \\ \bm x_2 \\ \bm x_3\\ \vdots \\ \bm x_N \end{bmatrix} = \underbrace{\begin{bmatrix}\mathbf 0 &amp; &amp; &amp; &amp;\\\mathbf A &amp; \mathbf 0 &amp; &amp; &amp;\\ &amp;\mathbf A &amp;\mathbf 0 &amp; &amp; \\ &amp; &amp; &amp;\ddots &amp; \\&amp; &amp; &amp;\mathbf A &amp; \mathbf 0 \end{bmatrix}}_{\overline{\mathbf A}}
\begin{bmatrix} \bm x_1 \\ \bm x_2 \\ \bm x_3\\ \vdots \\ \bm x_N \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf B &amp; &amp; &amp; &amp; \\ &amp; \mathbf B &amp; &amp; &amp; \\&amp; &amp;\mathbf B &amp; \\ &amp; &amp; &amp;\ddots \\ &amp; &amp; &amp; &amp; \mathbf B \end{bmatrix}}_{\overline{\mathbf B}}\begin{bmatrix} \bm u_0 \\ \bm u_1 \\ \bm u_2\\\vdots \\ \bm u_{N-1} \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf A\\\mathbf 0\\\mathbf 0\\\vdots\\\mathbf 0\end{bmatrix}}_{\overline{\mathbf A}_0}\mathbf x_0,    
</span></p>
<p>in which we have already substituted the particular <span class="math inline">\mathbf x_0</span> for the variable <span class="math inline">\bm x_0</span>. Consequently, the last term in the cost function can be discarded because it is constant.</p>
<p>The terms with the <span class="math inline">\bar{\bm x}</span> vector can be combined and we get <span id="eq-linear_system_linear_constraints_matrix_format"><span class="math display">
\begin{bmatrix} \mathbf 0 \\ \mathbf 0 \\ \mathbf 0\\ \vdots \\ \mathbf 0 \end{bmatrix} = \underbrace{\begin{bmatrix}-\mathbf I &amp; &amp; &amp; &amp;\\\mathbf A &amp; -\mathbf I &amp; &amp; &amp;\\ &amp;\mathbf A &amp;-\mathbf I &amp; &amp; \\ &amp; &amp; &amp;\ddots &amp; \\&amp; &amp; &amp;\mathbf A &amp; -\mathbf I \end{bmatrix}}_{\overline{\mathbf A} - \mathbf I}
\begin{bmatrix} \mathbf x_1 \\ \mathbf x_2 \\ \mathbf x_3\\ \vdots \\ \mathbf x_N \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf B &amp; &amp; &amp; &amp; \\ &amp; \mathbf B &amp; &amp; &amp; \\&amp; &amp;\mathbf B &amp; \\ &amp; &amp; &amp;\ddots \\ &amp; &amp; &amp; &amp; \mathbf B \end{bmatrix}}_{\overline{\mathbf B}}\begin{bmatrix} \mathbf u_0 \\ \mathbf u_1 \\ \mathbf u_2\\\vdots \\ \mathbf u_{N-1} \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf A\\\mathbf 0\\\mathbf 0\\\vdots\\\mathbf 0\end{bmatrix}}_{\overline{\mathbf A}_0}\mathbf x_0.
\tag{1}</span></span></p>
<p>Upon stacking the two “long” vectors into <span class="math inline">\bar{\bm z}</span> we reformulate the optimization problem as <span class="math display">
\operatorname*{minimize}_{\widetilde{\mathbf z}\in\mathbb{R}^{2N}}\quad \frac{1}{2}\underbrace{\begin{bmatrix}\bar{\bm x}^\top &amp;\bar{\bm u}^\top\end{bmatrix}}_{\bar{\bm z}^\top} \underbrace{\begin{bmatrix}\overline{\mathbf Q} &amp; \\ &amp; \overline{\mathbf R} \end{bmatrix}}_{\widetilde{\mathbf Q}}\underbrace{\begin{bmatrix}\bar{\bm x}\\\bar{\bm u}\end{bmatrix}}_{\bar{\bm z}}
</span> subject to <span class="math display">
\mathbf 0 = \underbrace{\begin{bmatrix}(\overline{\mathbf A}-\mathbf I) &amp; \overline{\mathbf B}\end{bmatrix}}_{\widetilde{\mathbf A}}\underbrace{\begin{bmatrix}\bar{\bm x}\\\bar{\bm u}\end{bmatrix}}_{\bar{\bm z}} + \underbrace{\overline{\mathbf A}_0 \mathbf x_0}_{\tilde{\mathbf b}}.
</span></p>
<p>To summarize, we have reformulated the optimal control problem as a linearly constrained quadratic program <span class="math display">
\boxed{
\begin{aligned}
\underset{\bar{\bm z}\in\mathbb{R}^{2N}}{\text{minimize}} &amp;\quad \frac{1}{2}\bar{\bm z}^\top \widetilde{\mathbf Q} \bar{\bm z}\\
\text{subject to} &amp;\quad \widetilde{\mathbf A} \bar{\bm z} + \tilde{\bm b} = \mathbf 0.
\end{aligned}}
</span></p>
<p>This constrained optimization problem can still be solved without invoking a numerical solver for solving quadratic programs (QP). We do it by introducing a vector <span class="math inline">\boldsymbol\lambda</span> of Lagrange multipliers to form the Lagrangian function <span class="math display">
\mathcal{L}(\bar{\bm z}, \boldsymbol \lambda) = \frac{1}{2}\bar{\bm z}^\top \widetilde{\mathbf Q} \bar{\bm z} + \boldsymbol\lambda^\top(\widetilde{\mathbf A} \bar{\bm z} + \tilde{\mathbf b}),
</span> for which the gradients with respect to <span class="math inline">\bar{\bm z}</span> and <span class="math inline">\boldsymbol\lambda</span> are <span class="math display">
\begin{aligned}
\nabla_{\tilde{\bm{z}}} \mathcal{L}(\bar{\bm z}, \boldsymbol\lambda) &amp;= \widetilde{\mathbf Q}\bar{\bm z} + \tilde{\mathbf A}^\top\boldsymbol\lambda,\\
\nabla_{\boldsymbol{\lambda}} \mathcal{L}(\tilde{\bm x}, \boldsymbol\lambda) &amp;=\widetilde{\mathbf A} \bar{\bm z} + \tilde{\mathbf b}.
\end{aligned}
</span></p>
<p>Requiring that the overall gradient vanishes leads to the following KKT set of linear equations <span class="math display">
\begin{bmatrix}
  \widetilde{\mathbf Q} &amp; \widetilde{\mathbf A}^\top\\ \widetilde{\mathbf A} &amp; \mathbf 0
\end{bmatrix}
\begin{bmatrix}
\bar{\bm z}\\\boldsymbol\lambda
\end{bmatrix}
=
\begin{bmatrix}
\mathbf 0\\ -\tilde{\mathbf b}
\end{bmatrix}.
</span></p>
<p>Solving this could be accomplished by using some general solver for linear systems or by using some more tailored solver for symmetric indefinite systems (based on <a href="https://en.wikipedia.org/wiki/Cholesky_decomposition#LDL_decomposition">LDL factorization</a>).</p>
<div id="exm-direct-simultaneous" class="theorem example">
<p><span class="theorem-title"><strong>Example 1 (Reformulating the unconstrained LQR problem as a system of linear equations – simultaneous approach)</strong></span> &nbsp;</p>
<div id="2" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">BlockArrays</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearSolve</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">QDLDL</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">SparseArrays</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">direct_dlqr_simultaneous</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">size</span>(A)[<span class="fl">1</span>]</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">size</span>(B)[<span class="fl">2</span>]</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    Q̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>n),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        Q̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> Q</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    Q̄[<span class="fu">Block</span>(N,N)] <span class="op">=</span> S</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    R̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>m,N<span class="op">*</span>m),<span class="fu">repeat</span>([m],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        R̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> R</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    Q̃ <span class="op">=</span> <span class="fu">blockdiag</span>(<span class="fu">sparse</span>(Q̄),<span class="fu">sparse</span>(R̄))              <span class="co"># The matrix defining the quadratic cost.</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    B̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>m),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        B̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> B</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    Ā <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">sparse</span>(<span class="op">-</span><span class="fl">1.0</span><span class="op">*</span>I,n<span class="op">*</span>N,n<span class="op">*</span>N),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">2</span><span class="op">:</span>N</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        Ā[<span class="fu">Block</span>(i,(i<span class="op">-</span><span class="fl">1</span>))] <span class="op">=</span> A</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    Ã <span class="op">=</span> <span class="fu">sparse</span>([Ā B̄])                               <span class="co"># The matrix defining the linear (affine) equation.</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    Ā₀ <span class="op">=</span> <span class="fu">spzeros</span>(n<span class="op">*</span>N,n)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    Ā₀[<span class="fl">1</span><span class="op">:</span>n,<span class="fl">1</span><span class="op">:</span>n] <span class="op">=</span> A</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    b̃ <span class="op">=</span> <span class="fu">Ā₀*sparse</span>(x₀)                               <span class="co"># The constant offset for the linear (affine) equation.</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    K <span class="op">=</span> [Q̃ Ã<span class="ch">'; Ã spzeros(size(Ã,1),size(Ã,1))]      # Sparse KKT matrix.</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    k <span class="op">=</span> [<span class="fu">spzeros</span>(<span class="fu">size</span>(Q̃,<span class="fl">1</span>)); <span class="op">-</span>b̃]                    <span class="co"># Right hand side of the KKT system</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> <span class="fu">LinearProblem</span>(K,k)                       <span class="co"># The KKT system as a linear problem.</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    z̃λ <span class="op">=</span> LinearSolve.<span class="fu">solve</span>(prob)                    <span class="co"># Solving the KKT system. Ready for trying various solvers.</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> <span class="fu">reshape</span>(z̃λ[<span class="fl">1</span><span class="op">:</span>(n<span class="op">*</span>N)],(n,<span class="op">:</span>))</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    uopt <span class="op">=</span> <span class="fu">reshape</span>(z̃λ[(n<span class="op">*</span>N<span class="op">+</span><span class="fl">1</span>)<span class="op">:</span>(n<span class="op">+</span>m)<span class="op">*</span>N],(m,<span class="op">:</span>))</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    return xopt,uopt</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>xopt,uopt <span class="op">=</span> <span class="fu">direct_dlqr_simultaneous</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt<span class="op">'</span>,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,<span class="fu">hcat</span>(x₀,xopt)<span class="ch">',marker=:diamond,label=["x₁" "x₂"],linetype=:steppost)</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip660">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip660)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip661">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip660)" d="M293.64 774.117 L2640.76 774.117 L2640.76 47.2441 L293.64 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip662">
    <rect x="293" y="47" width="2348" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="360.068,774.117 360.068,47.2441 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="852.126,774.117 852.126,47.2441 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1344.18,774.117 1344.18,47.2441 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1836.24,774.117 1836.24,47.2441 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2328.3,774.117 2328.3,47.2441 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,652.108 2640.76,652.108 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,505.088 2640.76,505.088 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,358.068 2640.76,358.068 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,211.048 2640.76,211.048 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,64.0286 2640.76,64.0286 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,774.117 360.068,755.219 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="852.126,774.117 852.126,755.219 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1344.18,774.117 1344.18,755.219 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1836.24,774.117 1836.24,755.219 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2328.3,774.117 2328.3,755.219 "></polyline>
<path clip-path="url(#clip660)" d="M360.068 807.34 Q356.457 807.34 354.628 810.904 Q352.823 814.446 352.823 821.576 Q352.823 828.682 354.628 832.247 Q356.457 835.789 360.068 835.789 Q363.702 835.789 365.508 832.247 Q367.336 828.682 367.336 821.576 Q367.336 814.446 365.508 810.904 Q363.702 807.34 360.068 807.34 M360.068 803.636 Q365.878 803.636 368.934 808.242 Q372.012 812.826 372.012 821.576 Q372.012 830.303 368.934 834.909 Q365.878 839.492 360.068 839.492 Q354.258 839.492 351.179 834.909 Q348.124 830.303 348.124 821.576 Q348.124 812.826 351.179 808.242 Q354.258 803.636 360.068 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M846.779 834.886 L863.098 834.886 L863.098 838.821 L841.154 838.821 L841.154 834.886 Q843.816 832.131 848.399 827.502 Q853.005 822.849 854.186 821.506 Q856.431 818.983 857.311 817.247 Q858.214 815.488 858.214 813.798 Q858.214 811.043 856.269 809.307 Q854.348 807.571 851.246 807.571 Q849.047 807.571 846.593 808.335 Q844.163 809.099 841.385 810.65 L841.385 805.928 Q844.209 804.793 846.663 804.215 Q849.117 803.636 851.154 803.636 Q856.524 803.636 859.718 806.321 Q862.913 809.006 862.913 813.497 Q862.913 815.627 862.103 817.548 Q861.316 819.446 859.209 822.039 Q858.63 822.71 855.529 825.928 Q852.427 829.122 846.779 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1347.19 808.335 L1335.39 826.784 L1347.19 826.784 L1347.19 808.335 M1345.97 804.261 L1351.85 804.261 L1351.85 826.784 L1356.78 826.784 L1356.78 830.673 L1351.85 830.673 L1351.85 838.821 L1347.19 838.821 L1347.19 830.673 L1331.59 830.673 L1331.59 826.159 L1345.97 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1836.65 819.678 Q1833.5 819.678 1831.65 821.83 Q1829.82 823.983 1829.82 827.733 Q1829.82 831.46 1831.65 833.636 Q1833.5 835.789 1836.65 835.789 Q1839.79 835.789 1841.62 833.636 Q1843.48 831.46 1843.48 827.733 Q1843.48 823.983 1841.62 821.83 Q1839.79 819.678 1836.65 819.678 M1845.93 805.025 L1845.93 809.284 Q1844.17 808.451 1842.36 808.011 Q1840.58 807.571 1838.82 807.571 Q1834.19 807.571 1831.74 810.696 Q1829.31 813.821 1828.96 820.141 Q1830.33 818.127 1832.39 817.062 Q1834.45 815.974 1836.92 815.974 Q1842.13 815.974 1845.14 819.145 Q1848.17 822.293 1848.17 827.733 Q1848.17 833.057 1845.03 836.275 Q1841.88 839.492 1836.65 839.492 Q1830.65 839.492 1827.48 834.909 Q1824.31 830.303 1824.31 821.576 Q1824.31 813.381 1828.2 808.52 Q1832.09 803.636 1838.64 803.636 Q1840.4 803.636 1842.18 803.983 Q1843.98 804.33 1845.93 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2328.3 822.409 Q2324.97 822.409 2323.04 824.191 Q2321.15 825.974 2321.15 829.099 Q2321.15 832.224 2323.04 834.006 Q2324.97 835.789 2328.3 835.789 Q2331.63 835.789 2333.55 834.006 Q2335.48 832.201 2335.48 829.099 Q2335.48 825.974 2333.55 824.191 Q2331.66 822.409 2328.3 822.409 M2323.62 820.418 Q2320.61 819.678 2318.92 817.617 Q2317.26 815.557 2317.26 812.594 Q2317.26 808.451 2320.2 806.043 Q2323.16 803.636 2328.3 803.636 Q2333.46 803.636 2336.4 806.043 Q2339.34 808.451 2339.34 812.594 Q2339.34 815.557 2337.65 817.617 Q2335.98 819.678 2333 820.418 Q2336.38 821.205 2338.25 823.497 Q2340.15 825.789 2340.15 829.099 Q2340.15 834.122 2337.07 836.807 Q2334.02 839.492 2328.3 839.492 Q2322.58 839.492 2319.5 836.807 Q2316.45 834.122 2316.45 829.099 Q2316.45 825.789 2318.35 823.497 Q2320.24 821.205 2323.62 820.418 M2321.91 813.034 Q2321.91 815.719 2323.58 817.224 Q2325.27 818.729 2328.3 818.729 Q2331.31 818.729 2333 817.224 Q2334.71 815.719 2334.71 813.034 Q2334.71 810.349 2333 808.844 Q2331.31 807.34 2328.3 807.34 Q2325.27 807.34 2323.58 808.844 Q2321.91 810.349 2321.91 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1451.38 873.776 L1457.27 873.776 L1457.27 903.026 L1474.74 887.653 L1482.22 887.653 L1463.31 904.331 L1483.02 923.301 L1475.38 923.301 L1457.27 905.891 L1457.27 923.301 L1451.38 923.301 L1451.38 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,774.117 293.64,47.2441 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,652.108 312.538,652.108 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,505.088 312.538,505.088 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,358.068 312.538,358.068 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,211.048 312.538,211.048 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,64.0286 312.538,64.0286 "></polyline>
<path clip-path="url(#clip660)" d="M116.214 652.559 L145.89 652.559 L145.89 656.494 L116.214 656.494 L116.214 652.559 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M156.793 665.452 L164.432 665.452 L164.432 639.087 L156.122 640.753 L156.122 636.494 L164.385 634.828 L169.061 634.828 L169.061 665.452 L176.7 665.452 L176.7 669.388 L156.793 669.388 L156.793 665.452 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M186.145 663.508 L191.029 663.508 L191.029 669.388 L186.145 669.388 L186.145 663.508 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M211.214 637.906 Q207.603 637.906 205.774 641.471 Q203.969 645.013 203.969 652.142 Q203.969 659.249 205.774 662.814 Q207.603 666.355 211.214 666.355 Q214.848 666.355 216.654 662.814 Q218.482 659.249 218.482 652.142 Q218.482 645.013 216.654 641.471 Q214.848 637.906 211.214 637.906 M211.214 634.203 Q217.024 634.203 220.08 638.809 Q223.158 643.392 223.158 652.142 Q223.158 660.869 220.08 665.476 Q217.024 670.059 211.214 670.059 Q205.404 670.059 202.325 665.476 Q199.27 660.869 199.27 652.142 Q199.27 643.392 202.325 638.809 Q205.404 634.203 211.214 634.203 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M241.376 637.906 Q237.765 637.906 235.936 641.471 Q234.13 645.013 234.13 652.142 Q234.13 659.249 235.936 662.814 Q237.765 666.355 241.376 666.355 Q245.01 666.355 246.816 662.814 Q248.644 659.249 248.644 652.142 Q248.644 645.013 246.816 641.471 Q245.01 637.906 241.376 637.906 M241.376 634.203 Q247.186 634.203 250.242 638.809 Q253.32 643.392 253.32 652.142 Q253.32 660.869 250.242 665.476 Q247.186 670.059 241.376 670.059 Q235.566 670.059 232.487 665.476 Q229.431 660.869 229.431 652.142 Q229.431 643.392 232.487 638.809 Q235.566 634.203 241.376 634.203 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M117.21 505.539 L146.886 505.539 L146.886 509.474 L117.21 509.474 L117.21 505.539 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M166.978 490.887 Q163.367 490.887 161.538 494.451 Q159.733 497.993 159.733 505.123 Q159.733 512.229 161.538 515.794 Q163.367 519.335 166.978 519.335 Q170.612 519.335 172.418 515.794 Q174.247 512.229 174.247 505.123 Q174.247 497.993 172.418 494.451 Q170.612 490.887 166.978 490.887 M166.978 487.183 Q172.788 487.183 175.844 491.789 Q178.922 496.373 178.922 505.123 Q178.922 513.849 175.844 518.456 Q172.788 523.039 166.978 523.039 Q161.168 523.039 158.089 518.456 Q155.034 513.849 155.034 505.123 Q155.034 496.373 158.089 491.789 Q161.168 487.183 166.978 487.183 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M187.14 516.488 L192.024 516.488 L192.024 522.368 L187.14 522.368 L187.14 516.488 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M201.029 487.808 L223.251 487.808 L223.251 489.799 L210.705 522.368 L205.82 522.368 L217.626 491.743 L201.029 491.743 L201.029 487.808 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M232.418 487.808 L250.774 487.808 L250.774 491.743 L236.7 491.743 L236.7 500.215 Q237.718 499.868 238.737 499.706 Q239.755 499.521 240.774 499.521 Q246.561 499.521 249.941 502.692 Q253.32 505.863 253.32 511.28 Q253.32 516.859 249.848 519.96 Q246.376 523.039 240.056 523.039 Q237.88 523.039 235.612 522.669 Q233.367 522.298 230.959 521.558 L230.959 516.859 Q233.043 517.993 235.265 518.548 Q237.487 519.104 239.964 519.104 Q243.968 519.104 246.306 516.997 Q248.644 514.891 248.644 511.28 Q248.644 507.669 246.306 505.562 Q243.968 503.456 239.964 503.456 Q238.089 503.456 236.214 503.873 Q234.362 504.289 232.418 505.169 L232.418 487.808 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M116.214 358.519 L145.89 358.519 L145.89 362.455 L116.214 362.455 L116.214 358.519 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M165.983 343.867 Q162.372 343.867 160.543 347.432 Q158.737 350.973 158.737 358.103 Q158.737 365.209 160.543 368.774 Q162.372 372.316 165.983 372.316 Q169.617 372.316 171.422 368.774 Q173.251 365.209 173.251 358.103 Q173.251 350.973 171.422 347.432 Q169.617 343.867 165.983 343.867 M165.983 340.163 Q171.793 340.163 174.848 344.77 Q177.927 349.353 177.927 358.103 Q177.927 366.83 174.848 371.436 Q171.793 376.019 165.983 376.019 Q160.173 376.019 157.094 371.436 Q154.038 366.83 154.038 358.103 Q154.038 349.353 157.094 344.77 Q160.173 340.163 165.983 340.163 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M186.145 369.468 L191.029 369.468 L191.029 375.348 L186.145 375.348 L186.145 369.468 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M201.26 340.788 L219.617 340.788 L219.617 344.723 L205.543 344.723 L205.543 353.195 Q206.561 352.848 207.58 352.686 Q208.598 352.501 209.617 352.501 Q215.404 352.501 218.783 355.672 Q222.163 358.844 222.163 364.26 Q222.163 369.839 218.691 372.941 Q215.219 376.019 208.899 376.019 Q206.723 376.019 204.455 375.649 Q202.209 375.279 199.802 374.538 L199.802 369.839 Q201.885 370.973 204.107 371.529 Q206.33 372.084 208.807 372.084 Q212.811 372.084 215.149 369.978 Q217.487 367.871 217.487 364.26 Q217.487 360.649 215.149 358.543 Q212.811 356.436 208.807 356.436 Q206.932 356.436 205.057 356.853 Q203.205 357.269 201.26 358.149 L201.26 340.788 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M241.376 343.867 Q237.765 343.867 235.936 347.432 Q234.13 350.973 234.13 358.103 Q234.13 365.209 235.936 368.774 Q237.765 372.316 241.376 372.316 Q245.01 372.316 246.816 368.774 Q248.644 365.209 248.644 358.103 Q248.644 350.973 246.816 347.432 Q245.01 343.867 241.376 343.867 M241.376 340.163 Q247.186 340.163 250.242 344.77 Q253.32 349.353 253.32 358.103 Q253.32 366.83 250.242 371.436 Q247.186 376.019 241.376 376.019 Q235.566 376.019 232.487 371.436 Q229.431 366.83 229.431 358.103 Q229.431 349.353 232.487 344.77 Q235.566 340.163 241.376 340.163 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M117.21 211.5 L146.886 211.5 L146.886 215.435 L117.21 215.435 L117.21 211.5 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M166.978 196.847 Q163.367 196.847 161.538 200.412 Q159.733 203.953 159.733 211.083 Q159.733 218.189 161.538 221.754 Q163.367 225.296 166.978 225.296 Q170.612 225.296 172.418 221.754 Q174.247 218.189 174.247 211.083 Q174.247 203.953 172.418 200.412 Q170.612 196.847 166.978 196.847 M166.978 193.143 Q172.788 193.143 175.844 197.75 Q178.922 202.333 178.922 211.083 Q178.922 219.81 175.844 224.416 Q172.788 229 166.978 229 Q161.168 229 158.089 224.416 Q155.034 219.81 155.034 211.083 Q155.034 202.333 158.089 197.75 Q161.168 193.143 166.978 193.143 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M187.14 222.449 L192.024 222.449 L192.024 228.328 L187.14 228.328 L187.14 222.449 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M206.237 224.393 L222.556 224.393 L222.556 228.328 L200.612 228.328 L200.612 224.393 Q203.274 221.639 207.857 217.009 Q212.464 212.356 213.644 211.014 Q215.89 208.49 216.769 206.754 Q217.672 204.995 217.672 203.305 Q217.672 200.551 215.728 198.815 Q213.807 197.078 210.705 197.078 Q208.506 197.078 206.052 197.842 Q203.621 198.606 200.844 200.157 L200.844 195.435 Q203.668 194.301 206.121 193.722 Q208.575 193.143 210.612 193.143 Q215.982 193.143 219.177 195.828 Q222.371 198.514 222.371 203.004 Q222.371 205.134 221.561 207.055 Q220.774 208.953 218.668 211.546 Q218.089 212.217 214.987 215.435 Q211.885 218.629 206.237 224.393 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M232.418 193.768 L250.774 193.768 L250.774 197.703 L236.7 197.703 L236.7 206.176 Q237.718 205.828 238.737 205.666 Q239.755 205.481 240.774 205.481 Q246.561 205.481 249.941 208.653 Q253.32 211.824 253.32 217.24 Q253.32 222.819 249.848 225.921 Q246.376 229 240.056 229 Q237.88 229 235.612 228.629 Q233.367 228.259 230.959 227.518 L230.959 222.819 Q233.043 223.953 235.265 224.509 Q237.487 225.064 239.964 225.064 Q243.968 225.064 246.306 222.958 Q248.644 220.852 248.644 217.24 Q248.644 213.629 246.306 211.523 Q243.968 209.416 239.964 209.416 Q238.089 209.416 236.214 209.833 Q234.362 210.25 232.418 211.129 L232.418 193.768 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M165.983 49.8273 Q162.372 49.8273 160.543 53.3921 Q158.737 56.9337 158.737 64.0633 Q158.737 71.1697 160.543 74.7345 Q162.372 78.2762 165.983 78.2762 Q169.617 78.2762 171.422 74.7345 Q173.251 71.1697 173.251 64.0633 Q173.251 56.9337 171.422 53.3921 Q169.617 49.8273 165.983 49.8273 M165.983 46.1236 Q171.793 46.1236 174.848 50.73 Q177.927 55.3133 177.927 64.0633 Q177.927 72.7901 174.848 77.3966 Q171.793 81.9799 165.983 81.9799 Q160.173 81.9799 157.094 77.3966 Q154.038 72.7901 154.038 64.0633 Q154.038 55.3133 157.094 50.73 Q160.173 46.1236 165.983 46.1236 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M186.145 75.429 L191.029 75.429 L191.029 81.3086 L186.145 81.3086 L186.145 75.429 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M211.214 49.8273 Q207.603 49.8273 205.774 53.3921 Q203.969 56.9337 203.969 64.0633 Q203.969 71.1697 205.774 74.7345 Q207.603 78.2762 211.214 78.2762 Q214.848 78.2762 216.654 74.7345 Q218.482 71.1697 218.482 64.0633 Q218.482 56.9337 216.654 53.3921 Q214.848 49.8273 211.214 49.8273 M211.214 46.1236 Q217.024 46.1236 220.08 50.73 Q223.158 55.3133 223.158 64.0633 Q223.158 72.7901 220.08 77.3966 Q217.024 81.9799 211.214 81.9799 Q205.404 81.9799 202.325 77.3966 Q199.27 72.7901 199.27 64.0633 Q199.27 55.3133 202.325 50.73 Q205.404 46.1236 211.214 46.1236 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M241.376 49.8273 Q237.765 49.8273 235.936 53.3921 Q234.13 56.9337 234.13 64.0633 Q234.13 71.1697 235.936 74.7345 Q237.765 78.2762 241.376 78.2762 Q245.01 78.2762 246.816 74.7345 Q248.644 71.1697 248.644 64.0633 Q248.644 56.9337 246.816 53.3921 Q245.01 49.8273 241.376 49.8273 M241.376 46.1236 Q247.186 46.1236 250.242 50.73 Q253.32 55.3133 253.32 64.0633 Q253.32 72.7901 250.242 77.3966 Q247.186 81.9799 241.376 81.9799 Q235.566 81.9799 232.487 77.3966 Q229.431 72.7901 229.431 64.0633 Q229.431 55.3133 232.487 50.73 Q235.566 46.1236 241.376 46.1236 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip662)" d="M360.068 737.545 L344.068 753.545 L360.068 769.545 L376.068 753.545 L360.068 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M606.097 480.398 L590.097 496.398 L606.097 512.398 L622.097 496.398 L606.097 480.398 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M852.126 293.816 L836.126 309.816 L852.126 325.816 L868.126 309.816 L852.126 293.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M1098.15 188.242 L1082.15 204.242 L1098.15 220.242 L1114.15 204.242 L1098.15 188.242 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M1344.18 127.975 L1328.18 143.975 L1344.18 159.975 L1360.18 143.975 L1344.18 127.975 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M1590.21 93.5608 L1574.21 109.561 L1590.21 125.561 L1606.21 109.561 L1590.21 93.5608 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M1836.24 73.8706 L1820.24 89.8706 L1836.24 105.871 L1852.24 89.8706 L1836.24 73.8706 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M2082.27 62.5369 L2066.27 78.5369 L2082.27 94.5369 L2098.27 78.5369 L2082.27 62.5369 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M2328.3 55.8944 L2312.3 71.8944 L2328.3 87.8944 L2344.3 71.8944 L2328.3 55.8944 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M2574.33 51.816 L2558.33 67.816 L2574.33 83.816 L2590.33 67.816 L2574.33 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip662)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,753.545 606.097,753.545 606.097,496.398 852.126,496.398 852.126,309.816 1098.15,309.816 1098.15,204.242 1344.18,204.242 1344.18,143.975 1590.21,143.975 1590.21,109.561 1836.24,109.561 1836.24,89.8706 2082.27,89.8706 2082.27,78.5369 2328.3,78.5369 2328.3,71.8944 2574.33,71.8944 2574.33,67.816 "></polyline>
<path clip-path="url(#clip660)" d="M371.877 175.153 L628.302 175.153 L628.302 71.4732 L371.877 71.4732  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="371.877,175.153 628.302,175.153 628.302,71.4732 371.877,71.4732 371.877,175.153 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="397.956,123.313 554.431,123.313 "></polyline>
<path clip-path="url(#clip660)" d="M580.51 130.362 L580.51 114.667 L584.769 114.667 L584.769 130.2 Q584.769 133.88 586.204 135.732 Q587.639 137.561 590.51 137.561 Q593.959 137.561 595.95 135.362 Q597.963 133.163 597.963 129.366 L597.963 114.667 L602.223 114.667 L602.223 140.593 L597.963 140.593 L597.963 136.612 Q596.413 138.973 594.352 140.13 Q592.315 141.264 589.607 141.264 Q585.139 141.264 582.825 138.487 Q580.51 135.709 580.51 130.362 M591.227 114.042 L591.227 114.042 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M293.64 1734.12 L2640.76 1734.12 L2640.76 1007.24 L293.64 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip663">
    <rect x="293" y="1007" width="2348" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="360.068,1734.12 360.068,1007.24 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="913.633,1734.12 913.633,1007.24 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1467.2,1734.12 1467.2,1007.24 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2020.76,1734.12 2020.76,1007.24 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2574.33,1734.12 2574.33,1007.24 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1681.11 2640.76,1681.11 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1463.34 2640.76,1463.34 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1245.58 2640.76,1245.58 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1734.12 360.068,1715.22 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="913.633,1734.12 913.633,1715.22 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1467.2,1734.12 1467.2,1715.22 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2020.76,1734.12 2020.76,1715.22 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2574.33,1734.12 2574.33,1715.22 "></polyline>
<path clip-path="url(#clip660)" d="M337.452 1767.34 Q333.841 1767.34 332.013 1770.9 Q330.207 1774.45 330.207 1781.58 Q330.207 1788.68 332.013 1792.25 Q333.841 1795.79 337.452 1795.79 Q341.087 1795.79 342.892 1792.25 Q344.721 1788.68 344.721 1781.58 Q344.721 1774.45 342.892 1770.9 Q341.087 1767.34 337.452 1767.34 M337.452 1763.64 Q343.263 1763.64 346.318 1768.24 Q349.397 1772.83 349.397 1781.58 Q349.397 1790.3 346.318 1794.91 Q343.263 1799.49 337.452 1799.49 Q331.642 1799.49 328.564 1794.91 Q325.508 1790.3 325.508 1781.58 Q325.508 1772.83 328.564 1768.24 Q331.642 1763.64 337.452 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M357.614 1792.94 L362.499 1792.94 L362.499 1798.82 L357.614 1798.82 L357.614 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M382.684 1767.34 Q379.073 1767.34 377.244 1770.9 Q375.438 1774.45 375.438 1781.58 Q375.438 1788.68 377.244 1792.25 Q379.073 1795.79 382.684 1795.79 Q386.318 1795.79 388.123 1792.25 Q389.952 1788.68 389.952 1781.58 Q389.952 1774.45 388.123 1770.9 Q386.318 1767.34 382.684 1767.34 M382.684 1763.64 Q388.494 1763.64 391.549 1768.24 Q394.628 1772.83 394.628 1781.58 Q394.628 1790.3 391.549 1794.91 Q388.494 1799.49 382.684 1799.49 Q376.873 1799.49 373.795 1794.91 Q370.739 1790.3 370.739 1781.58 Q370.739 1772.83 373.795 1768.24 Q376.873 1763.64 382.684 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M885.369 1794.89 L901.689 1794.89 L901.689 1798.82 L879.744 1798.82 L879.744 1794.89 Q882.406 1792.13 886.99 1787.5 Q891.596 1782.85 892.777 1781.51 Q895.022 1778.98 895.902 1777.25 Q896.804 1775.49 896.804 1773.8 Q896.804 1771.04 894.86 1769.31 Q892.939 1767.57 889.837 1767.57 Q887.638 1767.57 885.184 1768.34 Q882.754 1769.1 879.976 1770.65 L879.976 1765.93 Q882.8 1764.79 885.254 1764.21 Q887.707 1763.64 889.744 1763.64 Q895.115 1763.64 898.309 1766.32 Q901.503 1769.01 901.503 1773.5 Q901.503 1775.63 900.693 1777.55 Q899.906 1779.45 897.8 1782.04 Q897.221 1782.71 894.119 1785.93 Q891.017 1789.12 885.369 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M911.503 1792.94 L916.388 1792.94 L916.388 1798.82 L911.503 1798.82 L911.503 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M926.619 1764.26 L944.975 1764.26 L944.975 1768.2 L930.901 1768.2 L930.901 1776.67 Q931.92 1776.32 932.938 1776.16 Q933.957 1775.97 934.975 1775.97 Q940.763 1775.97 944.142 1779.15 Q947.522 1782.32 947.522 1787.73 Q947.522 1793.31 944.05 1796.41 Q940.577 1799.49 934.258 1799.49 Q932.082 1799.49 929.813 1799.12 Q927.568 1798.75 925.161 1798.01 L925.161 1793.31 Q927.244 1794.45 929.466 1795 Q931.688 1795.56 934.165 1795.56 Q938.17 1795.56 940.508 1793.45 Q942.846 1791.34 942.846 1787.73 Q942.846 1784.12 940.508 1782.02 Q938.17 1779.91 934.165 1779.91 Q932.29 1779.91 930.415 1780.33 Q928.563 1780.74 926.619 1781.62 L926.619 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1434.36 1764.26 L1452.72 1764.26 L1452.72 1768.2 L1438.64 1768.2 L1438.64 1776.67 Q1439.66 1776.32 1440.68 1776.16 Q1441.7 1775.97 1442.72 1775.97 Q1448.51 1775.97 1451.89 1779.15 Q1455.27 1782.32 1455.27 1787.73 Q1455.27 1793.31 1451.79 1796.41 Q1448.32 1799.49 1442 1799.49 Q1439.83 1799.49 1437.56 1799.12 Q1435.31 1798.75 1432.9 1798.01 L1432.9 1793.31 Q1434.99 1794.45 1437.21 1795 Q1439.43 1795.56 1441.91 1795.56 Q1445.91 1795.56 1448.25 1793.45 Q1450.59 1791.34 1450.59 1787.73 Q1450.59 1784.12 1448.25 1782.02 Q1445.91 1779.91 1441.91 1779.91 Q1440.03 1779.91 1438.16 1780.33 Q1436.31 1780.74 1434.36 1781.62 L1434.36 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1464.48 1792.94 L1469.36 1792.94 L1469.36 1798.82 L1464.48 1798.82 L1464.48 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1489.55 1767.34 Q1485.94 1767.34 1484.11 1770.9 Q1482.3 1774.45 1482.3 1781.58 Q1482.3 1788.68 1484.11 1792.25 Q1485.94 1795.79 1489.55 1795.79 Q1493.18 1795.79 1494.99 1792.25 Q1496.82 1788.68 1496.82 1781.58 Q1496.82 1774.45 1494.99 1770.9 Q1493.18 1767.34 1489.55 1767.34 M1489.55 1763.64 Q1495.36 1763.64 1498.41 1768.24 Q1501.49 1772.83 1501.49 1781.58 Q1501.49 1790.3 1498.41 1794.91 Q1495.36 1799.49 1489.55 1799.49 Q1483.74 1799.49 1480.66 1794.91 Q1477.6 1790.3 1477.6 1781.58 Q1477.6 1772.83 1480.66 1768.24 Q1483.74 1763.64 1489.55 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1987.08 1764.26 L2009.3 1764.26 L2009.3 1766.25 L1996.76 1798.82 L1991.87 1798.82 L2003.68 1768.2 L1987.08 1768.2 L1987.08 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2018.43 1792.94 L2023.31 1792.94 L2023.31 1798.82 L2018.43 1798.82 L2018.43 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2033.54 1764.26 L2051.9 1764.26 L2051.9 1768.2 L2037.82 1768.2 L2037.82 1776.67 Q2038.84 1776.32 2039.86 1776.16 Q2040.88 1775.97 2041.9 1775.97 Q2047.68 1775.97 2051.06 1779.15 Q2054.44 1782.32 2054.44 1787.73 Q2054.44 1793.31 2050.97 1796.41 Q2047.5 1799.49 2041.18 1799.49 Q2039 1799.49 2036.74 1799.12 Q2034.49 1798.75 2032.08 1798.01 L2032.08 1793.31 Q2034.17 1794.45 2036.39 1795 Q2038.61 1795.56 2041.09 1795.56 Q2045.09 1795.56 2047.43 1793.45 Q2049.77 1791.34 2049.77 1787.73 Q2049.77 1784.12 2047.43 1782.02 Q2045.09 1779.91 2041.09 1779.91 Q2039.21 1779.91 2037.34 1780.33 Q2035.49 1780.74 2033.54 1781.62 L2033.54 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2526.4 1794.89 L2534.04 1794.89 L2534.04 1768.52 L2525.73 1770.19 L2525.73 1765.93 L2533.99 1764.26 L2538.67 1764.26 L2538.67 1794.89 L2546.31 1794.89 L2546.31 1798.82 L2526.4 1798.82 L2526.4 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2565.75 1767.34 Q2562.14 1767.34 2560.31 1770.9 Q2558.51 1774.45 2558.51 1781.58 Q2558.51 1788.68 2560.31 1792.25 Q2562.14 1795.79 2565.75 1795.79 Q2569.39 1795.79 2571.19 1792.25 Q2573.02 1788.68 2573.02 1781.58 Q2573.02 1774.45 2571.19 1770.9 Q2569.39 1767.34 2565.75 1767.34 M2565.75 1763.64 Q2571.56 1763.64 2574.62 1768.24 Q2577.7 1772.83 2577.7 1781.58 Q2577.7 1790.3 2574.62 1794.91 Q2571.56 1799.49 2565.75 1799.49 Q2559.94 1799.49 2556.86 1794.91 Q2553.81 1790.3 2553.81 1781.58 Q2553.81 1772.83 2556.86 1768.24 Q2559.94 1763.64 2565.75 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2585.91 1792.94 L2590.8 1792.94 L2590.8 1798.82 L2585.91 1798.82 L2585.91 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2610.98 1767.34 Q2607.37 1767.34 2605.54 1770.9 Q2603.74 1774.45 2603.74 1781.58 Q2603.74 1788.68 2605.54 1792.25 Q2607.37 1795.79 2610.98 1795.79 Q2614.62 1795.79 2616.42 1792.25 Q2618.25 1788.68 2618.25 1781.58 Q2618.25 1774.45 2616.42 1770.9 Q2614.62 1767.34 2610.98 1767.34 M2610.98 1763.64 Q2616.79 1763.64 2619.85 1768.24 Q2622.93 1772.83 2622.93 1781.58 Q2622.93 1790.3 2619.85 1794.91 Q2616.79 1799.49 2610.98 1799.49 Q2605.17 1799.49 2602.09 1794.91 Q2599.04 1790.3 2599.04 1781.58 Q2599.04 1772.83 2602.09 1768.24 Q2605.17 1763.64 2610.98 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1451.38 1833.78 L1457.27 1833.78 L1457.27 1863.03 L1474.74 1847.65 L1482.22 1847.65 L1463.31 1864.33 L1483.02 1883.3 L1475.38 1883.3 L1457.27 1865.89 L1457.27 1883.3 L1451.38 1883.3 L1451.38 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1734.12 293.64,1007.24 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1681.11 312.538,1681.11 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1463.34 312.538,1463.34 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1245.58 312.538,1245.58 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1027.82 312.538,1027.82 "></polyline>
<path clip-path="url(#clip660)" d="M241.376 1666.91 Q237.765 1666.91 235.936 1670.47 Q234.13 1674.01 234.13 1681.14 Q234.13 1688.25 235.936 1691.81 Q237.765 1695.35 241.376 1695.35 Q245.01 1695.35 246.816 1691.81 Q248.644 1688.25 248.644 1681.14 Q248.644 1674.01 246.816 1670.47 Q245.01 1666.91 241.376 1666.91 M241.376 1663.2 Q247.186 1663.2 250.242 1667.81 Q253.32 1672.39 253.32 1681.14 Q253.32 1689.87 250.242 1694.47 Q247.186 1699.06 241.376 1699.06 Q235.566 1699.06 232.487 1694.47 Q229.431 1689.87 229.431 1681.14 Q229.431 1672.39 232.487 1667.81 Q235.566 1663.2 241.376 1663.2 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M233.413 1476.69 L241.052 1476.69 L241.052 1450.32 L232.742 1451.99 L232.742 1447.73 L241.005 1446.06 L245.681 1446.06 L245.681 1476.69 L253.32 1476.69 L253.32 1480.62 L233.413 1480.62 L233.413 1476.69 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M237.001 1258.92 L253.32 1258.92 L253.32 1262.86 L231.376 1262.86 L231.376 1258.92 Q234.038 1256.17 238.621 1251.54 Q243.228 1246.89 244.408 1245.54 Q246.654 1243.02 247.533 1241.29 Q248.436 1239.53 248.436 1237.84 Q248.436 1235.08 246.492 1233.35 Q244.57 1231.61 241.468 1231.61 Q239.269 1231.61 236.816 1232.37 Q234.385 1233.14 231.607 1234.69 L231.607 1229.97 Q234.431 1228.83 236.885 1228.25 Q239.339 1227.67 241.376 1227.67 Q246.746 1227.67 249.941 1230.36 Q253.135 1233.04 253.135 1237.54 Q253.135 1239.67 252.325 1241.59 Q251.538 1243.48 249.431 1246.08 Q248.853 1246.75 245.751 1249.97 Q242.649 1253.16 237.001 1258.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M246.191 1026.46 Q249.547 1027.18 251.422 1029.45 Q253.32 1031.72 253.32 1035.05 Q253.32 1040.17 249.802 1042.97 Q246.283 1045.77 239.802 1045.77 Q237.626 1045.77 235.311 1045.33 Q233.019 1044.91 230.566 1044.05 L230.566 1039.54 Q232.51 1040.67 234.825 1041.25 Q237.14 1041.83 239.663 1041.83 Q244.061 1041.83 246.353 1040.1 Q248.667 1038.36 248.667 1035.05 Q248.667 1031.99 246.515 1030.28 Q244.385 1028.55 240.566 1028.55 L236.538 1028.55 L236.538 1024.7 L240.751 1024.7 Q244.2 1024.7 246.029 1023.34 Q247.857 1021.95 247.857 1019.36 Q247.857 1016.69 245.959 1015.28 Q244.084 1013.85 240.566 1013.85 Q238.644 1013.85 236.445 1014.26 Q234.246 1014.68 231.607 1015.56 L231.607 1011.39 Q234.269 1010.65 236.584 1010.28 Q238.922 1009.91 240.982 1009.91 Q246.306 1009.91 249.408 1012.34 Q252.51 1014.75 252.51 1018.87 Q252.51 1021.74 250.866 1023.73 Q249.223 1025.7 246.191 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M139.207 1354.07 L156.554 1366.96 L174.855 1353.4 L174.855 1360.3 L160.851 1370.68 L174.855 1381.06 L174.855 1387.96 L156.204 1374.12 L139.207 1386.79 L139.207 1379.88 L151.907 1370.43 L139.207 1360.97 L139.207 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip663)" d="M360.068 1447.34 L344.068 1463.34 L360.068 1479.34 L376.068 1463.34 L360.068 1447.34 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M581.494 1329.7 L565.494 1345.7 L581.494 1361.7 L597.494 1345.7 L581.494 1329.7 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M802.92 1478.42 L786.92 1494.42 L802.92 1510.42 L818.92 1494.42 L802.92 1478.42 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1024.35 1558.49 L1008.35 1574.49 L1024.35 1590.49 L1040.35 1574.49 L1024.35 1558.49 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1245.77 1604.28 L1229.77 1620.28 L1245.77 1636.28 L1261.77 1620.28 L1245.77 1604.28 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1467.2 1630.39 L1451.2 1646.39 L1467.2 1662.39 L1483.2 1646.39 L1467.2 1630.39 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1688.62 1645.27 L1672.62 1661.27 L1688.62 1677.27 L1704.62 1661.27 L1688.62 1645.27 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1910.05 1653.74 L1894.05 1669.74 L1910.05 1685.74 L1926.05 1669.74 L1910.05 1653.74 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M2131.48 1658.54 L2115.48 1674.54 L2131.48 1690.54 L2147.48 1674.54 L2131.48 1658.54 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M2352.9 1661.21 L2336.9 1677.21 L2352.9 1693.21 L2368.9 1677.21 L2352.9 1661.21 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M2574.33 1662.62 L2558.33 1678.62 L2574.33 1694.62 L2590.33 1678.62 L2574.33 1662.62 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip663)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1463.34 581.494,1463.34 581.494,1345.7 802.92,1345.7 802.92,1494.42 1024.35,1494.42 1024.35,1574.49 1245.77,1574.49 1245.77,1620.28 1467.2,1620.28 1467.2,1646.39 1688.62,1646.39 1688.62,1661.27 1910.05,1661.27 1910.05,1669.74 2131.48,1669.74 2131.48,1674.54 2352.9,1674.54 2352.9,1677.21 2574.33,1677.21 2574.33,1678.62 "></polyline>
<path clip-path="url(#clip663)" d="M360.068 1011.82 L344.068 1027.82 L360.068 1043.82 L376.068 1027.82 L360.068 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M581.494 1697.55 L565.494 1713.55 L581.494 1729.55 L597.494 1713.55 L581.494 1697.55 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M802.92 1674.67 L786.92 1690.67 L802.92 1706.67 L818.92 1690.67 L802.92 1674.67 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1024.35 1670.76 L1008.35 1686.76 L1024.35 1702.76 L1040.35 1686.76 L1024.35 1670.76 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1245.77 1668.31 L1229.77 1684.31 L1245.77 1700.31 L1261.77 1684.31 L1245.77 1668.31 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1467.2 1666.92 L1451.2 1682.92 L1467.2 1698.92 L1483.2 1682.92 L1467.2 1666.92 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1688.62 1666.1 L1672.62 1682.1 L1688.62 1698.1 L1704.62 1682.1 L1688.62 1666.1 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1910.05 1665.61 L1894.05 1681.61 L1910.05 1697.61 L1926.05 1681.61 L1910.05 1665.61 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M2131.48 1665.29 L2115.48 1681.29 L2131.48 1697.29 L2147.48 1681.29 L2131.48 1665.29 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M2352.9 1665.02 L2336.9 1681.02 L2352.9 1697.02 L2368.9 1681.02 L2352.9 1665.02 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M2574.33 1664.74 L2558.33 1680.74 L2574.33 1696.74 L2590.33 1680.74 L2574.33 1664.74 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip663)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1027.82 581.494,1027.82 581.494,1713.55 802.92,1713.55 802.92,1690.67 1024.35,1690.67 1024.35,1686.76 1245.77,1686.76 1245.77,1684.31 1467.2,1684.31 1467.2,1682.92 1688.62,1682.92 1688.62,1682.1 1910.05,1682.1 1910.05,1681.61 2131.48,1681.61 2131.48,1681.29 2352.9,1681.29 2352.9,1681.02 2574.33,1681.02 2574.33,1680.74 "></polyline>
<path clip-path="url(#clip660)" d="M2284.71 1186.99 L2562.52 1186.99 L2562.52 1031.47 L2284.71 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2284.71,1186.99 2562.52,1186.99 2562.52,1031.47 2284.71,1031.47 2284.71,1186.99 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2310.78,1083.31 2467.26,1083.31 "></polyline>
<path clip-path="url(#clip660)" d="M2517.99 1074.67 L2508.62 1087.28 L2518.48 1100.59 L2513.45 1100.59 L2505.91 1090.41 L2498.36 1100.59 L2493.34 1100.59 L2503.41 1087.03 L2494.19 1074.67 L2499.22 1074.67 L2506.09 1083.9 L2512.97 1074.67 L2517.99 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2523.64 1098.05 L2528.36 1098.05 L2528.36 1083.9 L2523.2 1084.85 L2523.2 1082.17 L2528.52 1081.26 L2531.69 1081.26 L2531.69 1098.05 L2536.44 1098.05 L2536.44 1100.59 L2523.64 1100.59 L2523.64 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip660)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2310.78,1135.15 2467.26,1135.15 "></polyline>
<path clip-path="url(#clip660)" d="M2517.99 1126.51 L2508.62 1139.12 L2518.48 1152.43 L2513.45 1152.43 L2505.91 1142.25 L2498.36 1152.43 L2493.34 1152.43 L2503.41 1138.87 L2494.19 1126.51 L2499.22 1126.51 L2506.09 1135.74 L2512.97 1126.51 L2517.99 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2526.23 1149.79 L2536.05 1149.79 L2536.05 1152.43 L2522.2 1152.43 L2522.2 1149.89 Q2522.99 1149.17 2524.45 1147.87 Q2532.41 1140.81 2532.41 1138.64 Q2532.41 1137.11 2531.21 1136.18 Q2530 1135.23 2528.04 1135.23 Q2526.83 1135.23 2525.42 1135.65 Q2524.01 1136.04 2522.34 1136.85 L2522.34 1134.01 Q2524.12 1133.36 2525.65 1133.04 Q2527.2 1132.71 2528.52 1132.71 Q2531.88 1132.71 2533.89 1134.24 Q2535.91 1135.77 2535.91 1138.27 Q2535.91 1141.48 2528.25 1148.06 Q2526.95 1149.17 2526.23 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
<section id="adding-constraints-on-controls-and-states" class="level3">
<h3 class="anchored" data-anchor-id="adding-constraints-on-controls-and-states">Adding constraints on controls and states</h3>
<p>When solving a realistic optimal control problem, we may want to impose inequality constraints on <span class="math inline">\bm u_k</span> due to saturation of actuators. We may also want to add constraints on <span class="math inline">\bm x_k</span> as well, which may reflect some performance specifications. In both cases, we would arrive at the full KKT conditions, and rather than trying to solve these, we resort to some finetuned numerical solver for quadratic programming (QP) instead.</p>
<div id="exm-direct-simultaneous-constrained-using-jump" class="theorem example">
<p><span class="theorem-title"><strong>Example 2 (Simultaneous approach to the LQR problem with constraints on control – higher-level implementation using optimization modelling language JuMP)</strong></span> While developing the model all the way down to the individual matrices and vectors gives an insight into the structure of the problem (we learnt that in absence of constraints it amounts to solving an indefinite system of linear equations), here we show how the use of an optimization modelling language can make the process of building the model a lot more convenient. We use JuMP for this purpose, but things would be similar with, say, cvxpy in Python or Yalmip in Matlab.</p>
<div id="4" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">JuMP</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">OSQP</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>umin <span class="op">=</span> <span class="op">-</span><span class="fl">1.0</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>umax <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>ocp <span class="op">=</span> <span class="fu">Model</span>(OSQP.Optimizer)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="fu">set_silent</span>(ocp)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="pp">@variable</span>(ocp, umin <span class="op">&lt;=</span> u[<span class="fl">1</span><span class="op">:</span>N] <span class="op">&lt;=</span> umax)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="pp">@variable</span>(ocp, x[<span class="fl">1</span><span class="op">:</span>n,<span class="fl">1</span><span class="op">:</span>N<span class="op">+</span><span class="fl">1</span>])</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@constraint</span>(ocp, x[<span class="op">:</span>,i<span class="op">+</span><span class="fl">1</span>] <span class="op">==</span> A<span class="op">*</span>x[<span class="op">:</span>,i] <span class="op">+</span> B<span class="op">*</span>u[i])</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="fu">fix</span>(x[<span class="fl">1</span>,<span class="fl">1</span>], x₀[<span class="fl">1</span>])</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="fu">fix</span>(x[<span class="fl">2</span>,<span class="fl">1</span>], x₀[<span class="fl">2</span>])</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="pp">@objective</span>(ocp, Min, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="fu">*dot</span>(x[<span class="op">:</span>,N],S,x[<span class="op">:</span>,N]) <span class="op">+</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="fu">*sum</span>(<span class="fu">dot</span>(x[<span class="op">:</span>,i],Q,x[<span class="op">:</span>,i]) <span class="op">+</span> <span class="fu">dot</span>(u[i],R,u[i]) <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>N<span class="op">-</span><span class="fl">1</span>))</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a><span class="fu">optimize!</span>(ocp)</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>uopt <span class="op">=</span> <span class="fu">value</span>.(u)</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>xopt <span class="op">=</span> <span class="fu">value</span>.(x)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,xopt<span class="op">'</span>,marker<span class="op">=:</span>diamond,label<span class="op">=</span>[<span class="st">"x₁"</span> <span class="st">"x₂"</span>],linetype<span class="op">=:</span>steppost)</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip720">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip720)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip721">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip720)" d="M293.64 774.117 L2640.76 774.117 L2640.76 47.2441 L293.64 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip722">
    <rect x="293" y="47" width="2348" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="360.068,774.117 360.068,47.2441 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="852.126,774.117 852.126,47.2441 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1344.18,774.117 1344.18,47.2441 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1836.24,774.117 1836.24,47.2441 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2328.3,774.117 2328.3,47.2441 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,751.216 2640.76,751.216 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,580.366 2640.76,580.366 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,409.516 2640.76,409.516 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,238.666 2640.76,238.666 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,67.8159 2640.76,67.8159 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,774.117 360.068,755.219 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="852.126,774.117 852.126,755.219 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1344.18,774.117 1344.18,755.219 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1836.24,774.117 1836.24,755.219 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2328.3,774.117 2328.3,755.219 "></polyline>
<path clip-path="url(#clip720)" d="M360.068 807.34 Q356.457 807.34 354.628 810.904 Q352.823 814.446 352.823 821.576 Q352.823 828.682 354.628 832.247 Q356.457 835.789 360.068 835.789 Q363.702 835.789 365.508 832.247 Q367.336 828.682 367.336 821.576 Q367.336 814.446 365.508 810.904 Q363.702 807.34 360.068 807.34 M360.068 803.636 Q365.878 803.636 368.934 808.242 Q372.012 812.826 372.012 821.576 Q372.012 830.303 368.934 834.909 Q365.878 839.492 360.068 839.492 Q354.258 839.492 351.179 834.909 Q348.124 830.303 348.124 821.576 Q348.124 812.826 351.179 808.242 Q354.258 803.636 360.068 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M846.779 834.886 L863.098 834.886 L863.098 838.821 L841.154 838.821 L841.154 834.886 Q843.816 832.131 848.399 827.502 Q853.005 822.849 854.186 821.506 Q856.431 818.983 857.311 817.247 Q858.214 815.488 858.214 813.798 Q858.214 811.043 856.269 809.307 Q854.348 807.571 851.246 807.571 Q849.047 807.571 846.593 808.335 Q844.163 809.099 841.385 810.65 L841.385 805.928 Q844.209 804.793 846.663 804.215 Q849.117 803.636 851.154 803.636 Q856.524 803.636 859.718 806.321 Q862.913 809.006 862.913 813.497 Q862.913 815.627 862.103 817.548 Q861.316 819.446 859.209 822.039 Q858.63 822.71 855.529 825.928 Q852.427 829.122 846.779 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1347.19 808.335 L1335.39 826.784 L1347.19 826.784 L1347.19 808.335 M1345.97 804.261 L1351.85 804.261 L1351.85 826.784 L1356.78 826.784 L1356.78 830.673 L1351.85 830.673 L1351.85 838.821 L1347.19 838.821 L1347.19 830.673 L1331.59 830.673 L1331.59 826.159 L1345.97 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1836.65 819.678 Q1833.5 819.678 1831.65 821.83 Q1829.82 823.983 1829.82 827.733 Q1829.82 831.46 1831.65 833.636 Q1833.5 835.789 1836.65 835.789 Q1839.79 835.789 1841.62 833.636 Q1843.48 831.46 1843.48 827.733 Q1843.48 823.983 1841.62 821.83 Q1839.79 819.678 1836.65 819.678 M1845.93 805.025 L1845.93 809.284 Q1844.17 808.451 1842.36 808.011 Q1840.58 807.571 1838.82 807.571 Q1834.19 807.571 1831.74 810.696 Q1829.31 813.821 1828.96 820.141 Q1830.33 818.127 1832.39 817.062 Q1834.45 815.974 1836.92 815.974 Q1842.13 815.974 1845.14 819.145 Q1848.17 822.293 1848.17 827.733 Q1848.17 833.057 1845.03 836.275 Q1841.88 839.492 1836.65 839.492 Q1830.65 839.492 1827.48 834.909 Q1824.31 830.303 1824.31 821.576 Q1824.31 813.381 1828.2 808.52 Q1832.09 803.636 1838.64 803.636 Q1840.4 803.636 1842.18 803.983 Q1843.98 804.33 1845.93 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2328.3 822.409 Q2324.97 822.409 2323.04 824.191 Q2321.15 825.974 2321.15 829.099 Q2321.15 832.224 2323.04 834.006 Q2324.97 835.789 2328.3 835.789 Q2331.63 835.789 2333.55 834.006 Q2335.48 832.201 2335.48 829.099 Q2335.48 825.974 2333.55 824.191 Q2331.66 822.409 2328.3 822.409 M2323.62 820.418 Q2320.61 819.678 2318.92 817.617 Q2317.26 815.557 2317.26 812.594 Q2317.26 808.451 2320.2 806.043 Q2323.16 803.636 2328.3 803.636 Q2333.46 803.636 2336.4 806.043 Q2339.34 808.451 2339.34 812.594 Q2339.34 815.557 2337.65 817.617 Q2335.98 819.678 2333 820.418 Q2336.38 821.205 2338.25 823.497 Q2340.15 825.789 2340.15 829.099 Q2340.15 834.122 2337.07 836.807 Q2334.02 839.492 2328.3 839.492 Q2322.58 839.492 2319.5 836.807 Q2316.45 834.122 2316.45 829.099 Q2316.45 825.789 2318.35 823.497 Q2320.24 821.205 2323.62 820.418 M2321.91 813.034 Q2321.91 815.719 2323.58 817.224 Q2325.27 818.729 2328.3 818.729 Q2331.31 818.729 2333 817.224 Q2334.71 815.719 2334.71 813.034 Q2334.71 810.349 2333 808.844 Q2331.31 807.34 2328.3 807.34 Q2325.27 807.34 2323.58 808.844 Q2321.91 810.349 2321.91 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1451.38 873.776 L1457.27 873.776 L1457.27 903.026 L1474.74 887.653 L1482.22 887.653 L1463.31 904.331 L1483.02 923.301 L1475.38 923.301 L1457.27 905.891 L1457.27 923.301 L1451.38 923.301 L1451.38 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,774.117 293.64,47.2441 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,751.216 312.538,751.216 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,580.366 312.538,580.366 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,409.516 312.538,409.516 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,238.666 312.538,238.666 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,67.8159 312.538,67.8159 "></polyline>
<path clip-path="url(#clip720)" d="M116.214 751.667 L145.89 751.667 L145.89 755.603 L116.214 755.603 L116.214 751.667 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M156.793 764.561 L164.432 764.561 L164.432 738.195 L156.122 739.862 L156.122 735.603 L164.385 733.936 L169.061 733.936 L169.061 764.561 L176.7 764.561 L176.7 768.496 L156.793 768.496 L156.793 764.561 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M186.145 762.616 L191.029 762.616 L191.029 768.496 L186.145 768.496 L186.145 762.616 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M211.214 737.015 Q207.603 737.015 205.774 740.579 Q203.969 744.121 203.969 751.251 Q203.969 758.357 205.774 761.922 Q207.603 765.464 211.214 765.464 Q214.848 765.464 216.654 761.922 Q218.482 758.357 218.482 751.251 Q218.482 744.121 216.654 740.579 Q214.848 737.015 211.214 737.015 M211.214 733.311 Q217.024 733.311 220.08 737.917 Q223.158 742.501 223.158 751.251 Q223.158 759.978 220.08 764.584 Q217.024 769.167 211.214 769.167 Q205.404 769.167 202.325 764.584 Q199.27 759.978 199.27 751.251 Q199.27 742.501 202.325 737.917 Q205.404 733.311 211.214 733.311 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M241.376 737.015 Q237.765 737.015 235.936 740.579 Q234.13 744.121 234.13 751.251 Q234.13 758.357 235.936 761.922 Q237.765 765.464 241.376 765.464 Q245.01 765.464 246.816 761.922 Q248.644 758.357 248.644 751.251 Q248.644 744.121 246.816 740.579 Q245.01 737.015 241.376 737.015 M241.376 733.311 Q247.186 733.311 250.242 737.917 Q253.32 742.501 253.32 751.251 Q253.32 759.978 250.242 764.584 Q247.186 769.167 241.376 769.167 Q235.566 769.167 232.487 764.584 Q229.431 759.978 229.431 751.251 Q229.431 742.501 232.487 737.917 Q235.566 733.311 241.376 733.311 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M117.21 580.817 L146.886 580.817 L146.886 584.753 L117.21 584.753 L117.21 580.817 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M166.978 566.165 Q163.367 566.165 161.538 569.729 Q159.733 573.271 159.733 580.401 Q159.733 587.507 161.538 591.072 Q163.367 594.614 166.978 594.614 Q170.612 594.614 172.418 591.072 Q174.247 587.507 174.247 580.401 Q174.247 573.271 172.418 569.729 Q170.612 566.165 166.978 566.165 M166.978 562.461 Q172.788 562.461 175.844 567.067 Q178.922 571.651 178.922 580.401 Q178.922 589.128 175.844 593.734 Q172.788 598.317 166.978 598.317 Q161.168 598.317 158.089 593.734 Q155.034 589.128 155.034 580.401 Q155.034 571.651 158.089 567.067 Q161.168 562.461 166.978 562.461 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M187.14 591.766 L192.024 591.766 L192.024 597.646 L187.14 597.646 L187.14 591.766 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M201.029 563.086 L223.251 563.086 L223.251 565.077 L210.705 597.646 L205.82 597.646 L217.626 567.021 L201.029 567.021 L201.029 563.086 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M232.418 563.086 L250.774 563.086 L250.774 567.021 L236.7 567.021 L236.7 575.493 Q237.718 575.146 238.737 574.984 Q239.755 574.799 240.774 574.799 Q246.561 574.799 249.941 577.97 Q253.32 581.141 253.32 586.558 Q253.32 592.137 249.848 595.239 Q246.376 598.317 240.056 598.317 Q237.88 598.317 235.612 597.947 Q233.367 597.577 230.959 596.836 L230.959 592.137 Q233.043 593.271 235.265 593.827 Q237.487 594.382 239.964 594.382 Q243.968 594.382 246.306 592.276 Q248.644 590.169 248.644 586.558 Q248.644 582.947 246.306 580.841 Q243.968 578.734 239.964 578.734 Q238.089 578.734 236.214 579.151 Q234.362 579.567 232.418 580.447 L232.418 563.086 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M116.214 409.967 L145.89 409.967 L145.89 413.903 L116.214 413.903 L116.214 409.967 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M165.983 395.315 Q162.372 395.315 160.543 398.879 Q158.737 402.421 158.737 409.551 Q158.737 416.657 160.543 420.222 Q162.372 423.764 165.983 423.764 Q169.617 423.764 171.422 420.222 Q173.251 416.657 173.251 409.551 Q173.251 402.421 171.422 398.879 Q169.617 395.315 165.983 395.315 M165.983 391.611 Q171.793 391.611 174.848 396.217 Q177.927 400.801 177.927 409.551 Q177.927 418.278 174.848 422.884 Q171.793 427.467 165.983 427.467 Q160.173 427.467 157.094 422.884 Q154.038 418.278 154.038 409.551 Q154.038 400.801 157.094 396.217 Q160.173 391.611 165.983 391.611 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M186.145 420.916 L191.029 420.916 L191.029 426.796 L186.145 426.796 L186.145 420.916 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M201.26 392.236 L219.617 392.236 L219.617 396.171 L205.543 396.171 L205.543 404.643 Q206.561 404.296 207.58 404.134 Q208.598 403.949 209.617 403.949 Q215.404 403.949 218.783 407.12 Q222.163 410.291 222.163 415.708 Q222.163 421.287 218.691 424.389 Q215.219 427.467 208.899 427.467 Q206.723 427.467 204.455 427.097 Q202.209 426.727 199.802 425.986 L199.802 421.287 Q201.885 422.421 204.107 422.977 Q206.33 423.532 208.807 423.532 Q212.811 423.532 215.149 421.426 Q217.487 419.319 217.487 415.708 Q217.487 412.097 215.149 409.991 Q212.811 407.884 208.807 407.884 Q206.932 407.884 205.057 408.301 Q203.205 408.717 201.26 409.597 L201.26 392.236 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M241.376 395.315 Q237.765 395.315 235.936 398.879 Q234.13 402.421 234.13 409.551 Q234.13 416.657 235.936 420.222 Q237.765 423.764 241.376 423.764 Q245.01 423.764 246.816 420.222 Q248.644 416.657 248.644 409.551 Q248.644 402.421 246.816 398.879 Q245.01 395.315 241.376 395.315 M241.376 391.611 Q247.186 391.611 250.242 396.217 Q253.32 400.801 253.32 409.551 Q253.32 418.278 250.242 422.884 Q247.186 427.467 241.376 427.467 Q235.566 427.467 232.487 422.884 Q229.431 418.278 229.431 409.551 Q229.431 400.801 232.487 396.217 Q235.566 391.611 241.376 391.611 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M117.21 239.117 L146.886 239.117 L146.886 243.053 L117.21 243.053 L117.21 239.117 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M166.978 224.465 Q163.367 224.465 161.538 228.029 Q159.733 231.571 159.733 238.701 Q159.733 245.807 161.538 249.372 Q163.367 252.914 166.978 252.914 Q170.612 252.914 172.418 249.372 Q174.247 245.807 174.247 238.701 Q174.247 231.571 172.418 228.029 Q170.612 224.465 166.978 224.465 M166.978 220.761 Q172.788 220.761 175.844 225.367 Q178.922 229.951 178.922 238.701 Q178.922 247.427 175.844 252.034 Q172.788 256.617 166.978 256.617 Q161.168 256.617 158.089 252.034 Q155.034 247.427 155.034 238.701 Q155.034 229.951 158.089 225.367 Q161.168 220.761 166.978 220.761 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M187.14 250.066 L192.024 250.066 L192.024 255.946 L187.14 255.946 L187.14 250.066 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M206.237 252.011 L222.556 252.011 L222.556 255.946 L200.612 255.946 L200.612 252.011 Q203.274 249.256 207.857 244.627 Q212.464 239.974 213.644 238.631 Q215.89 236.108 216.769 234.372 Q217.672 232.613 217.672 230.923 Q217.672 228.168 215.728 226.432 Q213.807 224.696 210.705 224.696 Q208.506 224.696 206.052 225.46 Q203.621 226.224 200.844 227.775 L200.844 223.053 Q203.668 221.918 206.121 221.34 Q208.575 220.761 210.612 220.761 Q215.982 220.761 219.177 223.446 Q222.371 226.131 222.371 230.622 Q222.371 232.752 221.561 234.673 Q220.774 236.571 218.668 239.164 Q218.089 239.835 214.987 243.053 Q211.885 246.247 206.237 252.011 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M232.418 221.386 L250.774 221.386 L250.774 225.321 L236.7 225.321 L236.7 233.793 Q237.718 233.446 238.737 233.284 Q239.755 233.099 240.774 233.099 Q246.561 233.099 249.941 236.27 Q253.32 239.441 253.32 244.858 Q253.32 250.437 249.848 253.539 Q246.376 256.617 240.056 256.617 Q237.88 256.617 235.612 256.247 Q233.367 255.877 230.959 255.136 L230.959 250.437 Q233.043 251.571 235.265 252.127 Q237.487 252.682 239.964 252.682 Q243.968 252.682 246.306 250.576 Q248.644 248.469 248.644 244.858 Q248.644 241.247 246.306 239.14 Q243.968 237.034 239.964 237.034 Q238.089 237.034 236.214 237.451 Q234.362 237.867 232.418 238.747 L232.418 221.386 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M165.983 53.6146 Q162.372 53.6146 160.543 57.1794 Q158.737 60.7211 158.737 67.8507 Q158.737 74.9571 160.543 78.5219 Q162.372 82.0636 165.983 82.0636 Q169.617 82.0636 171.422 78.5219 Q173.251 74.9571 173.251 67.8507 Q173.251 60.7211 171.422 57.1794 Q169.617 53.6146 165.983 53.6146 M165.983 49.911 Q171.793 49.911 174.848 54.5174 Q177.927 59.1007 177.927 67.8507 Q177.927 76.5775 174.848 81.1839 Q171.793 85.7672 165.983 85.7672 Q160.173 85.7672 157.094 81.1839 Q154.038 76.5775 154.038 67.8507 Q154.038 59.1007 157.094 54.5174 Q160.173 49.911 165.983 49.911 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M186.145 79.2163 L191.029 79.2163 L191.029 85.0959 L186.145 85.0959 L186.145 79.2163 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M211.214 53.6146 Q207.603 53.6146 205.774 57.1794 Q203.969 60.7211 203.969 67.8507 Q203.969 74.9571 205.774 78.5219 Q207.603 82.0636 211.214 82.0636 Q214.848 82.0636 216.654 78.5219 Q218.482 74.9571 218.482 67.8507 Q218.482 60.7211 216.654 57.1794 Q214.848 53.6146 211.214 53.6146 M211.214 49.911 Q217.024 49.911 220.08 54.5174 Q223.158 59.1007 223.158 67.8507 Q223.158 76.5775 220.08 81.1839 Q217.024 85.7672 211.214 85.7672 Q205.404 85.7672 202.325 81.1839 Q199.27 76.5775 199.27 67.8507 Q199.27 59.1007 202.325 54.5174 Q205.404 49.911 211.214 49.911 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M241.376 53.6146 Q237.765 53.6146 235.936 57.1794 Q234.13 60.7211 234.13 67.8507 Q234.13 74.9571 235.936 78.5219 Q237.765 82.0636 241.376 82.0636 Q245.01 82.0636 246.816 78.5219 Q248.644 74.9571 248.644 67.8507 Q248.644 60.7211 246.816 57.1794 Q245.01 53.6146 241.376 53.6146 M241.376 49.911 Q247.186 49.911 250.242 54.5174 Q253.32 59.1007 253.32 67.8507 Q253.32 76.5775 250.242 81.1839 Q247.186 85.7672 241.376 85.7672 Q235.566 85.7672 232.487 81.1839 Q229.431 76.5775 229.431 67.8507 Q229.431 59.1007 232.487 54.5174 Q235.566 49.911 241.376 49.911 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip722)" d="M360.068 737.545 L344.068 753.545 L360.068 769.545 L376.068 753.545 L360.068 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M606.097 737.004 L590.097 753.004 L606.097 769.004 L622.097 753.004 L606.097 737.004 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M852.126 736.563 L836.126 752.563 L852.126 768.563 L868.126 752.563 L852.126 736.563 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M1098.15 736.197 L1082.15 752.197 L1098.15 768.197 L1114.15 752.197 L1098.15 736.197 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M1344.18 735.884 L1328.18 751.884 L1344.18 767.884 L1360.18 751.884 L1344.18 735.884 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M1590.21 735.606 L1574.21 751.606 L1590.21 767.606 L1606.21 751.606 L1590.21 735.606 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M1836.24 334.891 L1820.24 350.891 L1836.24 366.891 L1852.24 350.891 L1836.24 334.891 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M2082.27 156.168 L2066.27 172.168 L2082.27 188.168 L2098.27 172.168 L2082.27 156.168 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M2328.3 87.7142 L2312.3 103.714 L2328.3 119.714 L2344.3 103.714 L2328.3 87.7142 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M2574.33 51.816 L2558.33 67.816 L2574.33 83.816 L2590.33 67.816 L2574.33 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip722)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,753.545 606.097,753.545 606.097,753.004 852.126,753.004 852.126,752.563 1098.15,752.563 1098.15,752.197 1344.18,752.197 1344.18,751.884 1590.21,751.884 1590.21,751.606 1836.24,751.606 1836.24,350.891 2082.27,350.891 2082.27,172.168 2328.3,172.168 2328.3,103.714 2574.33,103.714 2574.33,67.816 "></polyline>
<path clip-path="url(#clip720)" d="M371.877 175.153 L628.302 175.153 L628.302 71.4732 L371.877 71.4732  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="371.877,175.153 628.302,175.153 628.302,71.4732 371.877,71.4732 371.877,175.153 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="397.956,123.313 554.431,123.313 "></polyline>
<path clip-path="url(#clip720)" d="M580.51 130.362 L580.51 114.667 L584.769 114.667 L584.769 130.2 Q584.769 133.88 586.204 135.732 Q587.639 137.561 590.51 137.561 Q593.959 137.561 595.95 135.362 Q597.963 133.163 597.963 129.366 L597.963 114.667 L602.223 114.667 L602.223 140.593 L597.963 140.593 L597.963 136.612 Q596.413 138.973 594.352 140.13 Q592.315 141.264 589.607 141.264 Q585.139 141.264 582.825 138.487 Q580.51 135.709 580.51 130.362 M591.227 114.042 L591.227 114.042 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M293.64 1734.12 L2640.76 1734.12 L2640.76 1007.24 L293.64 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip723">
    <rect x="293" y="1007" width="2348" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="360.068,1734.12 360.068,1007.24 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="913.633,1734.12 913.633,1007.24 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1467.2,1734.12 1467.2,1007.24 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2020.76,1734.12 2020.76,1007.24 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2574.33,1734.12 2574.33,1007.24 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1716.26 2640.76,1716.26 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1486.78 2640.76,1486.78 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1257.3 2640.76,1257.3 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1734.12 360.068,1715.22 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="913.633,1734.12 913.633,1715.22 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1467.2,1734.12 1467.2,1715.22 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2020.76,1734.12 2020.76,1715.22 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2574.33,1734.12 2574.33,1715.22 "></polyline>
<path clip-path="url(#clip720)" d="M337.452 1767.34 Q333.841 1767.34 332.013 1770.9 Q330.207 1774.45 330.207 1781.58 Q330.207 1788.68 332.013 1792.25 Q333.841 1795.79 337.452 1795.79 Q341.087 1795.79 342.892 1792.25 Q344.721 1788.68 344.721 1781.58 Q344.721 1774.45 342.892 1770.9 Q341.087 1767.34 337.452 1767.34 M337.452 1763.64 Q343.263 1763.64 346.318 1768.24 Q349.397 1772.83 349.397 1781.58 Q349.397 1790.3 346.318 1794.91 Q343.263 1799.49 337.452 1799.49 Q331.642 1799.49 328.564 1794.91 Q325.508 1790.3 325.508 1781.58 Q325.508 1772.83 328.564 1768.24 Q331.642 1763.64 337.452 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M357.614 1792.94 L362.499 1792.94 L362.499 1798.82 L357.614 1798.82 L357.614 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M382.684 1767.34 Q379.073 1767.34 377.244 1770.9 Q375.438 1774.45 375.438 1781.58 Q375.438 1788.68 377.244 1792.25 Q379.073 1795.79 382.684 1795.79 Q386.318 1795.79 388.123 1792.25 Q389.952 1788.68 389.952 1781.58 Q389.952 1774.45 388.123 1770.9 Q386.318 1767.34 382.684 1767.34 M382.684 1763.64 Q388.494 1763.64 391.549 1768.24 Q394.628 1772.83 394.628 1781.58 Q394.628 1790.3 391.549 1794.91 Q388.494 1799.49 382.684 1799.49 Q376.873 1799.49 373.795 1794.91 Q370.739 1790.3 370.739 1781.58 Q370.739 1772.83 373.795 1768.24 Q376.873 1763.64 382.684 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M885.369 1794.89 L901.689 1794.89 L901.689 1798.82 L879.744 1798.82 L879.744 1794.89 Q882.406 1792.13 886.99 1787.5 Q891.596 1782.85 892.777 1781.51 Q895.022 1778.98 895.902 1777.25 Q896.804 1775.49 896.804 1773.8 Q896.804 1771.04 894.86 1769.31 Q892.939 1767.57 889.837 1767.57 Q887.638 1767.57 885.184 1768.34 Q882.754 1769.1 879.976 1770.65 L879.976 1765.93 Q882.8 1764.79 885.254 1764.21 Q887.707 1763.64 889.744 1763.64 Q895.115 1763.64 898.309 1766.32 Q901.503 1769.01 901.503 1773.5 Q901.503 1775.63 900.693 1777.55 Q899.906 1779.45 897.8 1782.04 Q897.221 1782.71 894.119 1785.93 Q891.017 1789.12 885.369 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M911.503 1792.94 L916.388 1792.94 L916.388 1798.82 L911.503 1798.82 L911.503 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M926.619 1764.26 L944.975 1764.26 L944.975 1768.2 L930.901 1768.2 L930.901 1776.67 Q931.92 1776.32 932.938 1776.16 Q933.957 1775.97 934.975 1775.97 Q940.763 1775.97 944.142 1779.15 Q947.522 1782.32 947.522 1787.73 Q947.522 1793.31 944.05 1796.41 Q940.577 1799.49 934.258 1799.49 Q932.082 1799.49 929.813 1799.12 Q927.568 1798.75 925.161 1798.01 L925.161 1793.31 Q927.244 1794.45 929.466 1795 Q931.688 1795.56 934.165 1795.56 Q938.17 1795.56 940.508 1793.45 Q942.846 1791.34 942.846 1787.73 Q942.846 1784.12 940.508 1782.02 Q938.17 1779.91 934.165 1779.91 Q932.29 1779.91 930.415 1780.33 Q928.563 1780.74 926.619 1781.62 L926.619 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1434.36 1764.26 L1452.72 1764.26 L1452.72 1768.2 L1438.64 1768.2 L1438.64 1776.67 Q1439.66 1776.32 1440.68 1776.16 Q1441.7 1775.97 1442.72 1775.97 Q1448.51 1775.97 1451.89 1779.15 Q1455.27 1782.32 1455.27 1787.73 Q1455.27 1793.31 1451.79 1796.41 Q1448.32 1799.49 1442 1799.49 Q1439.83 1799.49 1437.56 1799.12 Q1435.31 1798.75 1432.9 1798.01 L1432.9 1793.31 Q1434.99 1794.45 1437.21 1795 Q1439.43 1795.56 1441.91 1795.56 Q1445.91 1795.56 1448.25 1793.45 Q1450.59 1791.34 1450.59 1787.73 Q1450.59 1784.12 1448.25 1782.02 Q1445.91 1779.91 1441.91 1779.91 Q1440.03 1779.91 1438.16 1780.33 Q1436.31 1780.74 1434.36 1781.62 L1434.36 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1464.48 1792.94 L1469.36 1792.94 L1469.36 1798.82 L1464.48 1798.82 L1464.48 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1489.55 1767.34 Q1485.94 1767.34 1484.11 1770.9 Q1482.3 1774.45 1482.3 1781.58 Q1482.3 1788.68 1484.11 1792.25 Q1485.94 1795.79 1489.55 1795.79 Q1493.18 1795.79 1494.99 1792.25 Q1496.82 1788.68 1496.82 1781.58 Q1496.82 1774.45 1494.99 1770.9 Q1493.18 1767.34 1489.55 1767.34 M1489.55 1763.64 Q1495.36 1763.64 1498.41 1768.24 Q1501.49 1772.83 1501.49 1781.58 Q1501.49 1790.3 1498.41 1794.91 Q1495.36 1799.49 1489.55 1799.49 Q1483.74 1799.49 1480.66 1794.91 Q1477.6 1790.3 1477.6 1781.58 Q1477.6 1772.83 1480.66 1768.24 Q1483.74 1763.64 1489.55 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1987.08 1764.26 L2009.3 1764.26 L2009.3 1766.25 L1996.76 1798.82 L1991.87 1798.82 L2003.68 1768.2 L1987.08 1768.2 L1987.08 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2018.43 1792.94 L2023.31 1792.94 L2023.31 1798.82 L2018.43 1798.82 L2018.43 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2033.54 1764.26 L2051.9 1764.26 L2051.9 1768.2 L2037.82 1768.2 L2037.82 1776.67 Q2038.84 1776.32 2039.86 1776.16 Q2040.88 1775.97 2041.9 1775.97 Q2047.68 1775.97 2051.06 1779.15 Q2054.44 1782.32 2054.44 1787.73 Q2054.44 1793.31 2050.97 1796.41 Q2047.5 1799.49 2041.18 1799.49 Q2039 1799.49 2036.74 1799.12 Q2034.49 1798.75 2032.08 1798.01 L2032.08 1793.31 Q2034.17 1794.45 2036.39 1795 Q2038.61 1795.56 2041.09 1795.56 Q2045.09 1795.56 2047.43 1793.45 Q2049.77 1791.34 2049.77 1787.73 Q2049.77 1784.12 2047.43 1782.02 Q2045.09 1779.91 2041.09 1779.91 Q2039.21 1779.91 2037.34 1780.33 Q2035.49 1780.74 2033.54 1781.62 L2033.54 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2526.4 1794.89 L2534.04 1794.89 L2534.04 1768.52 L2525.73 1770.19 L2525.73 1765.93 L2533.99 1764.26 L2538.67 1764.26 L2538.67 1794.89 L2546.31 1794.89 L2546.31 1798.82 L2526.4 1798.82 L2526.4 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2565.75 1767.34 Q2562.14 1767.34 2560.31 1770.9 Q2558.51 1774.45 2558.51 1781.58 Q2558.51 1788.68 2560.31 1792.25 Q2562.14 1795.79 2565.75 1795.79 Q2569.39 1795.79 2571.19 1792.25 Q2573.02 1788.68 2573.02 1781.58 Q2573.02 1774.45 2571.19 1770.9 Q2569.39 1767.34 2565.75 1767.34 M2565.75 1763.64 Q2571.56 1763.64 2574.62 1768.24 Q2577.7 1772.83 2577.7 1781.58 Q2577.7 1790.3 2574.62 1794.91 Q2571.56 1799.49 2565.75 1799.49 Q2559.94 1799.49 2556.86 1794.91 Q2553.81 1790.3 2553.81 1781.58 Q2553.81 1772.83 2556.86 1768.24 Q2559.94 1763.64 2565.75 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2585.91 1792.94 L2590.8 1792.94 L2590.8 1798.82 L2585.91 1798.82 L2585.91 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2610.98 1767.34 Q2607.37 1767.34 2605.54 1770.9 Q2603.74 1774.45 2603.74 1781.58 Q2603.74 1788.68 2605.54 1792.25 Q2607.37 1795.79 2610.98 1795.79 Q2614.62 1795.79 2616.42 1792.25 Q2618.25 1788.68 2618.25 1781.58 Q2618.25 1774.45 2616.42 1770.9 Q2614.62 1767.34 2610.98 1767.34 M2610.98 1763.64 Q2616.79 1763.64 2619.85 1768.24 Q2622.93 1772.83 2622.93 1781.58 Q2622.93 1790.3 2619.85 1794.91 Q2616.79 1799.49 2610.98 1799.49 Q2605.17 1799.49 2602.09 1794.91 Q2599.04 1790.3 2599.04 1781.58 Q2599.04 1772.83 2602.09 1768.24 Q2605.17 1763.64 2610.98 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1451.38 1833.78 L1457.27 1833.78 L1457.27 1863.03 L1474.74 1847.65 L1482.22 1847.65 L1463.31 1864.33 L1483.02 1883.3 L1475.38 1883.3 L1457.27 1865.89 L1457.27 1883.3 L1451.38 1883.3 L1451.38 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1734.12 293.64,1007.24 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1716.26 312.538,1716.26 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1486.78 312.538,1486.78 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1257.3 312.538,1257.3 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1027.82 312.538,1027.82 "></polyline>
<path clip-path="url(#clip720)" d="M241.376 1702.06 Q237.765 1702.06 235.936 1705.63 Q234.13 1709.17 234.13 1716.3 Q234.13 1723.4 235.936 1726.97 Q237.765 1730.51 241.376 1730.51 Q245.01 1730.51 246.816 1726.97 Q248.644 1723.4 248.644 1716.3 Q248.644 1709.17 246.816 1705.63 Q245.01 1702.06 241.376 1702.06 M241.376 1698.36 Q247.186 1698.36 250.242 1702.97 Q253.32 1707.55 253.32 1716.3 Q253.32 1725.03 250.242 1729.63 Q247.186 1734.21 241.376 1734.21 Q235.566 1734.21 232.487 1729.63 Q229.431 1725.03 229.431 1716.3 Q229.431 1707.55 232.487 1702.97 Q235.566 1698.36 241.376 1698.36 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M233.413 1500.13 L241.052 1500.13 L241.052 1473.76 L232.742 1475.43 L232.742 1471.17 L241.005 1469.5 L245.681 1469.5 L245.681 1500.13 L253.32 1500.13 L253.32 1504.06 L233.413 1504.06 L233.413 1500.13 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M237.001 1270.64 L253.32 1270.64 L253.32 1274.58 L231.376 1274.58 L231.376 1270.64 Q234.038 1267.89 238.621 1263.26 Q243.228 1258.61 244.408 1257.26 Q246.654 1254.74 247.533 1253 Q248.436 1251.25 248.436 1249.56 Q248.436 1246.8 246.492 1245.06 Q244.57 1243.33 241.468 1243.33 Q239.269 1243.33 236.816 1244.09 Q234.385 1244.86 231.607 1246.41 L231.607 1241.69 Q234.431 1240.55 236.885 1239.97 Q239.339 1239.39 241.376 1239.39 Q246.746 1239.39 249.941 1242.08 Q253.135 1244.76 253.135 1249.25 Q253.135 1251.38 252.325 1253.31 Q251.538 1255.2 249.431 1257.8 Q248.853 1258.47 245.751 1261.69 Q242.649 1264.88 237.001 1270.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M246.191 1026.46 Q249.547 1027.18 251.422 1029.45 Q253.32 1031.72 253.32 1035.05 Q253.32 1040.17 249.802 1042.97 Q246.283 1045.77 239.802 1045.77 Q237.626 1045.77 235.311 1045.33 Q233.019 1044.91 230.566 1044.05 L230.566 1039.54 Q232.51 1040.67 234.825 1041.25 Q237.14 1041.83 239.663 1041.83 Q244.061 1041.83 246.353 1040.1 Q248.667 1038.36 248.667 1035.05 Q248.667 1031.99 246.515 1030.28 Q244.385 1028.55 240.566 1028.55 L236.538 1028.55 L236.538 1024.7 L240.751 1024.7 Q244.2 1024.7 246.029 1023.34 Q247.857 1021.95 247.857 1019.36 Q247.857 1016.69 245.959 1015.28 Q244.084 1013.85 240.566 1013.85 Q238.644 1013.85 236.445 1014.26 Q234.246 1014.68 231.607 1015.56 L231.607 1011.39 Q234.269 1010.65 236.584 1010.28 Q238.922 1009.91 240.982 1009.91 Q246.306 1009.91 249.408 1012.34 Q252.51 1014.75 252.51 1018.87 Q252.51 1021.74 250.866 1023.73 Q249.223 1025.7 246.191 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M139.207 1354.07 L156.554 1366.96 L174.855 1353.4 L174.855 1360.3 L160.851 1370.68 L174.855 1381.06 L174.855 1387.96 L156.204 1374.12 L139.207 1386.79 L139.207 1379.88 L151.907 1370.43 L139.207 1360.97 L139.207 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip723)" d="M360.068 1470.78 L344.068 1486.78 L360.068 1502.78 L376.068 1486.78 L360.068 1470.78 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M581.494 1280.41 L565.494 1296.41 L581.494 1312.41 L597.494 1296.41 L581.494 1280.41 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M802.92 1269.05 L786.92 1285.05 L802.92 1301.05 L818.92 1285.05 L802.92 1269.05 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1024.35 1309.85 L1008.35 1325.85 L1024.35 1341.85 L1040.35 1325.85 L1024.35 1309.85 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1245.77 1375.49 L1229.77 1391.49 L1245.77 1407.49 L1261.77 1391.49 L1245.77 1375.49 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1467.2 1463.11 L1451.2 1479.11 L1467.2 1495.11 L1483.2 1479.11 L1467.2 1463.11 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1688.62 1576.67 L1672.62 1592.67 L1688.62 1608.67 L1704.62 1592.67 L1688.62 1576.67 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1910.05 1645.07 L1894.05 1661.07 L1910.05 1677.07 L1926.05 1661.07 L1910.05 1645.07 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M2131.48 1676.55 L2115.48 1692.55 L2131.48 1708.55 L2147.48 1692.55 L2131.48 1676.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M2352.9 1688.82 L2336.9 1704.82 L2352.9 1720.82 L2368.9 1704.82 L2352.9 1688.82 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M2574.33 1690.35 L2558.33 1706.35 L2574.33 1722.35 L2590.33 1706.35 L2574.33 1690.35 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip723)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1486.78 581.494,1486.78 581.494,1296.41 802.92,1296.41 802.92,1285.05 1024.35,1285.05 1024.35,1325.85 1245.77,1325.85 1245.77,1391.49 1467.2,1391.49 1467.2,1479.11 1688.62,1479.11 1688.62,1592.67 1910.05,1592.67 1910.05,1661.07 2131.48,1661.07 2131.48,1692.55 2352.9,1692.55 2352.9,1704.82 2574.33,1704.82 2574.33,1706.35 "></polyline>
<path clip-path="url(#clip723)" d="M360.068 1011.82 L344.068 1027.82 L360.068 1043.82 L376.068 1027.82 L360.068 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M581.494 1231.41 L565.494 1247.41 L581.494 1263.41 L597.494 1247.41 L581.494 1231.41 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M802.92 1317.87 L786.92 1333.87 L802.92 1349.87 L818.92 1333.87 L802.92 1317.87 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1024.35 1382.58 L1008.35 1398.58 L1024.35 1414.58 L1040.35 1398.58 L1024.35 1382.58 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1245.77 1454.81 L1229.77 1470.81 L1245.77 1486.81 L1261.77 1470.81 L1245.77 1454.81 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1467.2 1545.18 L1451.2 1561.18 L1467.2 1577.18 L1483.2 1561.18 L1467.2 1545.18 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1688.62 1660.93 L1672.62 1676.93 L1688.62 1692.93 L1704.62 1676.93 L1688.62 1660.93 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1910.05 1691.92 L1894.05 1707.92 L1910.05 1723.92 L1926.05 1707.92 L1910.05 1691.92 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M2131.48 1697.55 L2115.48 1713.55 L2131.48 1729.55 L2147.48 1713.55 L2131.48 1697.55 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M2352.9 1697.17 L2336.9 1713.17 L2352.9 1729.17 L2368.9 1713.17 L2352.9 1697.17 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M2574.33 1692.21 L2558.33 1708.21 L2574.33 1724.21 L2590.33 1708.21 L2574.33 1692.21 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip723)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1027.82 581.494,1027.82 581.494,1247.41 802.92,1247.41 802.92,1333.87 1024.35,1333.87 1024.35,1398.58 1245.77,1398.58 1245.77,1470.81 1467.2,1470.81 1467.2,1561.18 1688.62,1561.18 1688.62,1676.93 1910.05,1676.93 1910.05,1707.92 2131.48,1707.92 2131.48,1713.55 2352.9,1713.55 2352.9,1713.17 2574.33,1713.17 2574.33,1708.21 "></polyline>
<path clip-path="url(#clip720)" d="M2284.71 1186.99 L2562.52 1186.99 L2562.52 1031.47 L2284.71 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2284.71,1186.99 2562.52,1186.99 2562.52,1031.47 2284.71,1031.47 2284.71,1186.99 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2310.78,1083.31 2467.26,1083.31 "></polyline>
<path clip-path="url(#clip720)" d="M2517.99 1074.67 L2508.62 1087.28 L2518.48 1100.59 L2513.45 1100.59 L2505.91 1090.41 L2498.36 1100.59 L2493.34 1100.59 L2503.41 1087.03 L2494.19 1074.67 L2499.22 1074.67 L2506.09 1083.9 L2512.97 1074.67 L2517.99 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2523.64 1098.05 L2528.36 1098.05 L2528.36 1083.9 L2523.2 1084.85 L2523.2 1082.17 L2528.52 1081.26 L2531.69 1081.26 L2531.69 1098.05 L2536.44 1098.05 L2536.44 1100.59 L2523.64 1100.59 L2523.64 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip720)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2310.78,1135.15 2467.26,1135.15 "></polyline>
<path clip-path="url(#clip720)" d="M2517.99 1126.51 L2508.62 1139.12 L2518.48 1152.43 L2513.45 1152.43 L2505.91 1142.25 L2498.36 1152.43 L2493.34 1152.43 L2503.41 1138.87 L2494.19 1126.51 L2499.22 1126.51 L2506.09 1135.74 L2512.97 1126.51 L2517.99 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2526.23 1149.79 L2536.05 1149.79 L2536.05 1152.43 L2522.2 1152.43 L2522.2 1149.89 Q2522.99 1149.17 2524.45 1147.87 Q2532.41 1140.81 2532.41 1138.64 Q2532.41 1137.11 2531.21 1136.18 Q2530 1135.23 2528.04 1135.23 Q2526.83 1135.23 2525.42 1135.65 Q2524.01 1136.04 2522.34 1136.85 L2522.34 1134.01 Q2524.12 1133.36 2525.65 1133.04 Q2527.2 1132.71 2528.52 1132.71 Q2531.88 1132.71 2533.89 1134.24 Q2535.91 1135.77 2535.91 1138.27 Q2535.91 1141.48 2528.25 1148.06 Q2526.95 1149.17 2526.23 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
</section>
</section>
<section id="sequential-dense-formulation" class="level2">
<h2 class="anchored" data-anchor-id="sequential-dense-formulation">Sequential (dense) formulation</h2>
<p>We can express <span class="math inline">\bar{\bm x}</span> as a function of <span class="math inline">\bar{\bm u}</span> and <span class="math inline">\mathbf x_0</span>. This can be done in a straightforward way using (<a href="#eq-linear_system_linear_constraints_matrix_format" class="quarto-xref">Eq.&nbsp;1</a>), namely, <span class="math display">
\bar{\bm x} = (\mathbf I-\overline{\mathbf A})^{-1}\overline{\mathbf B} \bm u + (\mathbf I-\overline{\mathbf A})^{-1} \overline{\mathbf A}_0 \mathbf x_0.
</span></p>
<p>However, instead of solving the sets of equations, we can do this substitution in a more insightful way. Write down the state equation for several discrete times <span class="math display">
\begin{aligned}
\bm x_1 &amp;= \mathbf A\mathbf x_0 + \mathbf B\bm u_0\\
\bm x_2 &amp;= \mathbf A\mathbf x_0 + \mathbf B\bm u_0\\
     &amp;= \mathbf A(\mathbf A\mathbf x_0 + \mathbf B\bm u_0)+ \mathbf B\bm u_0\\
     &amp;= \mathbf A^2\mathbf x_0 + \mathbf A\mathbf B\bm u_0 + \mathbf B\bm u_0\\
     &amp;\vdots\\
\bm x_k &amp;= \mathbf A^k\mathbf x_0 + \mathbf A^{k-1}\mathbf B\bm u_0 +\mathbf A^{k-2}\mathbf B\bm u_1 +\ldots \mathbf B\bm u_{k-1}.
\end{aligned}
</span></p>
<p>Rewriting into matrix-vector form (and extending the time <span class="math inline">k</span> up to the final time <span class="math inline">N</span>) <span class="math display">
\begin{bmatrix}
\bm x_1\\\bm x_2\\\vdots\\\bm x_N
\end{bmatrix}
=
\underbrace{
\begin{bmatrix}
  \mathbf B &amp; &amp; &amp; \\
  \mathbf A\mathbf B &amp; \mathbf B &amp; &amp; \\
  \vdots &amp; &amp; \ddots &amp;\\
  \mathbf A^{N-1}\mathbf B &amp; \mathbf A^{N-2}\mathbf B &amp; &amp; \mathbf B
\end{bmatrix}}_{\widehat{\mathbf C}}
  \begin{bmatrix}
\bm u_0\\\bm u_1\\\vdots\\\bm u_{N-1}
\end{bmatrix}
+
\underbrace{
  \begin{bmatrix}
\mathbf A\\\mathbf A^2\\\vdots\\\mathbf A^N
\end{bmatrix}}_{\widehat{\mathbf A}}\mathbf x_0.
</span></p>
<p>For convenience, let’s rewrite the compact relation between <span class="math inline">\bar{\bm x}</span> and <span class="math inline">\bar{\bm u}</span> and <span class="math inline">\mathbf x_0</span> <span id="eq-x_as_function_of_u_and_x0"><span class="math display">
\bar{\bm x} = \widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0.
\tag{2}</span></span></p>
<p>We can now substitute this into the original cost, which then becomes independent of <span class="math inline">\bar{\bm x}</span>, which we reflect formally by using a new name <span class="math inline">\tilde J</span> <span class="math display">
\begin{aligned}
\tilde J(\bar{\bm u};\mathbf x_0) &amp;= \frac{1}{2}(\widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0)^\top\overline{\mathbf Q} (\widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0) + \frac{1}{2}\bar{\bm u}^\top\overline{\mathbf R} \bar{\bm u} + \frac{1}{2}\mathbf x_0^\top\mathbf Q\mathbf x_0\\
&amp;= \frac{1}{2}\bar{\bm u}^\top\widehat{\mathbf C}^\top \overline{\mathbf Q} \widehat{\mathbf C} \bar{\bm u} + \mathbf x_0^\top\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf C} \bar{\bm u} + \frac{1}{2} \mathbf x_0^\top\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf A} \mathbf x_0 + \frac{1}{2}\bar{\bm u}^\top\overline{\mathbf R} \bar{\bm u} + \frac{1}{2}\mathbf x_0^\top\mathbf Q\mathbf x_0\\
&amp;= \frac{1}{2}\bar{\bm u}^\top(\widehat{\mathbf C}^\top \overline{\mathbf Q} \widehat{\mathbf C} + \overline{\mathbf R})\bar{\bm u} + \mathbf x_0^\top\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf C} \bar{\bm u} + \frac{1}{2} \mathbf x_0^\top(\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf A} + \mathbf Q)\mathbf x_0.
\end{aligned}
</span></p>
<p>The last term (the one independent of <span class="math inline">\bar{\bm u}</span>) does not have an impact on the optimal <span class="math inline">\bar{\bm u}</span> and therefore it can be discarded, but such minor modification perhaps does not justify a new name for the cost function. We write it as <span class="math display">
\tilde J(\bar{\bm u};\mathbf x_0) = \frac{1}{2}\bar{\bm u}^\top\underbrace{(\widehat{\mathbf C}^\top \overline{\mathbf Q} \widehat{\mathbf C} + \overline{\mathbf R})}_{\mathbf H}\bar{\bm u} +  \mathbf x_0^\top\underbrace{\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf C}}_{\mathbf F^\top} \bar{\bm u}.
</span></p>
<p>This cost is a function of <span class="math inline">\bar{\bm u}</span>, the initial state <span class="math inline">\mathbf x_0</span> is regarded as a fixed parameter. Its gradient is <span class="math display">
\nabla \tilde J = \mathbf H\bar{\bm u}+\mathbf F\mathbf x_0.
</span></p>
<p>Setting it to zero leads to the following linear system of equations <span class="math display">
\mathbf H\bar{\bm u}=-\mathbf F\mathbf x_0
</span> that needs to be solved for <span class="math inline">\bar{\bm u}</span>. Formally, we write the solution as <span class="math display">
\bar{\bm u} = -\mathbf H^{-1} \mathbf F \mathbf x_0.
</span></p>
<div id="exm-direct-sequential" class="theorem example">
<p><span class="theorem-title"><strong>Example 3 (Reformulating the unconstrained LQR problem as a system of linear equations – sequential approach)</strong></span> &nbsp;</p>
<div id="6" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">size</span>(A)[<span class="fl">1</span>]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">size</span>(B)[<span class="fl">2</span>]</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    Q̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>n),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        Q̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> Q</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    Q̄[<span class="fu">Block</span>(N,N)] <span class="op">=</span> S</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    R̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>m,N<span class="op">*</span>m),<span class="fu">repeat</span>([m],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        R̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> R</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    Ĉ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>m),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    Â <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,n),<span class="fu">repeat</span>([n],N),[n])</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="op">=</span> <span class="fl">1</span><span class="op">:</span>i</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>            Ĉ[<span class="fu">Block</span>(i,j)] <span class="op">=</span> A<span class="op">^</span>(i<span class="op">-</span>j)<span class="op">*</span>B</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>            Â[<span class="fu">Block</span>(i,<span class="fl">1</span>)] <span class="op">=</span> A<span class="op">^</span>i</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Ĉ + R̄</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> <span class="fu">Array</span>(H)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Â</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> <span class="fu">Array</span>(F)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    uopt <span class="op">=</span> <span class="fu">-H\</span>(F<span class="op">*</span>x₀)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> Ĉ<span class="op">*</span>uopt <span class="op">+</span> Â<span class="op">*</span>x₀</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> <span class="fu">reshape</span>(xopt,(<span class="fl">2</span>,<span class="op">:</span>))</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> xopt,uopt</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>xopt,uopt <span class="op">=</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,<span class="fu">hcat</span>(x₀,xopt)<span class="ch">',marker=:diamond,label=["x₁" "x₂"],linetype=:steppost)</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip780">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip780)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip781">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip780)" d="M217.599 774.117 L2640.76 774.117 L2640.76 47.2441 L217.599 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip782">
    <rect x="217" y="47" width="2424" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="286.179,774.117 286.179,47.2441 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="794.178,774.117 794.178,47.2441 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1302.18,774.117 1302.18,47.2441 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1810.18,774.117 1810.18,47.2441 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2318.18,774.117 2318.18,47.2441 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,731.57 2640.76,731.57 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,510.292 2640.76,510.292 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,289.013 2640.76,289.013 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,67.735 2640.76,67.735 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,774.117 286.179,755.219 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="794.178,774.117 794.178,755.219 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1302.18,774.117 1302.18,755.219 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1810.18,774.117 1810.18,755.219 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2318.18,774.117 2318.18,755.219 "></polyline>
<path clip-path="url(#clip780)" d="M286.179 807.34 Q282.568 807.34 280.739 810.904 Q278.934 814.446 278.934 821.576 Q278.934 828.682 280.739 832.247 Q282.568 835.789 286.179 835.789 Q289.813 835.789 291.619 832.247 Q293.447 828.682 293.447 821.576 Q293.447 814.446 291.619 810.904 Q289.813 807.34 286.179 807.34 M286.179 803.636 Q291.989 803.636 295.045 808.242 Q298.123 812.826 298.123 821.576 Q298.123 830.303 295.045 834.909 Q291.989 839.492 286.179 839.492 Q280.369 839.492 277.29 834.909 Q274.234 830.303 274.234 821.576 Q274.234 812.826 277.29 808.242 Q280.369 803.636 286.179 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M788.831 834.886 L805.15 834.886 L805.15 838.821 L783.206 838.821 L783.206 834.886 Q785.868 832.131 790.451 827.502 Q795.058 822.849 796.238 821.506 Q798.484 818.983 799.363 817.247 Q800.266 815.488 800.266 813.798 Q800.266 811.043 798.322 809.307 Q796.4 807.571 793.299 807.571 Q791.1 807.571 788.646 808.335 Q786.215 809.099 783.438 810.65 L783.438 805.928 Q786.262 804.793 788.715 804.215 Q791.169 803.636 793.206 803.636 Q798.576 803.636 801.771 806.321 Q804.965 809.006 804.965 813.497 Q804.965 815.627 804.155 817.548 Q803.368 819.446 801.262 822.039 Q800.683 822.71 797.581 825.928 Q794.479 829.122 788.831 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1305.19 808.335 L1293.38 826.784 L1305.19 826.784 L1305.19 808.335 M1303.96 804.261 L1309.84 804.261 L1309.84 826.784 L1314.77 826.784 L1314.77 830.673 L1309.84 830.673 L1309.84 838.821 L1305.19 838.821 L1305.19 830.673 L1289.59 830.673 L1289.59 826.159 L1303.96 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1810.58 819.678 Q1807.43 819.678 1805.58 821.83 Q1803.75 823.983 1803.75 827.733 Q1803.75 831.46 1805.58 833.636 Q1807.43 835.789 1810.58 835.789 Q1813.73 835.789 1815.56 833.636 Q1817.41 831.46 1817.41 827.733 Q1817.41 823.983 1815.56 821.83 Q1813.73 819.678 1810.58 819.678 M1819.86 805.025 L1819.86 809.284 Q1818.11 808.451 1816.3 808.011 Q1814.52 807.571 1812.76 807.571 Q1808.13 807.571 1805.67 810.696 Q1803.24 813.821 1802.9 820.141 Q1804.26 818.127 1806.32 817.062 Q1808.38 815.974 1810.86 815.974 Q1816.07 815.974 1819.08 819.145 Q1822.11 822.293 1822.11 827.733 Q1822.11 833.057 1818.96 836.275 Q1815.81 839.492 1810.58 839.492 Q1804.59 839.492 1801.42 834.909 Q1798.24 830.303 1798.24 821.576 Q1798.24 813.381 1802.13 808.52 Q1806.02 803.636 1812.57 803.636 Q1814.33 803.636 1816.11 803.983 Q1817.92 804.33 1819.86 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2318.18 822.409 Q2314.84 822.409 2312.92 824.191 Q2311.02 825.974 2311.02 829.099 Q2311.02 832.224 2312.92 834.006 Q2314.84 835.789 2318.18 835.789 Q2321.51 835.789 2323.43 834.006 Q2325.35 832.201 2325.35 829.099 Q2325.35 825.974 2323.43 824.191 Q2321.53 822.409 2318.18 822.409 M2313.5 820.418 Q2310.49 819.678 2308.8 817.617 Q2307.13 815.557 2307.13 812.594 Q2307.13 808.451 2310.07 806.043 Q2313.04 803.636 2318.18 803.636 Q2323.34 803.636 2326.28 806.043 Q2329.22 808.451 2329.22 812.594 Q2329.22 815.557 2327.53 817.617 Q2325.86 819.678 2322.88 820.418 Q2326.25 821.205 2328.13 823.497 Q2330.03 825.789 2330.03 829.099 Q2330.03 834.122 2326.95 836.807 Q2323.89 839.492 2318.18 839.492 Q2312.46 839.492 2309.38 836.807 Q2306.32 834.122 2306.32 829.099 Q2306.32 825.789 2308.22 823.497 Q2310.12 821.205 2313.5 820.418 M2311.79 813.034 Q2311.79 815.719 2313.45 817.224 Q2315.14 818.729 2318.18 818.729 Q2321.19 818.729 2322.88 817.224 Q2324.59 815.719 2324.59 813.034 Q2324.59 810.349 2322.88 808.844 Q2321.19 807.34 2318.18 807.34 Q2315.14 807.34 2313.45 808.844 Q2311.79 810.349 2311.79 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1413.36 873.776 L1419.25 873.776 L1419.25 903.026 L1436.72 887.653 L1444.2 887.653 L1425.29 904.331 L1445 923.301 L1437.36 923.301 L1419.25 905.891 L1419.25 923.301 L1413.36 923.301 L1413.36 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,774.117 217.599,47.2441 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,731.57 236.497,731.57 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,510.292 236.497,510.292 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,289.013 236.497,289.013 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,67.735 236.497,67.735 "></polyline>
<path clip-path="url(#clip780)" d="M116.214 732.021 L145.89 732.021 L145.89 735.956 L116.214 735.956 L116.214 732.021 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M170.149 730.216 Q173.506 730.933 175.381 733.202 Q177.279 735.47 177.279 738.804 Q177.279 743.919 173.76 746.72 Q170.242 749.521 163.76 749.521 Q161.585 749.521 159.27 749.081 Q156.978 748.665 154.524 747.808 L154.524 743.294 Q156.469 744.429 158.784 745.007 Q161.098 745.586 163.622 745.586 Q168.02 745.586 170.311 743.85 Q172.626 742.114 172.626 738.804 Q172.626 735.748 170.473 734.035 Q168.344 732.299 164.524 732.299 L160.497 732.299 L160.497 728.456 L164.71 728.456 Q168.159 728.456 169.987 727.091 Q171.816 725.702 171.816 723.109 Q171.816 720.447 169.918 719.035 Q168.043 717.6 164.524 717.6 Q162.603 717.6 160.404 718.017 Q158.205 718.433 155.566 719.313 L155.566 715.146 Q158.228 714.406 160.543 714.035 Q162.881 713.665 164.941 713.665 Q170.265 713.665 173.367 716.095 Q176.469 718.503 176.469 722.623 Q176.469 725.493 174.825 727.484 Q173.182 729.452 170.149 730.216 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M117.164 510.743 L146.839 510.743 L146.839 514.678 L117.164 514.678 L117.164 510.743 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M160.96 523.636 L177.279 523.636 L177.279 527.572 L155.335 527.572 L155.335 523.636 Q157.997 520.882 162.58 516.252 Q167.186 511.599 168.367 510.257 Q170.612 507.734 171.492 505.998 Q172.395 504.238 172.395 502.549 Q172.395 499.794 170.45 498.058 Q168.529 496.322 165.427 496.322 Q163.228 496.322 160.774 497.086 Q158.344 497.849 155.566 499.4 L155.566 494.678 Q158.39 493.544 160.844 492.965 Q163.298 492.387 165.335 492.387 Q170.705 492.387 173.899 495.072 Q177.094 497.757 177.094 502.248 Q177.094 504.377 176.284 506.298 Q175.497 508.197 173.39 510.789 Q172.811 511.46 169.71 514.678 Q166.608 517.872 160.96 523.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M116.793 289.465 L146.469 289.465 L146.469 293.4 L116.793 293.4 L116.793 289.465 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M157.372 302.358 L165.01 302.358 L165.01 275.992 L156.7 277.659 L156.7 273.4 L164.964 271.733 L169.64 271.733 L169.64 302.358 L177.279 302.358 L177.279 306.293 L157.372 306.293 L157.372 302.358 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M165.335 53.5337 Q161.723 53.5337 159.895 57.0985 Q158.089 60.6401 158.089 67.7697 Q158.089 74.8761 159.895 78.4409 Q161.723 81.9826 165.335 81.9826 Q168.969 81.9826 170.774 78.4409 Q172.603 74.8761 172.603 67.7697 Q172.603 60.6401 170.774 57.0985 Q168.969 53.5337 165.335 53.5337 M165.335 49.83 Q171.145 49.83 174.2 54.4364 Q177.279 59.0197 177.279 67.7697 Q177.279 76.4965 174.2 81.103 Q171.145 85.6863 165.335 85.6863 Q159.524 85.6863 156.446 81.103 Q153.39 76.4965 153.39 67.7697 Q153.39 59.0197 156.446 54.4364 Q159.524 49.83 165.335 49.83 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip782)" d="M286.179 737.545 L270.179 753.545 L286.179 769.545 L302.179 753.545 L286.179 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M540.179 306.33 L524.179 322.33 L540.179 338.33 L556.179 322.33 L540.179 306.33 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M794.178 146.276 L778.178 162.276 L794.178 178.276 L810.178 162.276 L794.178 146.276 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M1048.18 86.8431 L1032.18 102.843 L1048.18 118.843 L1064.18 102.843 L1048.18 86.8431 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M1302.18 64.7725 L1286.18 80.7725 L1302.18 96.7725 L1318.18 80.7725 L1302.18 64.7725 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M1556.18 56.5764 L1540.18 72.5764 L1556.18 88.5764 L1572.18 72.5764 L1556.18 56.5764 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M1810.18 53.5324 L1794.18 69.5324 L1810.18 85.5324 L1826.18 69.5324 L1810.18 53.5324 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M2064.18 52.4012 L2048.18 68.4012 L2064.18 84.4012 L2080.18 68.4012 L2064.18 52.4012 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M2318.18 51.9789 L2302.18 67.9789 L2318.18 83.9789 L2334.18 67.9789 L2318.18 51.9789 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M2572.18 51.816 L2556.18 67.816 L2572.18 83.816 L2588.18 67.816 L2572.18 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip782)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,753.545 540.179,753.545 540.179,322.33 794.178,322.33 794.178,162.276 1048.18,162.276 1048.18,102.843 1302.18,102.843 1302.18,80.7725 1556.18,80.7725 1556.18,72.5764 1810.18,72.5764 1810.18,69.5324 2064.18,69.5324 2064.18,68.4012 2318.18,68.4012 2318.18,67.9789 2572.18,67.9789 2572.18,67.816 "></polyline>
<path clip-path="url(#clip780)" d="M2295.96 749.888 L2559.98 749.888 L2559.98 646.208 L2295.96 646.208  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2295.96,749.888 2559.98,749.888 2559.98,646.208 2295.96,646.208 2295.96,749.888 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2322.88,698.048 2484.42,698.048 "></polyline>
<path clip-path="url(#clip780)" d="M2511.35 705.096 L2511.35 689.402 L2515.61 689.402 L2515.61 704.934 Q2515.61 708.615 2517.04 710.467 Q2518.48 712.295 2521.35 712.295 Q2524.8 712.295 2526.79 710.096 Q2528.8 707.897 2528.8 704.101 L2528.8 689.402 L2533.06 689.402 L2533.06 715.328 L2528.8 715.328 L2528.8 711.346 Q2527.25 713.708 2525.19 714.865 Q2523.15 715.999 2520.44 715.999 Q2515.98 715.999 2513.66 713.221 Q2511.35 710.444 2511.35 705.096 M2522.06 688.777 L2522.06 688.777 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M217.599 1734.12 L2640.76 1734.12 L2640.76 1007.24 L217.599 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip783">
    <rect x="217" y="1007" width="2424" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="286.179,1734.12 286.179,1007.24 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="857.678,1734.12 857.678,1007.24 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1429.18,1734.12 1429.18,1007.24 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2000.68,1734.12 2000.68,1007.24 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2572.18,1734.12 2572.18,1007.24 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,1713.57 2640.76,1713.57 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,1484.99 2640.76,1484.99 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,1256.4 2640.76,1256.4 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,1734.12 286.179,1715.22 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="857.678,1734.12 857.678,1715.22 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1429.18,1734.12 1429.18,1715.22 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2000.68,1734.12 2000.68,1715.22 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2572.18,1734.12 2572.18,1715.22 "></polyline>
<path clip-path="url(#clip780)" d="M263.563 1767.34 Q259.952 1767.34 258.123 1770.9 Q256.318 1774.45 256.318 1781.58 Q256.318 1788.68 258.123 1792.25 Q259.952 1795.79 263.563 1795.79 Q267.197 1795.79 269.003 1792.25 Q270.832 1788.68 270.832 1781.58 Q270.832 1774.45 269.003 1770.9 Q267.197 1767.34 263.563 1767.34 M263.563 1763.64 Q269.373 1763.64 272.429 1768.24 Q275.508 1772.83 275.508 1781.58 Q275.508 1790.3 272.429 1794.91 Q269.373 1799.49 263.563 1799.49 Q257.753 1799.49 254.674 1794.91 Q251.619 1790.3 251.619 1781.58 Q251.619 1772.83 254.674 1768.24 Q257.753 1763.64 263.563 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M283.725 1792.94 L288.609 1792.94 L288.609 1798.82 L283.725 1798.82 L283.725 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M308.794 1767.34 Q305.183 1767.34 303.355 1770.9 Q301.549 1774.45 301.549 1781.58 Q301.549 1788.68 303.355 1792.25 Q305.183 1795.79 308.794 1795.79 Q312.429 1795.79 314.234 1792.25 Q316.063 1788.68 316.063 1781.58 Q316.063 1774.45 314.234 1770.9 Q312.429 1767.34 308.794 1767.34 M308.794 1763.64 Q314.605 1763.64 317.66 1768.24 Q320.739 1772.83 320.739 1781.58 Q320.739 1790.3 317.66 1794.91 Q314.605 1799.49 308.794 1799.49 Q302.984 1799.49 299.906 1794.91 Q296.85 1790.3 296.85 1781.58 Q296.85 1772.83 299.906 1768.24 Q302.984 1763.64 308.794 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M829.414 1794.89 L845.734 1794.89 L845.734 1798.82 L823.789 1798.82 L823.789 1794.89 Q826.451 1792.13 831.035 1787.5 Q835.641 1782.85 836.822 1781.51 Q839.067 1778.98 839.947 1777.25 Q840.85 1775.49 840.85 1773.8 Q840.85 1771.04 838.905 1769.31 Q836.984 1767.57 833.882 1767.57 Q831.683 1767.57 829.229 1768.34 Q826.799 1769.1 824.021 1770.65 L824.021 1765.93 Q826.845 1764.79 829.299 1764.21 Q831.752 1763.64 833.789 1763.64 Q839.16 1763.64 842.354 1766.32 Q845.549 1769.01 845.549 1773.5 Q845.549 1775.63 844.738 1777.55 Q843.951 1779.45 841.845 1782.04 Q841.266 1782.71 838.164 1785.93 Q835.063 1789.12 829.414 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M855.549 1792.94 L860.433 1792.94 L860.433 1798.82 L855.549 1798.82 L855.549 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M870.664 1764.26 L889.021 1764.26 L889.021 1768.2 L874.947 1768.2 L874.947 1776.67 Q875.965 1776.32 876.984 1776.16 Q878.002 1775.97 879.021 1775.97 Q884.808 1775.97 888.187 1779.15 Q891.567 1782.32 891.567 1787.73 Q891.567 1793.31 888.095 1796.41 Q884.622 1799.49 878.303 1799.49 Q876.127 1799.49 873.859 1799.12 Q871.613 1798.75 869.206 1798.01 L869.206 1793.31 Q871.289 1794.45 873.511 1795 Q875.734 1795.56 878.21 1795.56 Q882.215 1795.56 884.553 1793.45 Q886.891 1791.34 886.891 1787.73 Q886.891 1784.12 884.553 1782.02 Q882.215 1779.91 878.21 1779.91 Q876.335 1779.91 874.46 1780.33 Q872.609 1780.74 870.664 1781.62 L870.664 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1396.34 1764.26 L1414.7 1764.26 L1414.7 1768.2 L1400.62 1768.2 L1400.62 1776.67 Q1401.64 1776.32 1402.66 1776.16 Q1403.68 1775.97 1404.7 1775.97 Q1410.49 1775.97 1413.87 1779.15 Q1417.24 1782.32 1417.24 1787.73 Q1417.24 1793.31 1413.77 1796.41 Q1410.3 1799.49 1403.98 1799.49 Q1401.8 1799.49 1399.54 1799.12 Q1397.29 1798.75 1394.88 1798.01 L1394.88 1793.31 Q1396.97 1794.45 1399.19 1795 Q1401.41 1795.56 1403.89 1795.56 Q1407.89 1795.56 1410.23 1793.45 Q1412.57 1791.34 1412.57 1787.73 Q1412.57 1784.12 1410.23 1782.02 Q1407.89 1779.91 1403.89 1779.91 Q1402.01 1779.91 1400.14 1780.33 Q1398.29 1780.74 1396.34 1781.62 L1396.34 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1426.46 1792.94 L1431.34 1792.94 L1431.34 1798.82 L1426.46 1798.82 L1426.46 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1451.53 1767.34 Q1447.92 1767.34 1446.09 1770.9 Q1444.28 1774.45 1444.28 1781.58 Q1444.28 1788.68 1446.09 1792.25 Q1447.92 1795.79 1451.53 1795.79 Q1455.16 1795.79 1456.97 1792.25 Q1458.8 1788.68 1458.8 1781.58 Q1458.8 1774.45 1456.97 1770.9 Q1455.16 1767.34 1451.53 1767.34 M1451.53 1763.64 Q1457.34 1763.64 1460.39 1768.24 Q1463.47 1772.83 1463.47 1781.58 Q1463.47 1790.3 1460.39 1794.91 Q1457.34 1799.49 1451.53 1799.49 Q1445.72 1799.49 1442.64 1794.91 Q1439.58 1790.3 1439.58 1781.58 Q1439.58 1772.83 1442.64 1768.24 Q1445.72 1763.64 1451.53 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1967 1764.26 L1989.22 1764.26 L1989.22 1766.25 L1976.67 1798.82 L1971.79 1798.82 L1983.59 1768.2 L1967 1768.2 L1967 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1998.34 1792.94 L2003.22 1792.94 L2003.22 1798.82 L1998.34 1798.82 L1998.34 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2013.45 1764.26 L2031.81 1764.26 L2031.81 1768.2 L2017.74 1768.2 L2017.74 1776.67 Q2018.76 1776.32 2019.77 1776.16 Q2020.79 1775.97 2021.81 1775.97 Q2027.6 1775.97 2030.98 1779.15 Q2034.36 1782.32 2034.36 1787.73 Q2034.36 1793.31 2030.88 1796.41 Q2027.41 1799.49 2021.09 1799.49 Q2018.92 1799.49 2016.65 1799.12 Q2014.4 1798.75 2012 1798.01 L2012 1793.31 Q2014.08 1794.45 2016.3 1795 Q2018.52 1795.56 2021 1795.56 Q2025.01 1795.56 2027.34 1793.45 Q2029.68 1791.34 2029.68 1787.73 Q2029.68 1784.12 2027.34 1782.02 Q2025.01 1779.91 2021 1779.91 Q2019.13 1779.91 2017.25 1780.33 Q2015.4 1780.74 2013.45 1781.62 L2013.45 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2524.25 1794.89 L2531.89 1794.89 L2531.89 1768.52 L2523.58 1770.19 L2523.58 1765.93 L2531.84 1764.26 L2536.52 1764.26 L2536.52 1794.89 L2544.16 1794.89 L2544.16 1798.82 L2524.25 1798.82 L2524.25 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2563.6 1767.34 Q2559.99 1767.34 2558.16 1770.9 Q2556.35 1774.45 2556.35 1781.58 Q2556.35 1788.68 2558.16 1792.25 Q2559.99 1795.79 2563.6 1795.79 Q2567.23 1795.79 2569.04 1792.25 Q2570.87 1788.68 2570.87 1781.58 Q2570.87 1774.45 2569.04 1770.9 Q2567.23 1767.34 2563.6 1767.34 M2563.6 1763.64 Q2569.41 1763.64 2572.47 1768.24 Q2575.54 1772.83 2575.54 1781.58 Q2575.54 1790.3 2572.47 1794.91 Q2569.41 1799.49 2563.6 1799.49 Q2557.79 1799.49 2554.71 1794.91 Q2551.66 1790.3 2551.66 1781.58 Q2551.66 1772.83 2554.71 1768.24 Q2557.79 1763.64 2563.6 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2583.76 1792.94 L2588.65 1792.94 L2588.65 1798.82 L2583.76 1798.82 L2583.76 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2608.83 1767.34 Q2605.22 1767.34 2603.39 1770.9 Q2601.59 1774.45 2601.59 1781.58 Q2601.59 1788.68 2603.39 1792.25 Q2605.22 1795.79 2608.83 1795.79 Q2612.47 1795.79 2614.27 1792.25 Q2616.1 1788.68 2616.1 1781.58 Q2616.1 1774.45 2614.27 1770.9 Q2612.47 1767.34 2608.83 1767.34 M2608.83 1763.64 Q2614.64 1763.64 2617.7 1768.24 Q2620.78 1772.83 2620.78 1781.58 Q2620.78 1790.3 2617.7 1794.91 Q2614.64 1799.49 2608.83 1799.49 Q2603.02 1799.49 2599.94 1794.91 Q2596.89 1790.3 2596.89 1781.58 Q2596.89 1772.83 2599.94 1768.24 Q2603.02 1763.64 2608.83 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1413.36 1833.78 L1419.25 1833.78 L1419.25 1863.03 L1436.72 1847.65 L1444.2 1847.65 L1425.29 1864.33 L1445 1883.3 L1437.36 1883.3 L1419.25 1865.89 L1419.25 1883.3 L1413.36 1883.3 L1413.36 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1734.12 217.599,1007.24 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1713.57 236.497,1713.57 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1484.99 236.497,1484.99 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1256.4 236.497,1256.4 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1027.82 236.497,1027.82 "></polyline>
<path clip-path="url(#clip780)" d="M165.335 1699.37 Q161.723 1699.37 159.895 1702.94 Q158.089 1706.48 158.089 1713.61 Q158.089 1720.72 159.895 1724.28 Q161.723 1727.82 165.335 1727.82 Q168.969 1727.82 170.774 1724.28 Q172.603 1720.72 172.603 1713.61 Q172.603 1706.48 170.774 1702.94 Q168.969 1699.37 165.335 1699.37 M165.335 1695.67 Q171.145 1695.67 174.2 1700.28 Q177.279 1704.86 177.279 1713.61 Q177.279 1722.34 174.2 1726.94 Q171.145 1731.53 165.335 1731.53 Q159.524 1731.53 156.446 1726.94 Q153.39 1722.34 153.39 1713.61 Q153.39 1704.86 156.446 1700.28 Q159.524 1695.67 165.335 1695.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M157.372 1498.33 L165.01 1498.33 L165.01 1471.97 L156.7 1473.63 L156.7 1469.38 L164.964 1467.71 L169.64 1467.71 L169.64 1498.33 L177.279 1498.33 L177.279 1502.27 L157.372 1502.27 L157.372 1498.33 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M160.96 1269.75 L177.279 1269.75 L177.279 1273.68 L155.335 1273.68 L155.335 1269.75 Q157.997 1266.99 162.58 1262.36 Q167.186 1257.71 168.367 1256.37 Q170.612 1253.84 171.492 1252.11 Q172.395 1250.35 172.395 1248.66 Q172.395 1245.9 170.45 1244.17 Q168.529 1242.43 165.427 1242.43 Q163.228 1242.43 160.774 1243.2 Q158.344 1243.96 155.566 1245.51 L155.566 1240.79 Q158.39 1239.65 160.844 1239.08 Q163.298 1238.5 165.335 1238.5 Q170.705 1238.5 173.899 1241.18 Q177.094 1243.87 177.094 1248.36 Q177.094 1250.49 176.284 1252.41 Q175.497 1254.31 173.39 1256.9 Q172.811 1257.57 169.71 1260.79 Q166.608 1263.98 160.96 1269.75 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M170.149 1026.46 Q173.506 1027.18 175.381 1029.45 Q177.279 1031.72 177.279 1035.05 Q177.279 1040.17 173.76 1042.97 Q170.242 1045.77 163.76 1045.77 Q161.585 1045.77 159.27 1045.33 Q156.978 1044.91 154.524 1044.05 L154.524 1039.54 Q156.469 1040.67 158.784 1041.25 Q161.098 1041.83 163.622 1041.83 Q168.02 1041.83 170.311 1040.1 Q172.626 1038.36 172.626 1035.05 Q172.626 1031.99 170.473 1030.28 Q168.344 1028.55 164.524 1028.55 L160.497 1028.55 L160.497 1024.7 L164.71 1024.7 Q168.159 1024.7 169.987 1023.34 Q171.816 1021.95 171.816 1019.36 Q171.816 1016.69 169.918 1015.28 Q168.043 1013.85 164.524 1013.85 Q162.603 1013.85 160.404 1014.26 Q158.205 1014.68 155.566 1015.56 L155.566 1011.39 Q158.228 1010.65 160.543 1010.28 Q162.881 1009.91 164.941 1009.91 Q170.265 1009.91 173.367 1012.34 Q176.469 1014.75 176.469 1018.87 Q176.469 1021.74 174.825 1023.73 Q173.182 1025.7 170.149 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M63.1662 1354.07 L80.5128 1366.96 L98.8142 1353.4 L98.8142 1360.3 L84.8096 1370.68 L98.8142 1381.06 L98.8142 1387.96 L80.1626 1374.12 L63.1662 1386.79 L63.1662 1379.88 L75.8658 1370.43 L63.1662 1360.97 L63.1662 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip783)" d="M286.179 1468.99 L270.179 1484.99 L286.179 1500.99 L302.179 1484.99 L286.179 1468.99 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M514.779 1615.36 L498.779 1631.36 L514.779 1647.36 L530.779 1631.36 L514.779 1615.36 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M743.378 1667.18 L727.378 1683.18 L743.378 1699.18 L759.378 1683.18 L743.378 1667.18 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M971.978 1686.3 L955.978 1702.3 L971.978 1718.3 L987.978 1702.3 L971.978 1686.3 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1200.58 1693.39 L1184.58 1709.39 L1200.58 1725.39 L1216.58 1709.39 L1200.58 1693.39 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1429.18 1696.02 L1413.18 1712.02 L1429.18 1728.02 L1445.18 1712.02 L1429.18 1696.02 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1657.78 1697 L1641.78 1713 L1657.78 1729 L1673.78 1713 L1657.78 1697 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1886.38 1697.36 L1870.38 1713.36 L1886.38 1729.36 L1902.38 1713.36 L1886.38 1697.36 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M2114.98 1697.49 L2098.98 1713.49 L2114.98 1729.49 L2130.98 1713.49 L2114.98 1697.49 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M2343.58 1697.54 L2327.58 1713.54 L2343.58 1729.54 L2359.58 1713.54 L2343.58 1697.54 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M2572.18 1697.55 L2556.18 1713.55 L2572.18 1729.55 L2588.18 1713.55 L2572.18 1697.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip783)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,1484.99 514.779,1484.99 514.779,1631.36 743.378,1631.36 743.378,1683.18 971.978,1683.18 971.978,1702.3 1200.58,1702.3 1200.58,1709.39 1429.18,1709.39 1429.18,1712.02 1657.78,1712.02 1657.78,1713 1886.38,1713 1886.38,1713.36 2114.98,1713.36 2114.98,1713.49 2343.58,1713.49 2343.58,1713.54 2572.18,1713.54 2572.18,1713.55 "></polyline>
<path clip-path="url(#clip783)" d="M286.179 1011.82 L270.179 1027.82 L286.179 1043.82 L302.179 1027.82 L286.179 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M514.779 1442.02 L498.779 1458.02 L514.779 1474.02 L530.779 1458.02 L514.779 1442.02 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M743.378 1602.63 L727.378 1618.63 L743.378 1634.63 L759.378 1618.63 L743.378 1602.63 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M971.978 1662.31 L955.978 1678.31 L971.978 1694.31 L987.978 1678.31 L971.978 1662.31 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1200.58 1684.48 L1184.58 1700.48 L1200.58 1716.48 L1216.58 1700.48 L1200.58 1684.48 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1429.18 1692.71 L1413.18 1708.71 L1429.18 1724.71 L1445.18 1708.71 L1429.18 1692.71 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1657.78 1695.77 L1641.78 1711.77 L1657.78 1727.77 L1673.78 1711.77 L1657.78 1695.77 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1886.38 1696.9 L1870.38 1712.9 L1886.38 1728.9 L1902.38 1712.9 L1886.38 1696.9 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M2114.98 1697.32 L2098.98 1713.32 L2114.98 1729.32 L2130.98 1713.32 L2114.98 1697.32 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M2343.58 1697.48 L2327.58 1713.48 L2343.58 1729.48 L2359.58 1713.48 L2343.58 1697.48 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M2572.18 1697.53 L2556.18 1713.53 L2572.18 1729.53 L2588.18 1713.53 L2572.18 1697.53 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip783)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,1027.82 514.779,1027.82 514.779,1458.02 743.378,1458.02 743.378,1618.63 971.978,1618.63 971.978,1678.31 1200.58,1678.31 1200.58,1700.48 1429.18,1700.48 1429.18,1708.71 1657.78,1708.71 1657.78,1711.77 1886.38,1711.77 1886.38,1712.9 2114.98,1712.9 2114.98,1713.32 2343.58,1713.32 2343.58,1713.48 2572.18,1713.48 2572.18,1713.53 "></polyline>
<path clip-path="url(#clip780)" d="M2274.57 1186.99 L2559.98 1186.99 L2559.98 1031.47 L2274.57 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2274.57,1186.99 2559.98,1186.99 2559.98,1031.47 2274.57,1031.47 2274.57,1186.99 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2301.49,1083.31 2463.03,1083.31 "></polyline>
<path clip-path="url(#clip780)" d="M2514.61 1074.67 L2505.24 1087.28 L2515.1 1100.59 L2510.07 1100.59 L2502.53 1090.41 L2494.98 1100.59 L2489.96 1100.59 L2500.03 1087.03 L2490.81 1074.67 L2495.84 1074.67 L2502.71 1083.9 L2509.59 1074.67 L2514.61 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2520.26 1098.05 L2524.98 1098.05 L2524.98 1083.9 L2519.82 1084.85 L2519.82 1082.17 L2525.14 1081.26 L2528.31 1081.26 L2528.31 1098.05 L2533.06 1098.05 L2533.06 1100.59 L2520.26 1100.59 L2520.26 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip780)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2301.49,1135.15 2463.03,1135.15 "></polyline>
<path clip-path="url(#clip780)" d="M2514.61 1126.51 L2505.24 1139.12 L2515.1 1152.43 L2510.07 1152.43 L2502.53 1142.25 L2494.98 1152.43 L2489.96 1152.43 L2500.03 1138.87 L2490.81 1126.51 L2495.84 1126.51 L2502.71 1135.74 L2509.59 1126.51 L2514.61 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2522.85 1149.79 L2532.67 1149.79 L2532.67 1152.43 L2518.82 1152.43 L2518.82 1149.89 Q2519.61 1149.17 2521.07 1147.87 Q2529.03 1140.81 2529.03 1138.64 Q2529.03 1137.11 2527.83 1136.18 Q2526.62 1135.23 2524.66 1135.23 Q2523.45 1135.23 2522.04 1135.65 Q2520.63 1136.04 2518.96 1136.85 L2518.96 1134.01 Q2520.75 1133.36 2522.27 1133.04 Q2523.82 1132.71 2525.14 1132.71 Q2528.5 1132.71 2530.51 1134.24 Q2532.53 1135.77 2532.53 1138.27 Q2532.53 1141.48 2524.87 1148.06 Q2523.57 1149.17 2522.85 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
<section id="adding-the-constraints-on-controls" class="level3">
<h3 class="anchored" data-anchor-id="adding-the-constraints-on-controls">Adding the constraints on controls</h3>
<p>Adding constraints on <span class="math inline">\bar{\bm u}</span> is straightforward. It is just that instead of a linear system we will have a linear system with additional inequality constraints. Let’s get one <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bar{\bm u}} &amp; \quad \frac{1}{2}\bar{\bm u}^T \mathbf H \bar{\bm u} + \mathbf x_0^T\mathbf F^T \bar{\bm u}\\
\text{subject to} &amp;\quad \bar{\bm u} \leq \bar{\mathbf u}^\mathrm{max}\\
               &amp;\quad \bar{\bm u} \geq \bar{\mathbf u}^\mathrm{min},
\end{aligned}
</span> which we can rewrite more explicitly (in the matrix-vector format) as <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bar{\bm u}} &amp; \quad \frac{1}{2}\bar{\bm u}^T \mathbf H \bar{\bm u} + \mathbf x_0^T\mathbf F^T \bar{\bm u}\\
\text{subject to} &amp; \begin{bmatrix}
                  \mathbf{I}  &amp;    &amp;         &amp;    \\
                    &amp; \mathbf{I}  &amp;         &amp;    \\
                    &amp;    &amp; \ddots  &amp;    \\
                    &amp;    &amp;         &amp;  \mathbf{I} \\
                    -\mathbf{I}   &amp;   &amp;     &amp;    \\
                    &amp; -\mathbf{I} &amp;         &amp;    \\
                    &amp;    &amp; \ddots  &amp;    \\
                    &amp;    &amp;         &amp;  -\mathbf{I}
                 \end{bmatrix}
                 \begin{bmatrix}
                  \bm u_0 \\ \bm u_1 \\ \vdots \\ \bm u_{N-1}
                 \end{bmatrix}
                 \leq
                 \begin{bmatrix}
                  \mathbf u^\mathbf{max} \\ \mathbf u^\mathrm{max} \\ \vdots \\ \mathbf u^\mathrm{max}\\ -\mathbf u^\mathrm{min} \\ -\mathbf u^\mathrm{min} \\ \vdots \\ -\mathbf u^\mathrm{min}
                 \end{bmatrix}.
\end{aligned}
</span></p>
<div id="exm-direct-sequential-constrained-u" class="theorem example">
<p><span class="theorem-title"><strong>Example 4 (Reformulating the LQR problem with constraints on control as a quadratic program – sequential approach)</strong></span> &nbsp;</p>
<div id="8" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">BlockArrays</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">SparseArrays</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">JuMP</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">OSQP</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N,(umin,umax))</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">size</span>(A)[<span class="fl">1</span>]</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">size</span>(B)[<span class="fl">2</span>]</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    Q̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>n),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        Q̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> Q</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    Q̄[<span class="fu">Block</span>(N,N)] <span class="op">=</span> S</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    R̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>m,N<span class="op">*</span>m),<span class="fu">repeat</span>([m],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>        R̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> R</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    Ĉ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>m),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    Â <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,n),<span class="fu">repeat</span>([n],N),[n])</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="op">=</span> <span class="fl">1</span><span class="op">:</span>i</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>            Ĉ[<span class="fu">Block</span>(i,j)] <span class="op">=</span> A<span class="op">^</span>(i<span class="op">-</span>j)<span class="op">*</span>B</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>            Â[<span class="fu">Block</span>(i,<span class="fl">1</span>)] <span class="op">=</span> A<span class="op">^</span>i</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Ĉ + R̄</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> <span class="fu">Array</span>(H)</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Â</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> <span class="fu">Array</span>(F)</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> <span class="fu">Model</span>()</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@variable</span>(prob, u[<span class="fl">1</span><span class="op">:</span>N<span class="op">*</span>m])</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@objective</span>(prob, Min, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="fu">*dot</span>(u,H,u) <span class="op">+</span> <span class="fu">dot</span>(F<span class="op">*</span>x₀,u))</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@constraint</span>(prob, u <span class="op">.&gt;=</span> umin)</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@constraint</span>(prob, u <span class="op">.&lt;=</span> umax)</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_silent</span>(prob)</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_optimizer</span>(prob, OSQP.Optimizer)</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">optimize!</span>(prob)</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    uopt <span class="op">=</span> <span class="fu">value</span>.(u)</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> Ĉ<span class="op">*</span>uopt <span class="op">+</span> Â<span class="op">*</span>x₀</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> <span class="fu">reshape</span>(xopt,(<span class="fl">2</span>,<span class="op">:</span>))</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a><span class="co">#=     u = Variable(N*m)</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a><span class="co">    problem = minimize(1/2*quadform(u,H) + dot(F*x₀,u))</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a><span class="co">    problem.constraints = [u &gt;= umin, u &lt;= umax]</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a><span class="co">    Convex.solve!(problem, SCS.Optimizer; silent = true)</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a><span class="co">    xopt = Ĉ*u.value + Â*x₀</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="co">    xopt = reshape(xopt,(2,:))</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a><span class="co">    uopt = u.value =#</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> xopt,uopt</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>umin <span class="op">=</span> <span class="op">-</span><span class="fl">1.0</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>umax <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>xopt,uopt <span class="op">=</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N,(umin,umax))</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,<span class="fu">hcat</span>(x₀,xopt)<span class="ch">',marker=:diamond,label=["x₁" "x₂"],linetype=:steppost)</span></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip840">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip840)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip841">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip840)" d="M563.478 774.117 L2640.76 774.117 L2640.76 47.2441 L563.478 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip842">
    <rect x="563" y="47" width="2078" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="622.269,774.117 622.269,47.2441 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1057.76,774.117 1057.76,47.2441 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1493.25,774.117 1493.25,47.2441 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1928.73,774.117 1928.73,47.2441 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2364.22,774.117 2364.22,47.2441 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="563.478,636.662 2640.76,636.662 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="563.478,490.605 2640.76,490.605 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="563.478,344.549 2640.76,344.549 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="563.478,198.492 2640.76,198.492 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="563.478,52.4354 2640.76,52.4354 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="622.269,774.117 622.269,755.219 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1057.76,774.117 1057.76,755.219 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1493.25,774.117 1493.25,755.219 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1928.73,774.117 1928.73,755.219 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2364.22,774.117 2364.22,755.219 "></polyline>
<path clip-path="url(#clip840)" d="M622.269 807.34 Q618.658 807.34 616.829 810.904 Q615.024 814.446 615.024 821.576 Q615.024 828.682 616.829 832.247 Q618.658 835.789 622.269 835.789 Q625.903 835.789 627.709 832.247 Q629.538 828.682 629.538 821.576 Q629.538 814.446 627.709 810.904 Q625.903 807.34 622.269 807.34 M622.269 803.636 Q628.079 803.636 631.135 808.242 Q634.213 812.826 634.213 821.576 Q634.213 830.303 631.135 834.909 Q628.079 839.492 622.269 839.492 Q616.459 839.492 613.38 834.909 Q610.325 830.303 610.325 821.576 Q610.325 812.826 613.38 808.242 Q616.459 803.636 622.269 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1052.41 834.886 L1068.73 834.886 L1068.73 838.821 L1046.78 838.821 L1046.78 834.886 Q1049.45 832.131 1054.03 827.502 Q1058.64 822.849 1059.82 821.506 Q1062.06 818.983 1062.94 817.247 Q1063.84 815.488 1063.84 813.798 Q1063.84 811.043 1061.9 809.307 Q1059.98 807.571 1056.88 807.571 Q1054.68 807.571 1052.22 808.335 Q1049.79 809.099 1047.02 810.65 L1047.02 805.928 Q1049.84 804.793 1052.29 804.215 Q1054.75 803.636 1056.78 803.636 Q1062.16 803.636 1065.35 806.321 Q1068.54 809.006 1068.54 813.497 Q1068.54 815.627 1067.73 817.548 Q1066.95 819.446 1064.84 822.039 Q1064.26 822.71 1061.16 825.928 Q1058.06 829.122 1052.41 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1496.25 808.335 L1484.45 826.784 L1496.25 826.784 L1496.25 808.335 M1495.03 804.261 L1500.91 804.261 L1500.91 826.784 L1505.84 826.784 L1505.84 830.673 L1500.91 830.673 L1500.91 838.821 L1496.25 838.821 L1496.25 830.673 L1480.65 830.673 L1480.65 826.159 L1495.03 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1929.14 819.678 Q1925.99 819.678 1924.14 821.83 Q1922.31 823.983 1922.31 827.733 Q1922.31 831.46 1924.14 833.636 Q1925.99 835.789 1929.14 835.789 Q1932.29 835.789 1934.11 833.636 Q1935.97 831.46 1935.97 827.733 Q1935.97 823.983 1934.11 821.83 Q1932.29 819.678 1929.14 819.678 M1938.42 805.025 L1938.42 809.284 Q1936.66 808.451 1934.86 808.011 Q1933.07 807.571 1931.31 807.571 Q1926.68 807.571 1924.23 810.696 Q1921.8 813.821 1921.45 820.141 Q1922.82 818.127 1924.88 817.062 Q1926.94 815.974 1929.42 815.974 Q1934.62 815.974 1937.63 819.145 Q1940.67 822.293 1940.67 827.733 Q1940.67 833.057 1937.52 836.275 Q1934.37 839.492 1929.14 839.492 Q1923.14 839.492 1919.97 834.909 Q1916.8 830.303 1916.8 821.576 Q1916.8 813.381 1920.69 808.52 Q1924.58 803.636 1931.13 803.636 Q1932.89 803.636 1934.67 803.983 Q1936.48 804.33 1938.42 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2364.22 822.409 Q2360.89 822.409 2358.97 824.191 Q2357.07 825.974 2357.07 829.099 Q2357.07 832.224 2358.97 834.006 Q2360.89 835.789 2364.22 835.789 Q2367.55 835.789 2369.48 834.006 Q2371.4 832.201 2371.4 829.099 Q2371.4 825.974 2369.48 824.191 Q2367.58 822.409 2364.22 822.409 M2359.55 820.418 Q2356.54 819.678 2354.85 817.617 Q2353.18 815.557 2353.18 812.594 Q2353.18 808.451 2356.12 806.043 Q2359.08 803.636 2364.22 803.636 Q2369.38 803.636 2372.32 806.043 Q2375.26 808.451 2375.26 812.594 Q2375.26 815.557 2373.57 817.617 Q2371.91 819.678 2368.92 820.418 Q2372.3 821.205 2374.17 823.497 Q2376.07 825.789 2376.07 829.099 Q2376.07 834.122 2372.99 836.807 Q2369.94 839.492 2364.22 839.492 Q2358.5 839.492 2355.42 836.807 Q2352.37 834.122 2352.37 829.099 Q2352.37 825.789 2354.27 823.497 Q2356.17 821.205 2359.55 820.418 M2357.83 813.034 Q2357.83 815.719 2359.5 817.224 Q2361.19 818.729 2364.22 818.729 Q2367.23 818.729 2368.92 817.224 Q2370.63 815.719 2370.63 813.034 Q2370.63 810.349 2368.92 808.844 Q2367.23 807.34 2364.22 807.34 Q2361.19 807.34 2359.5 808.844 Q2357.83 810.349 2357.83 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1586.3 873.776 L1592.19 873.776 L1592.19 903.026 L1609.66 887.653 L1617.14 887.653 L1598.23 904.331 L1617.94 923.301 L1610.3 923.301 L1592.19 905.891 L1592.19 923.301 L1586.3 923.301 L1586.3 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,774.117 563.478,47.2441 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,636.662 582.376,636.662 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,490.605 582.376,490.605 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,344.549 582.376,344.549 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,198.492 582.376,198.492 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,52.4354 582.376,52.4354 "></polyline>
<path clip-path="url(#clip840)" d="M145.95 643.561 L175.625 643.561 L175.625 647.496 L145.95 647.496 L145.95 643.561 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M186.528 656.454 L194.167 656.454 L194.167 630.089 L185.857 631.755 L185.857 627.496 L194.121 625.829 L198.796 625.829 L198.796 656.454 L206.435 656.454 L206.435 660.389 L186.528 660.389 L186.528 656.454 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M215.88 654.51 L220.764 654.51 L220.764 660.389 L215.88 660.389 L215.88 654.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M240.949 628.908 Q237.338 628.908 235.509 632.473 Q233.704 636.015 233.704 643.144 Q233.704 650.251 235.509 653.815 Q237.338 657.357 240.949 657.357 Q244.583 657.357 246.389 653.815 Q248.217 650.251 248.217 643.144 Q248.217 636.015 246.389 632.473 Q244.583 628.908 240.949 628.908 M240.949 625.205 Q246.759 625.205 249.815 629.811 Q252.893 634.394 252.893 643.144 Q252.893 651.871 249.815 656.477 Q246.759 661.061 240.949 661.061 Q235.139 661.061 232.06 656.477 Q229.005 651.871 229.005 643.144 Q229.005 634.394 232.06 629.811 Q235.139 625.205 240.949 625.205 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M271.111 628.908 Q267.5 628.908 265.671 632.473 Q263.866 636.015 263.866 643.144 Q263.866 650.251 265.671 653.815 Q267.5 657.357 271.111 657.357 Q274.745 657.357 276.551 653.815 Q278.379 650.251 278.379 643.144 Q278.379 636.015 276.551 632.473 Q274.745 628.908 271.111 628.908 M271.111 625.205 Q276.921 625.205 279.977 629.811 Q283.055 634.394 283.055 643.144 Q283.055 651.871 279.977 656.477 Q276.921 661.061 271.111 661.061 Q265.301 661.061 262.222 656.477 Q259.167 651.871 259.167 643.144 Q259.167 634.394 262.222 629.811 Q265.301 625.205 271.111 625.205 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M301.273 628.908 Q297.662 628.908 295.833 632.473 Q294.027 636.015 294.027 643.144 Q294.027 650.251 295.833 653.815 Q297.662 657.357 301.273 657.357 Q304.907 657.357 306.713 653.815 Q308.541 650.251 308.541 643.144 Q308.541 636.015 306.713 632.473 Q304.907 628.908 301.273 628.908 M301.273 625.205 Q307.083 625.205 310.138 629.811 Q313.217 634.394 313.217 643.144 Q313.217 651.871 310.138 656.477 Q307.083 661.061 301.273 661.061 Q295.463 661.061 292.384 656.477 Q289.328 651.871 289.328 643.144 Q289.328 634.394 292.384 629.811 Q295.463 625.205 301.273 625.205 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M331.435 628.908 Q327.824 628.908 325.995 632.473 Q324.189 636.015 324.189 643.144 Q324.189 650.251 325.995 653.815 Q327.824 657.357 331.435 657.357 Q335.069 657.357 336.874 653.815 Q338.703 650.251 338.703 643.144 Q338.703 636.015 336.874 632.473 Q335.069 628.908 331.435 628.908 M331.435 625.205 Q337.245 625.205 340.3 629.811 Q343.379 634.394 343.379 643.144 Q343.379 651.871 340.3 656.477 Q337.245 661.061 331.435 661.061 Q325.624 661.061 322.546 656.477 Q319.49 651.871 319.49 643.144 Q319.49 634.394 322.546 629.811 Q325.624 625.205 331.435 625.205 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M352.407 656.454 L360.046 656.454 L360.046 630.089 L351.735 631.755 L351.735 627.496 L359.999 625.829 L364.675 625.829 L364.675 656.454 L372.314 656.454 L372.314 660.389 L352.407 660.389 L352.407 656.454 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M391.758 628.908 Q388.147 628.908 386.319 632.473 Q384.513 636.015 384.513 643.144 Q384.513 650.251 386.319 653.815 Q388.147 657.357 391.758 657.357 Q395.393 657.357 397.198 653.815 Q399.027 650.251 399.027 643.144 Q399.027 636.015 397.198 632.473 Q395.393 628.908 391.758 628.908 M391.758 625.205 Q397.569 625.205 400.624 629.811 Q403.703 634.394 403.703 643.144 Q403.703 651.871 400.624 656.477 Q397.569 661.061 391.758 661.061 Q385.948 661.061 382.87 656.477 Q379.814 651.871 379.814 643.144 Q379.814 634.394 382.87 629.811 Q385.948 625.205 391.758 625.205 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M440.091 634.927 L429.513 645.552 L440.091 656.13 L437.337 658.931 L426.712 648.306 L416.087 658.931 L413.356 656.13 L423.911 645.552 L413.356 634.927 L416.087 632.126 L426.712 642.751 L437.337 632.126 L440.091 634.927 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M452.453 656.454 L460.091 656.454 L460.091 630.089 L451.781 631.755 L451.781 627.496 L460.045 625.829 L464.721 625.829 L464.721 656.454 L472.36 656.454 L472.36 660.389 L452.453 660.389 L452.453 656.454 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M491.804 628.908 Q488.193 628.908 486.364 632.473 Q484.559 636.015 484.559 643.144 Q484.559 650.251 486.364 653.815 Q488.193 657.357 491.804 657.357 Q495.438 657.357 497.244 653.815 Q499.073 650.251 499.073 643.144 Q499.073 636.015 497.244 632.473 Q495.438 628.908 491.804 628.908 M491.804 625.205 Q497.614 625.205 500.67 629.811 Q503.749 634.394 503.749 643.144 Q503.749 651.871 500.67 656.477 Q497.614 661.061 491.804 661.061 Q485.994 661.061 482.915 656.477 Q479.86 651.871 479.86 643.144 Q479.86 634.394 482.915 629.811 Q485.994 625.205 491.804 625.205 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M513.453 607.401 Q510.519 607.401 509.034 610.297 Q507.567 613.175 507.567 618.967 Q507.567 624.741 509.034 627.638 Q510.519 630.515 513.453 630.515 Q516.406 630.515 517.873 627.638 Q519.359 624.741 519.359 618.967 Q519.359 613.175 517.873 610.297 Q516.406 607.401 513.453 607.401 M513.453 604.391 Q518.174 604.391 520.657 608.134 Q523.158 611.858 523.158 618.967 Q523.158 626.058 520.657 629.801 Q518.174 633.525 513.453 633.525 Q508.733 633.525 506.231 629.801 Q503.749 626.058 503.749 618.967 Q503.749 611.858 506.231 608.134 Q508.733 604.391 513.453 604.391 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M145.95 497.504 L175.625 497.504 L175.625 501.439 L145.95 501.439 L145.95 497.504 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M186.528 510.398 L194.167 510.398 L194.167 484.032 L185.857 485.699 L185.857 481.44 L194.121 479.773 L198.796 479.773 L198.796 510.398 L206.435 510.398 L206.435 514.333 L186.528 514.333 L186.528 510.398 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M215.88 508.453 L220.764 508.453 L220.764 514.333 L215.88 514.333 L215.88 508.453 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M240.949 482.852 Q237.338 482.852 235.509 486.416 Q233.704 489.958 233.704 497.088 Q233.704 504.194 235.509 507.759 Q237.338 511.3 240.949 511.3 Q244.583 511.3 246.389 507.759 Q248.217 504.194 248.217 497.088 Q248.217 489.958 246.389 486.416 Q244.583 482.852 240.949 482.852 M240.949 479.148 Q246.759 479.148 249.815 483.754 Q252.893 488.338 252.893 497.088 Q252.893 505.814 249.815 510.421 Q246.759 515.004 240.949 515.004 Q235.139 515.004 232.06 510.421 Q229.005 505.814 229.005 497.088 Q229.005 488.338 232.06 483.754 Q235.139 479.148 240.949 479.148 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M271.111 482.852 Q267.5 482.852 265.671 486.416 Q263.866 489.958 263.866 497.088 Q263.866 504.194 265.671 507.759 Q267.5 511.3 271.111 511.3 Q274.745 511.3 276.551 507.759 Q278.379 504.194 278.379 497.088 Q278.379 489.958 276.551 486.416 Q274.745 482.852 271.111 482.852 M271.111 479.148 Q276.921 479.148 279.977 483.754 Q283.055 488.338 283.055 497.088 Q283.055 505.814 279.977 510.421 Q276.921 515.004 271.111 515.004 Q265.301 515.004 262.222 510.421 Q259.167 505.814 259.167 497.088 Q259.167 488.338 262.222 483.754 Q265.301 479.148 271.111 479.148 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M301.273 482.852 Q297.662 482.852 295.833 486.416 Q294.027 489.958 294.027 497.088 Q294.027 504.194 295.833 507.759 Q297.662 511.3 301.273 511.3 Q304.907 511.3 306.713 507.759 Q308.541 504.194 308.541 497.088 Q308.541 489.958 306.713 486.416 Q304.907 482.852 301.273 482.852 M301.273 479.148 Q307.083 479.148 310.138 483.754 Q313.217 488.338 313.217 497.088 Q313.217 505.814 310.138 510.421 Q307.083 515.004 301.273 515.004 Q295.463 515.004 292.384 510.421 Q289.328 505.814 289.328 497.088 Q289.328 488.338 292.384 483.754 Q295.463 479.148 301.273 479.148 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M331.435 482.852 Q327.824 482.852 325.995 486.416 Q324.189 489.958 324.189 497.088 Q324.189 504.194 325.995 507.759 Q327.824 511.3 331.435 511.3 Q335.069 511.3 336.874 507.759 Q338.703 504.194 338.703 497.088 Q338.703 489.958 336.874 486.416 Q335.069 482.852 331.435 482.852 M331.435 479.148 Q337.245 479.148 340.3 483.754 Q343.379 488.338 343.379 497.088 Q343.379 505.814 340.3 510.421 Q337.245 515.004 331.435 515.004 Q325.624 515.004 322.546 510.421 Q319.49 505.814 319.49 497.088 Q319.49 488.338 322.546 483.754 Q325.624 479.148 331.435 479.148 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M361.597 482.852 Q357.985 482.852 356.157 486.416 Q354.351 489.958 354.351 497.088 Q354.351 504.194 356.157 507.759 Q357.985 511.3 361.597 511.3 Q365.231 511.3 367.036 507.759 Q368.865 504.194 368.865 497.088 Q368.865 489.958 367.036 486.416 Q365.231 482.852 361.597 482.852 M361.597 479.148 Q367.407 479.148 370.462 483.754 Q373.541 488.338 373.541 497.088 Q373.541 505.814 370.462 510.421 Q367.407 515.004 361.597 515.004 Q355.786 515.004 352.708 510.421 Q349.652 505.814 349.652 497.088 Q349.652 488.338 352.708 483.754 Q355.786 479.148 361.597 479.148 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M391.758 482.852 Q388.147 482.852 386.319 486.416 Q384.513 489.958 384.513 497.088 Q384.513 504.194 386.319 507.759 Q388.147 511.3 391.758 511.3 Q395.393 511.3 397.198 507.759 Q399.027 504.194 399.027 497.088 Q399.027 489.958 397.198 486.416 Q395.393 482.852 391.758 482.852 M391.758 479.148 Q397.569 479.148 400.624 483.754 Q403.703 488.338 403.703 497.088 Q403.703 505.814 400.624 510.421 Q397.569 515.004 391.758 515.004 Q385.948 515.004 382.87 510.421 Q379.814 505.814 379.814 497.088 Q379.814 488.338 382.87 483.754 Q385.948 479.148 391.758 479.148 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M440.091 488.87 L429.513 499.495 L440.091 510.074 L437.337 512.875 L426.712 502.25 L416.087 512.875 L413.356 510.074 L423.911 499.495 L413.356 488.87 L416.087 486.069 L426.712 496.694 L437.337 486.069 L440.091 488.87 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M452.453 510.398 L460.091 510.398 L460.091 484.032 L451.781 485.699 L451.781 481.44 L460.045 479.773 L464.721 479.773 L464.721 510.398 L472.36 510.398 L472.36 514.333 L452.453 514.333 L452.453 510.398 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M491.804 482.852 Q488.193 482.852 486.364 486.416 Q484.559 489.958 484.559 497.088 Q484.559 504.194 486.364 507.759 Q488.193 511.3 491.804 511.3 Q495.438 511.3 497.244 507.759 Q499.073 504.194 499.073 497.088 Q499.073 489.958 497.244 486.416 Q495.438 482.852 491.804 482.852 M491.804 479.148 Q497.614 479.148 500.67 483.754 Q503.749 488.338 503.749 497.088 Q503.749 505.814 500.67 510.421 Q497.614 515.004 491.804 515.004 Q485.994 515.004 482.915 510.421 Q479.86 505.814 479.86 497.088 Q479.86 488.338 482.915 483.754 Q485.994 479.148 491.804 479.148 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M513.453 461.344 Q510.519 461.344 509.034 464.24 Q507.567 467.118 507.567 472.911 Q507.567 478.685 509.034 481.581 Q510.519 484.459 513.453 484.459 Q516.406 484.459 517.873 481.581 Q519.359 478.685 519.359 472.911 Q519.359 467.118 517.873 464.24 Q516.406 461.344 513.453 461.344 M513.453 458.335 Q518.174 458.335 520.657 462.077 Q523.158 465.801 523.158 472.911 Q523.158 480.001 520.657 483.744 Q518.174 487.468 513.453 487.468 Q508.733 487.468 506.231 483.744 Q503.749 480.001 503.749 472.911 Q503.749 465.801 506.231 462.077 Q508.733 458.335 513.453 458.335 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M116.214 351.448 L145.89 351.448 L145.89 355.383 L116.214 355.383 L116.214 351.448 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M156.122 367.559 L156.122 363.299 Q157.881 364.133 159.686 364.573 Q161.492 365.012 163.228 365.012 Q167.858 365.012 170.288 361.911 Q172.742 358.786 173.089 352.443 Q171.747 354.434 169.686 355.499 Q167.626 356.563 165.126 356.563 Q159.941 356.563 156.909 353.438 Q153.899 350.29 153.899 344.85 Q153.899 339.526 157.048 336.309 Q160.196 333.091 165.427 333.091 Q171.422 333.091 174.571 337.698 Q177.742 342.281 177.742 351.031 Q177.742 359.202 173.853 364.086 Q169.987 368.948 163.436 368.948 Q161.677 368.948 159.872 368.6 Q158.066 368.253 156.122 367.559 M165.427 352.906 Q168.575 352.906 170.404 350.753 Q172.256 348.6 172.256 344.85 Q172.256 341.124 170.404 338.971 Q168.575 336.795 165.427 336.795 Q162.279 336.795 160.427 338.971 Q158.598 341.124 158.598 344.85 Q158.598 348.6 160.427 350.753 Q162.279 352.906 165.427 352.906 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M186.145 362.397 L191.029 362.397 L191.029 368.276 L186.145 368.276 L186.145 362.397 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M201.353 367.559 L201.353 363.299 Q203.112 364.133 204.918 364.573 Q206.723 365.012 208.459 365.012 Q213.089 365.012 215.519 361.911 Q217.973 358.786 218.32 352.443 Q216.978 354.434 214.918 355.499 Q212.857 356.563 210.357 356.563 Q205.172 356.563 202.14 353.438 Q199.131 350.29 199.131 344.85 Q199.131 339.526 202.279 336.309 Q205.427 333.091 210.658 333.091 Q216.654 333.091 219.802 337.698 Q222.973 342.281 222.973 351.031 Q222.973 359.202 219.084 364.086 Q215.219 368.948 208.668 368.948 Q206.908 368.948 205.103 368.6 Q203.297 368.253 201.353 367.559 M210.658 352.906 Q213.807 352.906 215.635 350.753 Q217.487 348.6 217.487 344.85 Q217.487 341.124 215.635 338.971 Q213.807 336.795 210.658 336.795 Q207.51 336.795 205.658 338.971 Q203.83 341.124 203.83 344.85 Q203.83 348.6 205.658 350.753 Q207.51 352.906 210.658 352.906 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M231.515 367.559 L231.515 363.299 Q233.274 364.133 235.08 364.573 Q236.885 365.012 238.621 365.012 Q243.251 365.012 245.681 361.911 Q248.135 358.786 248.482 352.443 Q247.14 354.434 245.079 355.499 Q243.019 356.563 240.519 356.563 Q235.334 356.563 232.302 353.438 Q229.293 350.29 229.293 344.85 Q229.293 339.526 232.441 336.309 Q235.589 333.091 240.82 333.091 Q246.816 333.091 249.964 337.698 Q253.135 342.281 253.135 351.031 Q253.135 359.202 249.246 364.086 Q245.38 368.948 238.83 368.948 Q237.07 368.948 235.265 368.6 Q233.459 368.253 231.515 367.559 M240.82 352.906 Q243.968 352.906 245.797 350.753 Q247.649 348.6 247.649 344.85 Q247.649 341.124 245.797 338.971 Q243.968 336.795 240.82 336.795 Q237.672 336.795 235.82 338.971 Q233.992 341.124 233.992 344.85 Q233.992 348.6 235.82 350.753 Q237.672 352.906 240.82 352.906 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M261.677 367.559 L261.677 363.299 Q263.436 364.133 265.241 364.573 Q267.047 365.012 268.783 365.012 Q273.413 365.012 275.843 361.911 Q278.297 358.786 278.644 352.443 Q277.302 354.434 275.241 355.499 Q273.181 356.563 270.681 356.563 Q265.496 356.563 262.464 353.438 Q259.454 350.29 259.454 344.85 Q259.454 339.526 262.603 336.309 Q265.751 333.091 270.982 333.091 Q276.977 333.091 280.126 337.698 Q283.297 342.281 283.297 351.031 Q283.297 359.202 279.408 364.086 Q275.542 368.948 268.991 368.948 Q267.232 368.948 265.427 368.6 Q263.621 368.253 261.677 367.559 M270.982 352.906 Q274.13 352.906 275.959 350.753 Q277.811 348.6 277.811 344.85 Q277.811 341.124 275.959 338.971 Q274.13 336.795 270.982 336.795 Q267.834 336.795 265.982 338.971 Q264.153 341.124 264.153 344.85 Q264.153 348.6 265.982 350.753 Q267.834 352.906 270.982 352.906 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M291.839 367.559 L291.839 363.299 Q293.598 364.133 295.403 364.573 Q297.209 365.012 298.945 365.012 Q303.575 365.012 306.005 361.911 Q308.459 358.786 308.806 352.443 Q307.463 354.434 305.403 355.499 Q303.343 356.563 300.843 356.563 Q295.658 356.563 292.626 353.438 Q289.616 350.29 289.616 344.85 Q289.616 339.526 292.764 336.309 Q295.913 333.091 301.144 333.091 Q307.139 333.091 310.287 337.698 Q313.459 342.281 313.459 351.031 Q313.459 359.202 309.57 364.086 Q305.704 368.948 299.153 368.948 Q297.394 368.948 295.588 368.6 Q293.783 368.253 291.839 367.559 M301.144 352.906 Q304.292 352.906 306.121 350.753 Q307.973 348.6 307.973 344.85 Q307.973 341.124 306.121 338.971 Q304.292 336.795 301.144 336.795 Q297.996 336.795 296.144 338.971 Q294.315 341.124 294.315 344.85 Q294.315 348.6 296.144 350.753 Q297.996 352.906 301.144 352.906 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M331.861 336.795 Q328.25 336.795 326.422 340.36 Q324.616 343.901 324.616 351.031 Q324.616 358.137 326.422 361.702 Q328.25 365.244 331.861 365.244 Q335.496 365.244 337.301 361.702 Q339.13 358.137 339.13 351.031 Q339.13 343.901 337.301 340.36 Q335.496 336.795 331.861 336.795 M331.861 333.091 Q337.672 333.091 340.727 337.698 Q343.806 342.281 343.806 351.031 Q343.806 359.758 340.727 364.364 Q337.672 368.948 331.861 368.948 Q326.051 368.948 322.973 364.364 Q319.917 359.758 319.917 351.031 Q319.917 342.281 322.973 337.698 Q326.051 333.091 331.861 333.091 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M362.023 336.795 Q358.412 336.795 356.584 340.36 Q354.778 343.901 354.778 351.031 Q354.778 358.137 356.584 361.702 Q358.412 365.244 362.023 365.244 Q365.658 365.244 367.463 361.702 Q369.292 358.137 369.292 351.031 Q369.292 343.901 367.463 340.36 Q365.658 336.795 362.023 336.795 M362.023 333.091 Q367.833 333.091 370.889 337.698 Q373.968 342.281 373.968 351.031 Q373.968 359.758 370.889 364.364 Q367.833 368.948 362.023 368.948 Q356.213 368.948 353.134 364.364 Q350.079 359.758 350.079 351.031 Q350.079 342.281 353.134 337.698 Q356.213 333.091 362.023 333.091 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M410.356 342.813 L399.778 353.438 L410.356 364.017 L407.602 366.818 L396.977 356.193 L386.352 366.818 L383.62 364.017 L394.176 353.438 L383.62 342.813 L386.352 340.013 L396.977 350.637 L407.602 340.013 L410.356 342.813 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M422.717 364.341 L430.356 364.341 L430.356 337.975 L422.046 339.642 L422.046 335.383 L430.31 333.716 L434.986 333.716 L434.986 364.341 L442.625 364.341 L442.625 368.276 L422.717 368.276 L422.717 364.341 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M462.069 336.795 Q458.458 336.795 456.629 340.36 Q454.824 343.901 454.824 351.031 Q454.824 358.137 456.629 361.702 Q458.458 365.244 462.069 365.244 Q465.703 365.244 467.509 361.702 Q469.338 358.137 469.338 351.031 Q469.338 343.901 467.509 340.36 Q465.703 336.795 462.069 336.795 M462.069 333.091 Q467.879 333.091 470.935 337.698 Q474.013 342.281 474.013 351.031 Q474.013 359.758 470.935 364.364 Q467.879 368.948 462.069 368.948 Q456.259 368.948 453.18 364.364 Q450.125 359.758 450.125 351.031 Q450.125 342.281 453.18 337.698 Q456.259 333.091 462.069 333.091 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M474.013 327.193 L498.125 327.193 L498.125 330.39 L474.013 330.39 L474.013 327.193 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M506.983 337.669 L513.19 337.669 L513.19 316.246 L506.438 317.601 L506.438 314.14 L513.152 312.786 L516.952 312.786 L516.952 337.669 L523.158 337.669 L523.158 340.866 L506.983 340.866 L506.983 337.669 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M116.214 205.391 L145.89 205.391 L145.89 209.326 L116.214 209.326 L116.214 205.391 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M156.122 221.502 L156.122 217.243 Q157.881 218.076 159.686 218.516 Q161.492 218.956 163.228 218.956 Q167.858 218.956 170.288 215.854 Q172.742 212.729 173.089 206.386 Q171.747 208.377 169.686 209.442 Q167.626 210.507 165.126 210.507 Q159.941 210.507 156.909 207.382 Q153.899 204.234 153.899 198.794 Q153.899 193.47 157.048 190.252 Q160.196 187.035 165.427 187.035 Q171.422 187.035 174.571 191.641 Q177.742 196.224 177.742 204.974 Q177.742 213.146 173.853 218.03 Q169.987 222.891 163.436 222.891 Q161.677 222.891 159.872 222.544 Q158.066 222.196 156.122 221.502 M165.427 206.849 Q168.575 206.849 170.404 204.697 Q172.256 202.544 172.256 198.794 Q172.256 195.067 170.404 192.914 Q168.575 190.738 165.427 190.738 Q162.279 190.738 160.427 192.914 Q158.598 195.067 158.598 198.794 Q158.598 202.544 160.427 204.697 Q162.279 206.849 165.427 206.849 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M186.145 216.34 L191.029 216.34 L191.029 222.22 L186.145 222.22 L186.145 216.34 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M201.353 221.502 L201.353 217.243 Q203.112 218.076 204.918 218.516 Q206.723 218.956 208.459 218.956 Q213.089 218.956 215.519 215.854 Q217.973 212.729 218.32 206.386 Q216.978 208.377 214.918 209.442 Q212.857 210.507 210.357 210.507 Q205.172 210.507 202.14 207.382 Q199.131 204.234 199.131 198.794 Q199.131 193.47 202.279 190.252 Q205.427 187.035 210.658 187.035 Q216.654 187.035 219.802 191.641 Q222.973 196.224 222.973 204.974 Q222.973 213.146 219.084 218.03 Q215.219 222.891 208.668 222.891 Q206.908 222.891 205.103 222.544 Q203.297 222.196 201.353 221.502 M210.658 206.849 Q213.807 206.849 215.635 204.697 Q217.487 202.544 217.487 198.794 Q217.487 195.067 215.635 192.914 Q213.807 190.738 210.658 190.738 Q207.51 190.738 205.658 192.914 Q203.83 195.067 203.83 198.794 Q203.83 202.544 205.658 204.697 Q207.51 206.849 210.658 206.849 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M231.515 221.502 L231.515 217.243 Q233.274 218.076 235.08 218.516 Q236.885 218.956 238.621 218.956 Q243.251 218.956 245.681 215.854 Q248.135 212.729 248.482 206.386 Q247.14 208.377 245.079 209.442 Q243.019 210.507 240.519 210.507 Q235.334 210.507 232.302 207.382 Q229.293 204.234 229.293 198.794 Q229.293 193.47 232.441 190.252 Q235.589 187.035 240.82 187.035 Q246.816 187.035 249.964 191.641 Q253.135 196.224 253.135 204.974 Q253.135 213.146 249.246 218.03 Q245.38 222.891 238.83 222.891 Q237.07 222.891 235.265 222.544 Q233.459 222.196 231.515 221.502 M240.82 206.849 Q243.968 206.849 245.797 204.697 Q247.649 202.544 247.649 198.794 Q247.649 195.067 245.797 192.914 Q243.968 190.738 240.82 190.738 Q237.672 190.738 235.82 192.914 Q233.992 195.067 233.992 198.794 Q233.992 202.544 235.82 204.697 Q237.672 206.849 240.82 206.849 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M261.677 221.502 L261.677 217.243 Q263.436 218.076 265.241 218.516 Q267.047 218.956 268.783 218.956 Q273.413 218.956 275.843 215.854 Q278.297 212.729 278.644 206.386 Q277.302 208.377 275.241 209.442 Q273.181 210.507 270.681 210.507 Q265.496 210.507 262.464 207.382 Q259.454 204.234 259.454 198.794 Q259.454 193.47 262.603 190.252 Q265.751 187.035 270.982 187.035 Q276.977 187.035 280.126 191.641 Q283.297 196.224 283.297 204.974 Q283.297 213.146 279.408 218.03 Q275.542 222.891 268.991 222.891 Q267.232 222.891 265.427 222.544 Q263.621 222.196 261.677 221.502 M270.982 206.849 Q274.13 206.849 275.959 204.697 Q277.811 202.544 277.811 198.794 Q277.811 195.067 275.959 192.914 Q274.13 190.738 270.982 190.738 Q267.834 190.738 265.982 192.914 Q264.153 195.067 264.153 198.794 Q264.153 202.544 265.982 204.697 Q267.834 206.849 270.982 206.849 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M301.7 205.808 Q298.366 205.808 296.445 207.59 Q294.547 209.372 294.547 212.497 Q294.547 215.622 296.445 217.405 Q298.366 219.187 301.7 219.187 Q305.033 219.187 306.954 217.405 Q308.875 215.599 308.875 212.497 Q308.875 209.372 306.954 207.59 Q305.056 205.808 301.7 205.808 M297.024 203.817 Q294.014 203.076 292.325 201.016 Q290.658 198.956 290.658 195.993 Q290.658 191.849 293.598 189.442 Q296.561 187.035 301.7 187.035 Q306.862 187.035 309.801 189.442 Q312.741 191.849 312.741 195.993 Q312.741 198.956 311.051 201.016 Q309.385 203.076 306.399 203.817 Q309.778 204.604 311.653 206.896 Q313.551 209.187 313.551 212.497 Q313.551 217.521 310.473 220.206 Q307.417 222.891 301.7 222.891 Q295.982 222.891 292.903 220.206 Q289.848 217.521 289.848 212.497 Q289.848 209.187 291.746 206.896 Q293.644 204.604 297.024 203.817 M295.311 196.433 Q295.311 199.118 296.977 200.623 Q298.667 202.127 301.7 202.127 Q304.709 202.127 306.399 200.623 Q308.112 199.118 308.112 196.433 Q308.112 193.748 306.399 192.243 Q304.709 190.738 301.7 190.738 Q298.667 190.738 296.977 192.243 Q295.311 193.748 295.311 196.433 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M331.861 190.738 Q328.25 190.738 326.422 194.303 Q324.616 197.845 324.616 204.974 Q324.616 212.081 326.422 215.646 Q328.25 219.187 331.861 219.187 Q335.496 219.187 337.301 215.646 Q339.13 212.081 339.13 204.974 Q339.13 197.845 337.301 194.303 Q335.496 190.738 331.861 190.738 M331.861 187.035 Q337.672 187.035 340.727 191.641 Q343.806 196.224 343.806 204.974 Q343.806 213.701 340.727 218.308 Q337.672 222.891 331.861 222.891 Q326.051 222.891 322.973 218.308 Q319.917 213.701 319.917 204.974 Q319.917 196.224 322.973 191.641 Q326.051 187.035 331.861 187.035 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M362.023 190.738 Q358.412 190.738 356.584 194.303 Q354.778 197.845 354.778 204.974 Q354.778 212.081 356.584 215.646 Q358.412 219.187 362.023 219.187 Q365.658 219.187 367.463 215.646 Q369.292 212.081 369.292 204.974 Q369.292 197.845 367.463 194.303 Q365.658 190.738 362.023 190.738 M362.023 187.035 Q367.833 187.035 370.889 191.641 Q373.968 196.224 373.968 204.974 Q373.968 213.701 370.889 218.308 Q367.833 222.891 362.023 222.891 Q356.213 222.891 353.134 218.308 Q350.079 213.701 350.079 204.974 Q350.079 196.224 353.134 191.641 Q356.213 187.035 362.023 187.035 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M410.356 196.757 L399.778 207.382 L410.356 217.96 L407.602 220.761 L396.977 210.136 L386.352 220.761 L383.62 217.96 L394.176 207.382 L383.62 196.757 L386.352 193.956 L396.977 204.581 L407.602 193.956 L410.356 196.757 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M422.717 218.284 L430.356 218.284 L430.356 191.919 L422.046 193.586 L422.046 189.326 L430.31 187.66 L434.986 187.66 L434.986 218.284 L442.625 218.284 L442.625 222.22 L422.717 222.22 L422.717 218.284 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M462.069 190.738 Q458.458 190.738 456.629 194.303 Q454.824 197.845 454.824 204.974 Q454.824 212.081 456.629 215.646 Q458.458 219.187 462.069 219.187 Q465.703 219.187 467.509 215.646 Q469.338 212.081 469.338 204.974 Q469.338 197.845 467.509 194.303 Q465.703 190.738 462.069 190.738 M462.069 187.035 Q467.879 187.035 470.935 191.641 Q474.013 196.224 474.013 204.974 Q474.013 213.701 470.935 218.308 Q467.879 222.891 462.069 222.891 Q456.259 222.891 453.18 218.308 Q450.125 213.701 450.125 204.974 Q450.125 196.224 453.18 191.641 Q456.259 187.035 462.069 187.035 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M474.013 181.136 L498.125 181.136 L498.125 184.333 L474.013 184.333 L474.013 181.136 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M506.983 191.612 L513.19 191.612 L513.19 170.19 L506.438 171.544 L506.438 168.083 L513.152 166.729 L516.952 166.729 L516.952 191.612 L523.158 191.612 L523.158 194.809 L506.983 194.809 L506.983 191.612 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M116.214 59.3344 L145.89 59.3344 L145.89 63.2696 L116.214 63.2696 L116.214 59.3344 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M156.122 75.4454 L156.122 71.1862 Q157.881 72.0195 159.686 72.4593 Q161.492 72.8992 163.228 72.8992 Q167.858 72.8992 170.288 69.7973 Q172.742 66.6723 173.089 60.3298 Q171.747 62.3205 169.686 63.3853 Q167.626 64.4501 165.126 64.4501 Q159.941 64.4501 156.909 61.3251 Q153.899 58.177 153.899 52.7372 Q153.899 47.4132 157.048 44.1956 Q160.196 40.978 165.427 40.978 Q171.422 40.978 174.571 45.5845 Q177.742 50.1678 177.742 58.9177 Q177.742 67.089 173.853 71.9732 Q169.987 76.8343 163.436 76.8343 Q161.677 76.8343 159.872 76.4871 Q158.066 76.1399 156.122 75.4454 M165.427 60.7927 Q168.575 60.7927 170.404 58.64 Q172.256 56.4872 172.256 52.7372 Q172.256 49.0104 170.404 46.8576 Q168.575 44.6817 165.427 44.6817 Q162.279 44.6817 160.427 46.8576 Q158.598 49.0104 158.598 52.7372 Q158.598 56.4872 160.427 58.64 Q162.279 60.7927 165.427 60.7927 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M186.145 70.2834 L191.029 70.2834 L191.029 76.163 L186.145 76.163 L186.145 70.2834 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M201.353 75.4454 L201.353 71.1862 Q203.112 72.0195 204.918 72.4593 Q206.723 72.8992 208.459 72.8992 Q213.089 72.8992 215.519 69.7973 Q217.973 66.6723 218.32 60.3298 Q216.978 62.3205 214.918 63.3853 Q212.857 64.4501 210.357 64.4501 Q205.172 64.4501 202.14 61.3251 Q199.131 58.177 199.131 52.7372 Q199.131 47.4132 202.279 44.1956 Q205.427 40.978 210.658 40.978 Q216.654 40.978 219.802 45.5845 Q222.973 50.1678 222.973 58.9177 Q222.973 67.089 219.084 71.9732 Q215.219 76.8343 208.668 76.8343 Q206.908 76.8343 205.103 76.4871 Q203.297 76.1399 201.353 75.4454 M210.658 60.7927 Q213.807 60.7927 215.635 58.64 Q217.487 56.4872 217.487 52.7372 Q217.487 49.0104 215.635 46.8576 Q213.807 44.6817 210.658 44.6817 Q207.51 44.6817 205.658 46.8576 Q203.83 49.0104 203.83 52.7372 Q203.83 56.4872 205.658 58.64 Q207.51 60.7927 210.658 60.7927 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M231.515 75.4454 L231.515 71.1862 Q233.274 72.0195 235.08 72.4593 Q236.885 72.8992 238.621 72.8992 Q243.251 72.8992 245.681 69.7973 Q248.135 66.6723 248.482 60.3298 Q247.14 62.3205 245.079 63.3853 Q243.019 64.4501 240.519 64.4501 Q235.334 64.4501 232.302 61.3251 Q229.293 58.177 229.293 52.7372 Q229.293 47.4132 232.441 44.1956 Q235.589 40.978 240.82 40.978 Q246.816 40.978 249.964 45.5845 Q253.135 50.1678 253.135 58.9177 Q253.135 67.089 249.246 71.9732 Q245.38 76.8343 238.83 76.8343 Q237.07 76.8343 235.265 76.4871 Q233.459 76.1399 231.515 75.4454 M240.82 60.7927 Q243.968 60.7927 245.797 58.64 Q247.649 56.4872 247.649 52.7372 Q247.649 49.0104 245.797 46.8576 Q243.968 44.6817 240.82 44.6817 Q237.672 44.6817 235.82 46.8576 Q233.992 49.0104 233.992 52.7372 Q233.992 56.4872 235.82 58.64 Q237.672 60.7927 240.82 60.7927 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M261.677 75.4454 L261.677 71.1862 Q263.436 72.0195 265.241 72.4593 Q267.047 72.8992 268.783 72.8992 Q273.413 72.8992 275.843 69.7973 Q278.297 66.6723 278.644 60.3298 Q277.302 62.3205 275.241 63.3853 Q273.181 64.4501 270.681 64.4501 Q265.496 64.4501 262.464 61.3251 Q259.454 58.177 259.454 52.7372 Q259.454 47.4132 262.603 44.1956 Q265.751 40.978 270.982 40.978 Q276.977 40.978 280.126 45.5845 Q283.297 50.1678 283.297 58.9177 Q283.297 67.089 279.408 71.9732 Q275.542 76.8343 268.991 76.8343 Q267.232 76.8343 265.427 76.4871 Q263.621 76.1399 261.677 75.4454 M270.982 60.7927 Q274.13 60.7927 275.959 58.64 Q277.811 56.4872 277.811 52.7372 Q277.811 49.0104 275.959 46.8576 Q274.13 44.6817 270.982 44.6817 Q267.834 44.6817 265.982 46.8576 Q264.153 49.0104 264.153 52.7372 Q264.153 56.4872 265.982 58.64 Q267.834 60.7927 270.982 60.7927 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M290.519 41.603 L312.741 41.603 L312.741 43.5938 L300.195 76.163 L295.311 76.163 L307.116 45.5382 L290.519 45.5382 L290.519 41.603 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M331.861 44.6817 Q328.25 44.6817 326.422 48.2465 Q324.616 51.7882 324.616 58.9177 Q324.616 66.0242 326.422 69.589 Q328.25 73.1306 331.861 73.1306 Q335.496 73.1306 337.301 69.589 Q339.13 66.0242 339.13 58.9177 Q339.13 51.7882 337.301 48.2465 Q335.496 44.6817 331.861 44.6817 M331.861 40.978 Q337.672 40.978 340.727 45.5845 Q343.806 50.1678 343.806 58.9177 Q343.806 67.6445 340.727 72.251 Q337.672 76.8343 331.861 76.8343 Q326.051 76.8343 322.973 72.251 Q319.917 67.6445 319.917 58.9177 Q319.917 50.1678 322.973 45.5845 Q326.051 40.978 331.861 40.978 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M362.023 44.6817 Q358.412 44.6817 356.584 48.2465 Q354.778 51.7882 354.778 58.9177 Q354.778 66.0242 356.584 69.589 Q358.412 73.1306 362.023 73.1306 Q365.658 73.1306 367.463 69.589 Q369.292 66.0242 369.292 58.9177 Q369.292 51.7882 367.463 48.2465 Q365.658 44.6817 362.023 44.6817 M362.023 40.978 Q367.833 40.978 370.889 45.5845 Q373.968 50.1678 373.968 58.9177 Q373.968 67.6445 370.889 72.251 Q367.833 76.8343 362.023 76.8343 Q356.213 76.8343 353.134 72.251 Q350.079 67.6445 350.079 58.9177 Q350.079 50.1678 353.134 45.5845 Q356.213 40.978 362.023 40.978 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M410.356 50.7002 L399.778 61.3251 L410.356 71.9038 L407.602 74.7047 L396.977 64.0798 L386.352 74.7047 L383.62 71.9038 L394.176 61.3251 L383.62 50.7002 L386.352 47.8993 L396.977 58.5242 L407.602 47.8993 L410.356 50.7002 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M422.717 72.2279 L430.356 72.2279 L430.356 45.8623 L422.046 47.5289 L422.046 43.2697 L430.31 41.603 L434.986 41.603 L434.986 72.2279 L442.625 72.2279 L442.625 76.163 L422.717 76.163 L422.717 72.2279 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M462.069 44.6817 Q458.458 44.6817 456.629 48.2465 Q454.824 51.7882 454.824 58.9177 Q454.824 66.0242 456.629 69.589 Q458.458 73.1306 462.069 73.1306 Q465.703 73.1306 467.509 69.589 Q469.338 66.0242 469.338 58.9177 Q469.338 51.7882 467.509 48.2465 Q465.703 44.6817 462.069 44.6817 M462.069 40.978 Q467.879 40.978 470.935 45.5845 Q474.013 50.1678 474.013 58.9177 Q474.013 67.6445 470.935 72.251 Q467.879 76.8343 462.069 76.8343 Q456.259 76.8343 453.18 72.251 Q450.125 67.6445 450.125 58.9177 Q450.125 50.1678 453.18 45.5845 Q456.259 40.978 462.069 40.978 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M474.013 35.0794 L498.125 35.0794 L498.125 38.2767 L474.013 38.2767 L474.013 35.0794 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M506.983 45.5553 L513.19 45.5553 L513.19 24.1333 L506.438 25.4874 L506.438 22.0268 L513.152 20.6726 L516.952 20.6726 L516.952 45.5553 L523.158 45.5553 L523.158 48.7526 L506.983 48.7526 L506.983 45.5553 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip842)" d="M622.269 229.105 L606.269 245.105 L622.269 261.105 L638.269 245.105 L622.269 229.105 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M840.013 428.325 L824.013 444.325 L840.013 460.325 L856.013 444.325 L840.013 428.325 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M1057.76 597.766 L1041.76 613.766 L1057.76 629.766 L1073.76 613.766 L1057.76 597.766 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M1275.5 737.545 L1259.5 753.545 L1275.5 769.545 L1291.5 753.545 L1275.5 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M1493.25 721.545 L1477.25 737.545 L1493.25 753.545 L1509.25 737.545 L1493.25 721.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M1710.99 657.45 L1694.99 673.45 L1710.99 689.45 L1726.99 673.45 L1710.99 657.45 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M1928.73 606.559 L1912.73 622.559 L1928.73 638.559 L1944.73 622.559 L1928.73 606.559 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M2146.48 265.409 L2130.48 281.409 L2146.48 297.409 L2162.48 281.409 L2146.48 265.409 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M2364.22 51.816 L2348.22 67.816 L2364.22 83.816 L2380.22 67.816 L2364.22 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M2581.97 518.253 L2565.97 534.253 L2581.97 550.253 L2597.97 534.253 L2581.97 518.253 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip842)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="622.269,245.105 840.013,245.105 840.013,444.325 1057.76,444.325 1057.76,613.766 1275.5,613.766 1275.5,753.545 1493.25,753.545 1493.25,737.545 1710.99,737.545 1710.99,673.45 1928.73,673.45 1928.73,622.559 2146.48,622.559 2146.48,281.409 2364.22,281.409 2364.22,67.816 2581.97,67.816 2581.97,534.253 "></polyline>
<path clip-path="url(#clip840)" d="M632.721 175.153 L862.161 175.153 L862.161 71.4732 L632.721 71.4732  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="632.721,175.153 862.161,175.153 862.161,71.4732 632.721,71.4732 632.721,175.153 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="655.802,123.313 794.287,123.313 "></polyline>
<path clip-path="url(#clip840)" d="M817.368 130.362 L817.368 114.667 L821.627 114.667 L821.627 130.2 Q821.627 133.88 823.062 135.732 Q824.497 137.561 827.368 137.561 Q830.817 137.561 832.807 135.362 Q834.821 133.163 834.821 129.366 L834.821 114.667 L839.081 114.667 L839.081 140.593 L834.821 140.593 L834.821 136.612 Q833.27 138.973 831.21 140.13 Q829.173 141.264 826.465 141.264 Q821.997 141.264 819.682 138.487 Q817.368 135.709 817.368 130.362 M828.085 114.042 L828.085 114.042 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M563.478 1734.12 L2640.76 1734.12 L2640.76 1007.24 L563.478 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip843">
    <rect x="563" y="1007" width="2078" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="622.269,1734.12 622.269,1007.24 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1112.19,1734.12 1112.19,1007.24 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1602.12,1734.12 1602.12,1007.24 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2092.04,1734.12 2092.04,1007.24 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2581.97,1734.12 2581.97,1007.24 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="563.478,1664.63 2640.76,1664.63 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="563.478,1566.81 2640.76,1566.81 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="563.478,1468.98 2640.76,1468.98 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="563.478,1371.15 2640.76,1371.15 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="563.478,1273.32 2640.76,1273.32 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="563.478,1175.5 2640.76,1175.5 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="563.478,1077.67 2640.76,1077.67 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="622.269,1734.12 622.269,1715.22 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1112.19,1734.12 1112.19,1715.22 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1602.12,1734.12 1602.12,1715.22 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2092.04,1734.12 2092.04,1715.22 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2581.97,1734.12 2581.97,1715.22 "></polyline>
<path clip-path="url(#clip840)" d="M599.653 1767.34 Q596.042 1767.34 594.214 1770.9 Q592.408 1774.45 592.408 1781.58 Q592.408 1788.68 594.214 1792.25 Q596.042 1795.79 599.653 1795.79 Q603.288 1795.79 605.093 1792.25 Q606.922 1788.68 606.922 1781.58 Q606.922 1774.45 605.093 1770.9 Q603.288 1767.34 599.653 1767.34 M599.653 1763.64 Q605.464 1763.64 608.519 1768.24 Q611.598 1772.83 611.598 1781.58 Q611.598 1790.3 608.519 1794.91 Q605.464 1799.49 599.653 1799.49 Q593.843 1799.49 590.765 1794.91 Q587.709 1790.3 587.709 1781.58 Q587.709 1772.83 590.765 1768.24 Q593.843 1763.64 599.653 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M619.815 1792.94 L624.7 1792.94 L624.7 1798.82 L619.815 1798.82 L619.815 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M644.885 1767.34 Q641.274 1767.34 639.445 1770.9 Q637.639 1774.45 637.639 1781.58 Q637.639 1788.68 639.445 1792.25 Q641.274 1795.79 644.885 1795.79 Q648.519 1795.79 650.324 1792.25 Q652.153 1788.68 652.153 1781.58 Q652.153 1774.45 650.324 1770.9 Q648.519 1767.34 644.885 1767.34 M644.885 1763.64 Q650.695 1763.64 653.75 1768.24 Q656.829 1772.83 656.829 1781.58 Q656.829 1790.3 653.75 1794.91 Q650.695 1799.49 644.885 1799.49 Q639.074 1799.49 635.996 1794.91 Q632.94 1790.3 632.94 1781.58 Q632.94 1772.83 635.996 1768.24 Q639.074 1763.64 644.885 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1083.93 1794.89 L1100.25 1794.89 L1100.25 1798.82 L1078.3 1798.82 L1078.3 1794.89 Q1080.97 1792.13 1085.55 1787.5 Q1090.16 1782.85 1091.34 1781.51 Q1093.58 1778.98 1094.46 1777.25 Q1095.36 1775.49 1095.36 1773.8 Q1095.36 1771.04 1093.42 1769.31 Q1091.5 1767.57 1088.4 1767.57 Q1086.2 1767.57 1083.74 1768.34 Q1081.31 1769.1 1078.54 1770.65 L1078.54 1765.93 Q1081.36 1764.79 1083.81 1764.21 Q1086.27 1763.64 1088.3 1763.64 Q1093.67 1763.64 1096.87 1766.32 Q1100.06 1769.01 1100.06 1773.5 Q1100.06 1775.63 1099.25 1777.55 Q1098.47 1779.45 1096.36 1782.04 Q1095.78 1782.71 1092.68 1785.93 Q1089.58 1789.12 1083.93 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1110.06 1792.94 L1114.95 1792.94 L1114.95 1798.82 L1110.06 1798.82 L1110.06 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1125.18 1764.26 L1143.54 1764.26 L1143.54 1768.2 L1129.46 1768.2 L1129.46 1776.67 Q1130.48 1776.32 1131.5 1776.16 Q1132.52 1775.97 1133.54 1775.97 Q1139.32 1775.97 1142.7 1779.15 Q1146.08 1782.32 1146.08 1787.73 Q1146.08 1793.31 1142.61 1796.41 Q1139.14 1799.49 1132.82 1799.49 Q1130.64 1799.49 1128.37 1799.12 Q1126.13 1798.75 1123.72 1798.01 L1123.72 1793.31 Q1125.8 1794.45 1128.03 1795 Q1130.25 1795.56 1132.73 1795.56 Q1136.73 1795.56 1139.07 1793.45 Q1141.41 1791.34 1141.41 1787.73 Q1141.41 1784.12 1139.07 1782.02 Q1136.73 1779.91 1132.73 1779.91 Q1130.85 1779.91 1128.98 1780.33 Q1127.12 1780.74 1125.18 1781.62 L1125.18 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1569.28 1764.26 L1587.64 1764.26 L1587.64 1768.2 L1573.56 1768.2 L1573.56 1776.67 Q1574.58 1776.32 1575.6 1776.16 Q1576.62 1775.97 1577.64 1775.97 Q1583.43 1775.97 1586.8 1779.15 Q1590.18 1782.32 1590.18 1787.73 Q1590.18 1793.31 1586.71 1796.41 Q1583.24 1799.49 1576.92 1799.49 Q1574.74 1799.49 1572.48 1799.12 Q1570.23 1798.75 1567.82 1798.01 L1567.82 1793.31 Q1569.91 1794.45 1572.13 1795 Q1574.35 1795.56 1576.83 1795.56 Q1580.83 1795.56 1583.17 1793.45 Q1585.51 1791.34 1585.51 1787.73 Q1585.51 1784.12 1583.17 1782.02 Q1580.83 1779.91 1576.83 1779.91 Q1574.95 1779.91 1573.08 1780.33 Q1571.23 1780.74 1569.28 1781.62 L1569.28 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1599.4 1792.94 L1604.28 1792.94 L1604.28 1798.82 L1599.4 1798.82 L1599.4 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1624.47 1767.34 Q1620.86 1767.34 1619.03 1770.9 Q1617.22 1774.45 1617.22 1781.58 Q1617.22 1788.68 1619.03 1792.25 Q1620.86 1795.79 1624.47 1795.79 Q1628.1 1795.79 1629.91 1792.25 Q1631.73 1788.68 1631.73 1781.58 Q1631.73 1774.45 1629.91 1770.9 Q1628.1 1767.34 1624.47 1767.34 M1624.47 1763.64 Q1630.28 1763.64 1633.33 1768.24 Q1636.41 1772.83 1636.41 1781.58 Q1636.41 1790.3 1633.33 1794.91 Q1630.28 1799.49 1624.47 1799.49 Q1618.66 1799.49 1615.58 1794.91 Q1612.52 1790.3 1612.52 1781.58 Q1612.52 1772.83 1615.58 1768.24 Q1618.66 1763.64 1624.47 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2058.36 1764.26 L2080.58 1764.26 L2080.58 1766.25 L2068.04 1798.82 L2063.15 1798.82 L2074.96 1768.2 L2058.36 1768.2 L2058.36 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2089.7 1792.94 L2094.59 1792.94 L2094.59 1798.82 L2089.7 1798.82 L2089.7 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2104.82 1764.26 L2123.18 1764.26 L2123.18 1768.2 L2109.1 1768.2 L2109.1 1776.67 Q2110.12 1776.32 2111.14 1776.16 Q2112.16 1775.97 2113.18 1775.97 Q2118.96 1775.97 2122.34 1779.15 Q2125.72 1782.32 2125.72 1787.73 Q2125.72 1793.31 2122.25 1796.41 Q2118.78 1799.49 2112.46 1799.49 Q2110.28 1799.49 2108.01 1799.12 Q2105.77 1798.75 2103.36 1798.01 L2103.36 1793.31 Q2105.44 1794.45 2107.67 1795 Q2109.89 1795.56 2112.36 1795.56 Q2116.37 1795.56 2118.71 1793.45 Q2121.05 1791.34 2121.05 1787.73 Q2121.05 1784.12 2118.71 1782.02 Q2116.37 1779.91 2112.36 1779.91 Q2110.49 1779.91 2108.62 1780.33 Q2106.76 1780.74 2104.82 1781.62 L2104.82 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2534.04 1794.89 L2541.68 1794.89 L2541.68 1768.52 L2533.37 1770.19 L2533.37 1765.93 L2541.63 1764.26 L2546.31 1764.26 L2546.31 1794.89 L2553.94 1794.89 L2553.94 1798.82 L2534.04 1798.82 L2534.04 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2573.39 1767.34 Q2569.78 1767.34 2567.95 1770.9 Q2566.14 1774.45 2566.14 1781.58 Q2566.14 1788.68 2567.95 1792.25 Q2569.78 1795.79 2573.39 1795.79 Q2577.02 1795.79 2578.83 1792.25 Q2580.66 1788.68 2580.66 1781.58 Q2580.66 1774.45 2578.83 1770.9 Q2577.02 1767.34 2573.39 1767.34 M2573.39 1763.64 Q2579.2 1763.64 2582.25 1768.24 Q2585.33 1772.83 2585.33 1781.58 Q2585.33 1790.3 2582.25 1794.91 Q2579.2 1799.49 2573.39 1799.49 Q2567.58 1799.49 2564.5 1794.91 Q2561.44 1790.3 2561.44 1781.58 Q2561.44 1772.83 2564.5 1768.24 Q2567.58 1763.64 2573.39 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2593.55 1792.94 L2598.43 1792.94 L2598.43 1798.82 L2593.55 1798.82 L2593.55 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2618.62 1767.34 Q2615.01 1767.34 2613.18 1770.9 Q2611.37 1774.45 2611.37 1781.58 Q2611.37 1788.68 2613.18 1792.25 Q2615.01 1795.79 2618.62 1795.79 Q2622.25 1795.79 2624.06 1792.25 Q2625.89 1788.68 2625.89 1781.58 Q2625.89 1774.45 2624.06 1770.9 Q2622.25 1767.34 2618.62 1767.34 M2618.62 1763.64 Q2624.43 1763.64 2627.49 1768.24 Q2630.56 1772.83 2630.56 1781.58 Q2630.56 1790.3 2627.49 1794.91 Q2624.43 1799.49 2618.62 1799.49 Q2612.81 1799.49 2609.73 1794.91 Q2606.68 1790.3 2606.68 1781.58 Q2606.68 1772.83 2609.73 1768.24 Q2612.81 1763.64 2618.62 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1586.3 1833.78 L1592.19 1833.78 L1592.19 1863.03 L1609.66 1847.65 L1617.14 1847.65 L1598.23 1864.33 L1617.94 1883.3 L1610.3 1883.3 L1592.19 1865.89 L1592.19 1883.3 L1586.3 1883.3 L1586.3 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,1734.12 563.478,1007.24 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,1664.63 582.376,1664.63 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,1566.81 582.376,1566.81 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,1468.98 582.376,1468.98 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,1371.15 582.376,1371.15 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,1273.32 582.376,1273.32 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,1175.5 582.376,1175.5 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="563.478,1077.67 582.376,1077.67 "></polyline>
<path clip-path="url(#clip840)" d="M506.839 1677.98 L523.158 1677.98 L523.158 1681.91 L501.214 1681.91 L501.214 1677.98 Q503.876 1675.22 508.459 1670.59 Q513.066 1665.94 514.246 1664.6 Q516.492 1662.07 517.371 1660.34 Q518.274 1658.58 518.274 1656.89 Q518.274 1654.13 516.329 1652.4 Q514.408 1650.66 511.306 1650.66 Q509.107 1650.66 506.654 1651.43 Q504.223 1652.19 501.445 1653.74 L501.445 1649.02 Q504.269 1647.88 506.723 1647.31 Q509.177 1646.73 511.214 1646.73 Q516.584 1646.73 519.779 1649.41 Q522.973 1652.1 522.973 1656.59 Q522.973 1658.72 522.163 1660.64 Q521.376 1662.54 519.269 1665.13 Q518.691 1665.8 515.589 1669.02 Q512.487 1672.21 506.839 1677.98 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M513.575 1553.6 L501.769 1572.05 L513.575 1572.05 L513.575 1553.6 M512.348 1549.53 L518.228 1549.53 L518.228 1572.05 L523.158 1572.05 L523.158 1575.94 L518.228 1575.94 L518.228 1584.09 L513.575 1584.09 L513.575 1575.94 L497.973 1575.94 L497.973 1571.42 L512.348 1549.53 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M511.63 1467.11 Q508.482 1467.11 506.63 1469.27 Q504.802 1471.42 504.802 1475.17 Q504.802 1478.9 506.63 1481.07 Q508.482 1483.23 511.63 1483.23 Q514.779 1483.23 516.607 1481.07 Q518.459 1478.9 518.459 1475.17 Q518.459 1471.42 516.607 1469.27 Q514.779 1467.11 511.63 1467.11 M520.913 1452.46 L520.913 1456.72 Q519.154 1455.89 517.348 1455.45 Q515.566 1455.01 513.806 1455.01 Q509.177 1455.01 506.723 1458.13 Q504.293 1461.26 503.945 1467.58 Q505.311 1465.56 507.371 1464.5 Q509.431 1463.41 511.908 1463.41 Q517.117 1463.41 520.126 1466.58 Q523.158 1469.73 523.158 1475.17 Q523.158 1480.49 520.01 1483.71 Q516.862 1486.93 511.63 1486.93 Q505.635 1486.93 502.464 1482.35 Q499.293 1477.74 499.293 1469.01 Q499.293 1460.82 503.181 1455.96 Q507.07 1451.07 513.621 1451.07 Q515.38 1451.07 517.163 1451.42 Q518.968 1451.77 520.913 1452.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M511.306 1372.02 Q507.973 1372.02 506.052 1373.8 Q504.154 1375.58 504.154 1378.71 Q504.154 1381.83 506.052 1383.62 Q507.973 1385.4 511.306 1385.4 Q514.64 1385.4 516.561 1383.62 Q518.482 1381.81 518.482 1378.71 Q518.482 1375.58 516.561 1373.8 Q514.663 1372.02 511.306 1372.02 M506.63 1370.03 Q503.621 1369.29 501.931 1367.23 Q500.265 1365.17 500.265 1362.2 Q500.265 1358.06 503.205 1355.65 Q506.168 1353.25 511.306 1353.25 Q516.468 1353.25 519.408 1355.65 Q522.348 1358.06 522.348 1362.2 Q522.348 1365.17 520.658 1367.23 Q518.992 1369.29 516.005 1370.03 Q519.385 1370.82 521.26 1373.11 Q523.158 1375.4 523.158 1378.71 Q523.158 1383.73 520.079 1386.42 Q517.024 1389.1 511.306 1389.1 Q505.589 1389.1 502.51 1386.42 Q499.455 1383.73 499.455 1378.71 Q499.455 1375.4 501.353 1373.11 Q503.251 1370.82 506.63 1370.03 M504.918 1362.64 Q504.918 1365.33 506.584 1366.83 Q508.274 1368.34 511.306 1368.34 Q514.316 1368.34 516.005 1366.83 Q517.718 1365.33 517.718 1362.64 Q517.718 1359.96 516.005 1358.45 Q514.316 1356.95 511.306 1356.95 Q508.274 1356.95 506.584 1358.45 Q504.918 1359.96 504.918 1362.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M471.862 1286.67 L479.501 1286.67 L479.501 1260.3 L471.191 1261.97 L471.191 1257.71 L479.455 1256.04 L484.131 1256.04 L484.131 1286.67 L491.769 1286.67 L491.769 1290.6 L471.862 1290.6 L471.862 1286.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M511.214 1259.12 Q507.603 1259.12 505.774 1262.69 Q503.968 1266.23 503.968 1273.36 Q503.968 1280.47 505.774 1284.03 Q507.603 1287.57 511.214 1287.57 Q514.848 1287.57 516.654 1284.03 Q518.482 1280.47 518.482 1273.36 Q518.482 1266.23 516.654 1262.69 Q514.848 1259.12 511.214 1259.12 M511.214 1255.42 Q517.024 1255.42 520.079 1260.03 Q523.158 1264.61 523.158 1273.36 Q523.158 1282.09 520.079 1286.69 Q517.024 1291.28 511.214 1291.28 Q505.404 1291.28 502.325 1286.69 Q499.269 1282.09 499.269 1273.36 Q499.269 1264.61 502.325 1260.03 Q505.404 1255.42 511.214 1255.42 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M473.459 1188.84 L481.098 1188.84 L481.098 1162.48 L472.788 1164.14 L472.788 1159.88 L481.052 1158.22 L485.728 1158.22 L485.728 1188.84 L493.367 1188.84 L493.367 1192.78 L473.459 1192.78 L473.459 1188.84 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M506.839 1188.84 L523.158 1188.84 L523.158 1192.78 L501.214 1192.78 L501.214 1188.84 Q503.876 1186.09 508.459 1181.46 Q513.066 1176.81 514.246 1175.46 Q516.492 1172.94 517.371 1171.2 Q518.274 1169.44 518.274 1167.76 Q518.274 1165 516.329 1163.26 Q514.408 1161.53 511.306 1161.53 Q509.107 1161.53 506.654 1162.29 Q504.223 1163.06 501.445 1164.61 L501.445 1159.88 Q504.269 1158.75 506.723 1158.17 Q509.177 1157.59 511.214 1157.59 Q516.584 1157.59 519.779 1160.28 Q522.973 1162.96 522.973 1167.45 Q522.973 1169.58 522.163 1171.51 Q521.376 1173.4 519.269 1176 Q518.691 1176.67 515.589 1179.88 Q512.487 1183.08 506.839 1188.84 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M471.376 1091.02 L479.015 1091.02 L479.015 1064.65 L470.705 1066.32 L470.705 1062.06 L478.969 1060.39 L483.644 1060.39 L483.644 1091.02 L491.283 1091.02 L491.283 1094.95 L471.376 1094.95 L471.376 1091.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M513.575 1064.47 L501.769 1082.91 L513.575 1082.91 L513.575 1064.47 M512.348 1060.39 L518.228 1060.39 L518.228 1082.91 L523.158 1082.91 L523.158 1086.8 L518.228 1086.8 L518.228 1094.95 L513.575 1094.95 L513.575 1086.8 L497.973 1086.8 L497.973 1082.29 L512.348 1060.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M380.481 1354.07 L397.827 1366.96 L416.129 1353.4 L416.129 1360.3 L402.124 1370.68 L416.129 1381.06 L416.129 1387.96 L397.477 1374.12 L380.481 1386.79 L380.481 1379.88 L393.18 1370.43 L380.481 1360.97 L380.481 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip843)" d="M622.269 1697.55 L606.269 1713.55 L622.269 1729.55 L638.269 1713.55 L622.269 1697.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M818.239 1654.42 L802.239 1670.42 L818.239 1686.42 L834.239 1670.42 L818.239 1654.42 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1014.21 1638.57 L998.208 1654.57 L1014.21 1670.57 L1030.21 1654.57 L1014.21 1638.57 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1210.18 1618.55 L1194.18 1634.55 L1210.18 1650.55 L1226.18 1634.55 L1210.18 1618.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1406.15 1592.32 L1390.15 1608.32 L1406.15 1624.32 L1422.15 1608.32 L1406.15 1592.32 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1602.12 1557.94 L1586.12 1573.94 L1602.12 1589.94 L1618.12 1573.94 L1602.12 1557.94 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1798.09 1512.88 L1782.09 1528.88 L1798.09 1544.88 L1814.09 1528.88 L1798.09 1512.88 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1994.06 1453.82 L1978.06 1469.82 L1994.06 1485.82 L2010.06 1469.82 L1994.06 1453.82 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M2190.03 1376.42 L2174.03 1392.42 L2190.03 1408.42 L2206.03 1392.42 L2190.03 1376.42 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M2386 1274.97 L2370 1290.97 L2386 1306.97 L2402 1290.97 L2386 1274.97 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M2581.97 1142.01 L2565.97 1158.01 L2581.97 1174.01 L2597.97 1158.01 L2581.97 1142.01 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip843)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="622.269,1713.55 818.239,1713.55 818.239,1670.42 1014.21,1670.42 1014.21,1654.57 1210.18,1654.57 1210.18,1634.55 1406.15,1634.55 1406.15,1608.32 1602.12,1608.32 1602.12,1573.94 1798.09,1573.94 1798.09,1528.88 1994.06,1528.88 1994.06,1469.82 2190.03,1469.82 2190.03,1392.42 2386,1392.42 2386,1290.97 2581.97,1290.97 2581.97,1158.01 "></polyline>
<path clip-path="url(#clip843)" d="M622.269 1599.72 L606.269 1615.72 L622.269 1631.72 L638.269 1615.72 L622.269 1599.72 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M818.239 1627.44 L802.239 1643.44 L818.239 1659.44 L834.239 1643.44 L818.239 1627.44 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1014.21 1609.82 L998.208 1625.82 L1014.21 1641.82 L1030.21 1625.82 L1014.21 1609.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1210.18 1585.73 L1194.18 1601.73 L1210.18 1617.73 L1226.18 1601.73 L1210.18 1585.73 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1406.15 1554.14 L1390.15 1570.14 L1406.15 1586.14 L1422.15 1570.14 L1406.15 1554.14 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1602.12 1512.73 L1586.12 1528.73 L1602.12 1544.73 L1618.12 1528.73 L1602.12 1512.73 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1798.09 1458.46 L1782.09 1474.46 L1798.09 1490.46 L1814.09 1474.46 L1798.09 1458.46 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1994.06 1387.34 L1978.06 1403.34 L1994.06 1419.34 L2010.06 1403.34 L1994.06 1387.34 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M2190.03 1294.12 L2174.03 1310.12 L2190.03 1326.12 L2206.03 1310.12 L2190.03 1294.12 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M2386 1171.95 L2370 1187.95 L2386 1203.95 L2402 1187.95 L2386 1171.95 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M2581.97 1011.82 L2565.97 1027.82 L2581.97 1043.82 L2597.97 1027.82 L2581.97 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip843)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="622.269,1615.72 818.239,1615.72 818.239,1643.44 1014.21,1643.44 1014.21,1625.82 1210.18,1625.82 1210.18,1601.73 1406.15,1601.73 1406.15,1570.14 1602.12,1570.14 1602.12,1528.73 1798.09,1528.73 1798.09,1474.46 1994.06,1474.46 1994.06,1403.34 2190.03,1403.34 2190.03,1310.12 2386,1310.12 2386,1187.95 2581.97,1187.95 2581.97,1027.82 "></polyline>
<path clip-path="url(#clip840)" d="M632.721 1186.99 L883.55 1186.99 L883.55 1031.47 L632.721 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="632.721,1186.99 883.55,1186.99 883.55,1031.47 632.721,1031.47 632.721,1186.99 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="655.802,1083.31 794.287,1083.31 "></polyline>
<path clip-path="url(#clip840)" d="M842.02 1074.67 L832.645 1087.28 L842.506 1100.59 L837.483 1100.59 L829.937 1090.41 L822.391 1100.59 L817.368 1100.59 L827.437 1087.03 L818.224 1074.67 L823.247 1074.67 L830.122 1083.9 L836.997 1074.67 L842.02 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M847.668 1098.05 L852.391 1098.05 L852.391 1083.9 L847.229 1084.85 L847.229 1082.17 L852.553 1081.26 L855.724 1081.26 L855.724 1098.05 L860.469 1098.05 L860.469 1100.59 L847.668 1100.59 L847.668 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip840)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="655.802,1135.15 794.287,1135.15 "></polyline>
<path clip-path="url(#clip840)" d="M842.02 1126.51 L832.645 1139.12 L842.506 1152.43 L837.483 1152.43 L829.937 1142.25 L822.391 1152.43 L817.368 1152.43 L827.437 1138.87 L818.224 1126.51 L823.247 1126.51 L830.122 1135.74 L836.997 1126.51 L842.02 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M850.261 1149.79 L860.076 1149.79 L860.076 1152.43 L846.233 1152.43 L846.233 1149.89 Q847.02 1149.17 848.479 1147.87 Q856.442 1140.81 856.442 1138.64 Q856.442 1137.11 855.238 1136.18 Q854.034 1135.23 852.067 1135.23 Q850.863 1135.23 849.451 1135.65 Q848.039 1136.04 846.372 1136.85 L846.372 1134.01 Q848.155 1133.36 849.682 1133.04 Q851.233 1132.71 852.553 1132.71 Q855.909 1132.71 857.923 1134.24 Q859.937 1135.77 859.937 1138.27 Q859.937 1141.48 852.275 1148.06 Q850.979 1149.17 850.261 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
</section>
<section id="adding-the-constraints-on-states" class="level3">
<h3 class="anchored" data-anchor-id="adding-the-constraints-on-states">Adding the constraints on states</h3>
<p>We might feel a little bit uneasy about loosing an immediate access to <span class="math inline">\bar{\bm x}</span>. But the game is not lost. We just need to express <span class="math inline">\bar{\bm x}</span> as a function of <span class="math inline">\bar{\bm u}</span> and <span class="math inline">\mathbf x_0</span> and impose the constraint on the result. But such expression is already available, see (<a href="#eq-x_as_function_of_u_and_x0" class="quarto-xref">Eq.&nbsp;2</a>). Therefore, we can formulate the constraint, say, an upper bound on the state vector <span class="math display">
\bm x_k \leq \mathbf x_\mathrm{max}
</span> as <span class="math display">
\bar{\mathbf x}^\mathrm{min} \leq \widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0 \leq \bar{\mathbf x}^\mathrm{max},
</span> where the the bars in <span class="math inline">\bar{\mathbf x}^\mathrm{min}</span> and <span class="math inline">\bar{\mathbf x}^\mathrm{max}</span> obviously indicates that these vectors were obtained by stacking the corresponding vectors for all times <span class="math inline">k=1,\ldots,N</span>.</p>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/uchytil\.github\.io\/orr\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./discr_dir_general.html" class="pagination-link" aria-label="General finite-horizon nonlinear optimal control as an NLP">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">General finite-horizon nonlinear optimal control as an NLP</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./discr_dir_mpc.html" class="pagination-link" aria-label="Model predictive control (MPC)">
        <span class="nav-page-text">Model predictive control (MPC)</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2025, Zdeněk Hurák</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hurak/orr/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>