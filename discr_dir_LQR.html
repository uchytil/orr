<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Finite-horizon LQR as a QP – B(E)3M35ORR – Optimal and Robust Control</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./discr_dir_mpc.html" rel="next">
<link href="./discr_dir_general.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-50b4abff8b0f30bb501ab99a3cda6e79.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./discr_dir_goals.html">3. Discrete-time optimal control – direct approach</a></li><li class="breadcrumb-item"><a href="./discr_dir_LQR.html">Finite-horizon LQR as a QP</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">B(E)3M35ORR – Optimal and Robust Control</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">0. Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What is optimal and robust control?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_outline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course outline</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_rules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rules of the course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software for the course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Literature for the course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_similar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Similar courses</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">1. Optimization – theory</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization problems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_reformulations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem reformulations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_unconstrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unconstrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_constrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Constrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_modellers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization modelling languages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">2. Optimization – algorithms</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_derivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Computing the derivatives</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_unconstrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unconstrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_constrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Constrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_solvers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical solvers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">3. Discrete-time optimal control – direct approach</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General finite-horizon nonlinear optimal control as an NLP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_LQR.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Finite-horizon LQR as a QP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model predictive control (MPC)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical solvers for MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">4. Discrete-time optimal control – indirect approach</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General finite-horizon nonlinear optimal control as a TP-BVP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_LQR_fin_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete-time LQR on a finite horizon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_LQR_inf_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete-time LQR on an infinite horizon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_LQR_tracking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reference tracking using LQR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_DARE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete-time algebraic Riccati equation (DARE)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software for LQR and DARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">5. Discrete-time optimal control – dynamic programming (DP)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DP and discrete-time optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_tabular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tabular outcomes of DP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_LQR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Solving LQR via DP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_DDP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Differential dynamic programming (DDP)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">6. More on MPC</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_stability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stability of MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_recursive_feasibility.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recursive feasibility</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_economic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Economic MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_explicit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Explicit MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">7. Continuous-time optimal control - indirect approach via calculus of variations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview of continuous-time optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_calculus_of_variations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Calculus of variations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_via_calculus_of_variations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Indirect approach to optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_LQR_fin_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Indirect approach to LQR on a finite horizon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_LQR_inf_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Indirect approach to LQR on an infinite horizon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_CARE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Continuous-time Riccati equation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_trajectory_stabilization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Trajectory stabilization and neigboring extremals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">8. Continuous-time optimal control - indirect approach via Pontryagin’s maximum principle</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_Pontryagin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pontryagin’s maximum principle</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_constrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Constrained optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_time_optimal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time-optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_references_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_hw_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">9. Numerical methods for continuous-time optimal control - both indirect and direct approaches</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_indirect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical methods for indirect approach</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_direct.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical methods for direct approach</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true">
 <span class="menu-text">9.X. Continuous-time optimal control – dynamic programming</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_HJB.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dynamic programming for continuous-time optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_LQR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using HJB equation to solve the continuous-time LQR problem</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_DDP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Differential dynamic programming (DDP)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true">
 <span class="menu-text">10. Some extensions: LQG, LTR, H2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_stochastic_LQR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR for stochastic systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_LQG.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQG control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_LTR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Loop transfer recovery (LTR)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_H2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H2-optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true">
 <span class="menu-text">11. Uncertainty modelling and robustness analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_uncertainty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Uncertainty (in) modelling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_unstructured.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Robustness analysis for unstructured uncertainty</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_structured.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Robustness analysis for structured uncertainty</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true">
 <span class="menu-text">12. Robust control</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_mixed_sensitivity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed sensitivity design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_H_infinity_control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hinfinity-optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_mu_synthesis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mu synthesis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true">
 <span class="menu-text">13. Limitations of achievable performance</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_SISO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Limitations for SISO systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_MIMO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Limitations for MIMO systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="true">
 <span class="menu-text">14. Model and controller order reduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model order reduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_controller.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Controller order reduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_benchmarks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Benchmarks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#simultaneous-sparse-formulation" id="toc-simultaneous-sparse-formulation" class="nav-link active" data-scroll-target="#simultaneous-sparse-formulation">Simultaneous (sparse) formulation</a>
  <ul class="collapse">
  <li><a href="#adding-constraints-on-controls-and-states" id="toc-adding-constraints-on-controls-and-states" class="nav-link" data-scroll-target="#adding-constraints-on-controls-and-states">Adding constraints on controls and states</a></li>
  </ul></li>
  <li><a href="#sequential-dense-formulation" id="toc-sequential-dense-formulation" class="nav-link" data-scroll-target="#sequential-dense-formulation">Sequential (dense) formulation</a>
  <ul class="collapse">
  <li><a href="#adding-the-constraints-on-controls" id="toc-adding-the-constraints-on-controls" class="nav-link" data-scroll-target="#adding-the-constraints-on-controls">Adding the constraints on controls</a></li>
  <li><a href="#adding-the-constraints-on-states" id="toc-adding-the-constraints-on-states" class="nav-link" data-scroll-target="#adding-the-constraints-on-states">Adding the constraints on states</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/hurak/orr/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./discr_dir_goals.html">3. Discrete-time optimal control – direct approach</a></li><li class="breadcrumb-item"><a href="./discr_dir_LQR.html">Finite-horizon LQR as a QP</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Finite-horizon LQR as a QP</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/1MHV-L4--lI?si=6Orm_cGxmTAX_myT" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>Here we specialize the general procedure from the previous section to the case of a <strong>L</strong>inear system and a <strong>Q</strong>uadratic cost. We start by considering a simple problem of <strong>R</strong>egulation, wherein the goal is to bring the system either exactly or approximately to zero final state, that is, <span class="math inline">\mathbf x^\text{ref}=\mathbf 0</span> and we want <span class="math inline">\bm x_N=\mathbf x^\text{ref}</span> or <span class="math inline">\bm x_N\approx\mathbf x^\text{ref}</span>, respectively. The problem is known as the <strong>LQR</strong> problem. <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bm u_0,\ldots, \bm u_{N-1}, \bm x_{0},\ldots, \bm x_N} &amp;\quad  \frac{1}{2} \bm x_N^\top \mathbf S \bm x_N + \frac{1}{2} \sum_{k=0}^{N-1} \left(\bm x_k^\top \mathbf Q \bm x_k + \bm u_k^\top \mathbf R \bm u_k \right)\\
\text{subject to}   &amp;\quad \bm x_{k+1} = \mathbf A\bm x_k + \mathbf B\bm u_k,\quad k = 0, \ldots, N-1, \\
                    &amp;\quad \bm x_0 = \mathbf x_0,\\
                    &amp;\quad \bm x_N = \mathbf 0\;  (\text{or}\, \bm x_N \approx \mathbf 0).
\end{aligned}
</span></p>
<p>Referring to the two options for the last constraint,</p>
<ul>
<li>if the condition <span class="math inline">\bm x_N=\mathbf 0</span> on the final state is strictly enforced, the terminal state cost (the term <span class="math inline">\frac{1}{2} \bm x_N^\top \mathbf S \bm x_N</span> in the cost function) is redundant and can be removed;</li>
<li>if the final state condition can be relaxed to <span class="math inline">\bm x_N\approx\mathbf 0</span>, it is by increasing the weight <span class="math inline">\mathbf S</span> in the terminal cost function <span class="math inline">\frac{1}{2} \bm x_N^\top \mathbf S \bm x_N</span> that <span class="math inline">\bm x_N</span> can be made arbitrarily close to <span class="math inline">\mathbf 0</span>.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>It is a standard dilemma in optimization, not only in optimal control, that if we want to satisfy some requirement, we can either strictly enforce it through constraints or we can seemingly relax it and set a cost to be paid for not satysfying it.</p>
</div>
</div>
<section id="simultaneous-sparse-formulation" class="level2">
<h2 class="anchored" data-anchor-id="simultaneous-sparse-formulation">Simultaneous (sparse) formulation</h2>
<p>Below we rewrite the latter problem, that is, <span class="math inline">\bm x_N\approx\mathbf 0</span>, in the “unrolled” form, where we stack the state and control variables into “long” vectors <span class="math inline">\bar{\bm x}</span> and <span class="math inline">\bar{\bm u}</span>. Doing the same for the former is straightforward. <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bar{\bm u},\bar{\bm x}} &amp; \frac{1}{2}\left(\begin{bmatrix} \bm x_1^\top &amp; \bm x_2^\top &amp; \ldots &amp; \bm x_N^\top \end{bmatrix}
\underbrace{\begin{bmatrix}\mathbf Q &amp; &amp; &amp; \\ &amp; \mathbf Q &amp; &amp;\\ &amp; &amp;\ddots &amp; \\ &amp; &amp; &amp; \mathbf S \end{bmatrix}}_{\overline{\mathbf Q}}
\underbrace{\begin{bmatrix} \bm x_1 \\ \bm x_2 \\ \vdots \\ \bm x_N \end{bmatrix}}_{\bar{\bm x}}\right.\\
&amp;\qquad +\left.
\begin{bmatrix} \bm u_0^\top &amp; \bm u_1^\top &amp; \ldots &amp; \bm u_{N-1}^\top \end{bmatrix}
\underbrace{\begin{bmatrix}\mathbf R &amp; &amp; &amp; \\ &amp; \mathbf R &amp; &amp;\\ &amp; &amp;\ddots &amp; \\ &amp; &amp; &amp; \mathbf R \end{bmatrix}}_{\overline{\mathbf R}}
\underbrace{\begin{bmatrix} \bm u_0 \\ \bm u_1 \\ \vdots \\ \bm u_{N-1} \end{bmatrix}}_{\bar{\bm u}}\right)
+ \underbrace{\frac{1}{2}\mathbf x_0^\top \mathbf Q \mathbf x_0}_{\mathrm{constant}}
\end{aligned}
</span> subject to <span class="math display">
\begin{bmatrix} \bm x_1 \\ \bm x_2 \\ \bm x_3\\ \vdots \\ \bm x_N \end{bmatrix} = \underbrace{\begin{bmatrix}\mathbf 0 &amp; &amp; &amp; &amp;\\\mathbf A &amp; \mathbf 0 &amp; &amp; &amp;\\ &amp;\mathbf A &amp;\mathbf 0 &amp; &amp; \\ &amp; &amp; &amp;\ddots &amp; \\&amp; &amp; &amp;\mathbf A &amp; \mathbf 0 \end{bmatrix}}_{\overline{\mathbf A}}
\begin{bmatrix} \bm x_1 \\ \bm x_2 \\ \bm x_3\\ \vdots \\ \bm x_N \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf B &amp; &amp; &amp; &amp; \\ &amp; \mathbf B &amp; &amp; &amp; \\&amp; &amp;\mathbf B &amp; \\ &amp; &amp; &amp;\ddots \\ &amp; &amp; &amp; &amp; \mathbf B \end{bmatrix}}_{\overline{\mathbf B}}\begin{bmatrix} \bm u_0 \\ \bm u_1 \\ \bm u_2\\\vdots \\ \bm u_{N-1} \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf A\\\mathbf 0\\\mathbf 0\\\vdots\\\mathbf 0\end{bmatrix}}_{\overline{\mathbf A}_0}\mathbf x_0,    
</span></p>
<p>in which we have already substituted the particular <span class="math inline">\mathbf x_0</span> for the variable <span class="math inline">\bm x_0</span>. Consequently, the last term in the cost function can be discarded because it is constant.</p>
<p>The terms with the <span class="math inline">\bar{\bm x}</span> vector can be combined and we get <span id="eq-linear_system_linear_constraints_matrix_format"><span class="math display">
\begin{bmatrix} \mathbf 0 \\ \mathbf 0 \\ \mathbf 0\\ \vdots \\ \mathbf 0 \end{bmatrix} = \underbrace{\begin{bmatrix}-\mathbf I &amp; &amp; &amp; &amp;\\\mathbf A &amp; -\mathbf I &amp; &amp; &amp;\\ &amp;\mathbf A &amp;-\mathbf I &amp; &amp; \\ &amp; &amp; &amp;\ddots &amp; \\&amp; &amp; &amp;\mathbf A &amp; -\mathbf I \end{bmatrix}}_{\overline{\mathbf A} - \mathbf I}
\begin{bmatrix} \mathbf x_1 \\ \mathbf x_2 \\ \mathbf x_3\\ \vdots \\ \mathbf x_N \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf B &amp; &amp; &amp; &amp; \\ &amp; \mathbf B &amp; &amp; &amp; \\&amp; &amp;\mathbf B &amp; \\ &amp; &amp; &amp;\ddots \\ &amp; &amp; &amp; &amp; \mathbf B \end{bmatrix}}_{\overline{\mathbf B}}\begin{bmatrix} \mathbf u_0 \\ \mathbf u_1 \\ \mathbf u_2\\\vdots \\ \mathbf u_{N-1} \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf A\\\mathbf 0\\\mathbf 0\\\vdots\\\mathbf 0\end{bmatrix}}_{\overline{\mathbf A}_0}\mathbf x_0.
\tag{1}</span></span></p>
<p>Upon stacking the two “long” vectors into <span class="math inline">\bar{\bm z}</span> we reformulate the optimization problem as <span class="math display">
\operatorname*{minimize}_{\widetilde{\mathbf z}\in\mathbb{R}^{2N}}\quad \frac{1}{2}\underbrace{\begin{bmatrix}\bar{\bm x}^\top &amp;\bar{\bm u}^\top\end{bmatrix}}_{\bar{\bm z}^\top} \underbrace{\begin{bmatrix}\overline{\mathbf Q} &amp; \\ &amp; \overline{\mathbf R} \end{bmatrix}}_{\widetilde{\mathbf Q}}\underbrace{\begin{bmatrix}\bar{\bm x}\\\bar{\bm u}\end{bmatrix}}_{\bar{\bm z}}
</span> subject to <span class="math display">
\mathbf 0 = \underbrace{\begin{bmatrix}(\overline{\mathbf A}-\mathbf I) &amp; \overline{\mathbf B}\end{bmatrix}}_{\widetilde{\mathbf A}}\underbrace{\begin{bmatrix}\bar{\bm x}\\\bar{\bm u}\end{bmatrix}}_{\bar{\bm z}} + \underbrace{\overline{\mathbf A}_0 \mathbf x_0}_{\tilde{\mathbf b}}.
</span></p>
<p>To summarize, we have reformulated the optimal control problem as a linearly constrained quadratic program <span class="math display">
\boxed{
\begin{aligned}
\underset{\bar{\bm z}\in\mathbb{R}^{2N}}{\text{minimize}} &amp;\quad \frac{1}{2}\bar{\bm z}^\top \widetilde{\mathbf Q} \bar{\bm z}\\
\text{subject to} &amp;\quad \widetilde{\mathbf A} \bar{\bm z} + \tilde{\bm b} = \mathbf 0.
\end{aligned}}
</span></p>
<p>This constrained optimization problem can still be solved without invoking a numerical solver for solving quadratic programs (QP). We do it by introducing a vector <span class="math inline">\boldsymbol\lambda</span> of Lagrange multipliers to form the Lagrangian function <span class="math display">
\mathcal{L}(\bar{\bm z}, \boldsymbol \lambda) = \frac{1}{2}\bar{\bm z}^\top \widetilde{\mathbf Q} \bar{\bm z} + \boldsymbol\lambda^\top(\widetilde{\mathbf A} \bar{\bm z} + \tilde{\mathbf b}),
</span> for which the gradients with respect to <span class="math inline">\bar{\bm z}</span> and <span class="math inline">\boldsymbol\lambda</span> are <span class="math display">
\begin{aligned}
\nabla_{\tilde{\bm{z}}} \mathcal{L}(\bar{\bm z}, \boldsymbol\lambda) &amp;= \widetilde{\mathbf Q}\bar{\bm z} + \tilde{\mathbf A}^\top\boldsymbol\lambda,\\
\nabla_{\boldsymbol{\lambda}} \mathcal{L}(\tilde{\bm x}, \boldsymbol\lambda) &amp;=\widetilde{\mathbf A} \bar{\bm z} + \tilde{\mathbf b}.
\end{aligned}
</span></p>
<p>Requiring that the overall gradient vanishes leads to the following KKT set of linear equations <span class="math display">
\begin{bmatrix}
  \widetilde{\mathbf Q} &amp; \widetilde{\mathbf A}^\top\\ \widetilde{\mathbf A} &amp; \mathbf 0
\end{bmatrix}
\begin{bmatrix}
\bar{\bm z}\\\boldsymbol\lambda
\end{bmatrix}
=
\begin{bmatrix}
\mathbf 0\\ -\tilde{\mathbf b}
\end{bmatrix}.
</span></p>
<p>Solving this could be accomplished by using some general solver for linear systems or by using some more tailored solver for symmetric indefinite systems (based on <a href="https://en.wikipedia.org/wiki/Cholesky_decomposition#LDL_decomposition">LDL factorization</a>).</p>
<div id="exm-direct-simultaneous" class="theorem example">
<p><span class="theorem-title"><strong>Example 1 (Reformulating the unconstrained LQR problem as a system of linear equations – simultaneous approach)</strong></span> &nbsp;</p>
<div id="2" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">BlockArrays</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearSolve</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">QDLDL</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">SparseArrays</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">direct_dlqr_simultaneous</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">size</span>(A)[<span class="fl">1</span>]</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">size</span>(B)[<span class="fl">2</span>]</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    Q̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>n),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        Q̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> Q</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    Q̄[<span class="fu">Block</span>(N,N)] <span class="op">=</span> S</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    R̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>m,N<span class="op">*</span>m),<span class="fu">repeat</span>([m],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        R̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> R</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    Q̃ <span class="op">=</span> <span class="fu">blockdiag</span>(<span class="fu">sparse</span>(Q̄),<span class="fu">sparse</span>(R̄))              <span class="co"># The matrix defining the quadratic cost.</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    B̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>m),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        B̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> B</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    Ā <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">sparse</span>(<span class="op">-</span><span class="fl">1.0</span><span class="op">*</span>I,n<span class="op">*</span>N,n<span class="op">*</span>N),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">2</span><span class="op">:</span>N</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        Ā[<span class="fu">Block</span>(i,(i<span class="op">-</span><span class="fl">1</span>))] <span class="op">=</span> A</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    Ã <span class="op">=</span> <span class="fu">sparse</span>([Ā B̄])                               <span class="co"># The matrix defining the linear (affine) equation.</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    Ā₀ <span class="op">=</span> <span class="fu">spzeros</span>(n<span class="op">*</span>N,n)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    Ā₀[<span class="fl">1</span><span class="op">:</span>n,<span class="fl">1</span><span class="op">:</span>n] <span class="op">=</span> A</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    b̃ <span class="op">=</span> <span class="fu">Ā₀*sparse</span>(x₀)                               <span class="co"># The constant offset for the linear (affine) equation.</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    K <span class="op">=</span> [Q̃ Ã<span class="ch">'; Ã spzeros(size(Ã,1),size(Ã,1))]      # Sparse KKT matrix.</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    k <span class="op">=</span> [<span class="fu">spzeros</span>(<span class="fu">size</span>(Q̃,<span class="fl">1</span>)); <span class="op">-</span>b̃]                    <span class="co"># Right hand side of the KKT system</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> <span class="fu">LinearProblem</span>(K,k)                       <span class="co"># The KKT system as a linear problem.</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    z̃λ <span class="op">=</span> LinearSolve.<span class="fu">solve</span>(prob)                    <span class="co"># Solving the KKT system. Ready for trying various solvers.</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> <span class="fu">reshape</span>(z̃λ[<span class="fl">1</span><span class="op">:</span>(n<span class="op">*</span>N)],(n,<span class="op">:</span>))</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    uopt <span class="op">=</span> <span class="fu">reshape</span>(z̃λ[(n<span class="op">*</span>N<span class="op">+</span><span class="fl">1</span>)<span class="op">:</span>(n<span class="op">+</span>m)<span class="op">*</span>N],(m,<span class="op">:</span>))</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    return xopt,uopt</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>xopt,uopt <span class="op">=</span> <span class="fu">direct_dlqr_simultaneous</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt<span class="op">'</span>,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,<span class="fu">hcat</span>(x₀,xopt)<span class="ch">',marker=:diamond,label=["x₁" "x₂"],linetype=:steppost)</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip410">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip410)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip411">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip410)" d="M263.478 774.117 L2640.76 774.117 L2640.76 47.2441 L263.478 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip412">
    <rect x="263" y="47" width="2378" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip412)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="330.76,774.117 330.76,47.2441 "></polyline>
<polyline clip-path="url(#clip412)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="829.141,774.117 829.141,47.2441 "></polyline>
<polyline clip-path="url(#clip412)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1327.52,774.117 1327.52,47.2441 "></polyline>
<polyline clip-path="url(#clip412)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1825.9,774.117 1825.9,47.2441 "></polyline>
<polyline clip-path="url(#clip412)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2324.28,774.117 2324.28,47.2441 "></polyline>
<polyline clip-path="url(#clip412)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,644.673 2640.76,644.673 "></polyline>
<polyline clip-path="url(#clip412)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,499.157 2640.76,499.157 "></polyline>
<polyline clip-path="url(#clip412)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,353.641 2640.76,353.641 "></polyline>
<polyline clip-path="url(#clip412)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,208.125 2640.76,208.125 "></polyline>
<polyline clip-path="url(#clip412)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,62.609 2640.76,62.609 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,774.117 330.76,755.219 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="829.141,774.117 829.141,755.219 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1327.52,774.117 1327.52,755.219 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1825.9,774.117 1825.9,755.219 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2324.28,774.117 2324.28,755.219 "></polyline>
<path clip-path="url(#clip410)" d="M330.76 807.34 Q327.149 807.34 325.32 810.904 Q323.514 814.446 323.514 821.576 Q323.514 828.682 325.32 832.247 Q327.149 835.789 330.76 835.789 Q334.394 835.789 336.2 832.247 Q338.028 828.682 338.028 821.576 Q338.028 814.446 336.2 810.904 Q334.394 807.34 330.76 807.34 M330.76 803.636 Q336.57 803.636 339.625 808.242 Q342.704 812.826 342.704 821.576 Q342.704 830.303 339.625 834.909 Q336.57 839.492 330.76 839.492 Q324.95 839.492 321.871 834.909 Q318.815 830.303 318.815 821.576 Q318.815 812.826 321.871 808.242 Q324.95 803.636 330.76 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M823.794 834.886 L840.113 834.886 L840.113 838.821 L818.169 838.821 L818.169 834.886 Q820.831 832.131 825.414 827.502 Q830.02 822.849 831.201 821.506 Q833.446 818.983 834.326 817.247 Q835.229 815.488 835.229 813.798 Q835.229 811.043 833.284 809.307 Q831.363 807.571 828.261 807.571 Q826.062 807.571 823.608 808.335 Q821.178 809.099 818.4 810.65 L818.4 805.928 Q821.224 804.793 823.678 804.215 Q826.132 803.636 828.169 803.636 Q833.539 803.636 836.733 806.321 Q839.928 809.006 839.928 813.497 Q839.928 815.627 839.118 817.548 Q838.331 819.446 836.224 822.039 Q835.645 822.71 832.544 825.928 Q829.442 829.122 823.794 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M1330.53 808.335 L1318.73 826.784 L1330.53 826.784 L1330.53 808.335 M1329.3 804.261 L1335.18 804.261 L1335.18 826.784 L1340.11 826.784 L1340.11 830.673 L1335.18 830.673 L1335.18 838.821 L1330.53 838.821 L1330.53 830.673 L1314.93 830.673 L1314.93 826.159 L1329.3 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M1826.31 819.678 Q1823.16 819.678 1821.31 821.83 Q1819.48 823.983 1819.48 827.733 Q1819.48 831.46 1821.31 833.636 Q1823.16 835.789 1826.31 835.789 Q1829.46 835.789 1831.28 833.636 Q1833.14 831.46 1833.14 827.733 Q1833.14 823.983 1831.28 821.83 Q1829.46 819.678 1826.31 819.678 M1835.59 805.025 L1835.59 809.284 Q1833.83 808.451 1832.03 808.011 Q1830.24 807.571 1828.48 807.571 Q1823.85 807.571 1821.4 810.696 Q1818.97 813.821 1818.62 820.141 Q1819.99 818.127 1822.05 817.062 Q1824.11 815.974 1826.59 815.974 Q1831.79 815.974 1834.8 819.145 Q1837.84 822.293 1837.84 827.733 Q1837.84 833.057 1834.69 836.275 Q1831.54 839.492 1826.31 839.492 Q1820.31 839.492 1817.14 834.909 Q1813.97 830.303 1813.97 821.576 Q1813.97 813.381 1817.86 808.52 Q1821.75 803.636 1828.3 803.636 Q1830.06 803.636 1831.84 803.983 Q1833.65 804.33 1835.59 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M2324.28 822.409 Q2320.95 822.409 2319.03 824.191 Q2317.13 825.974 2317.13 829.099 Q2317.13 832.224 2319.03 834.006 Q2320.95 835.789 2324.28 835.789 Q2327.62 835.789 2329.54 834.006 Q2331.46 832.201 2331.46 829.099 Q2331.46 825.974 2329.54 824.191 Q2327.64 822.409 2324.28 822.409 M2319.61 820.418 Q2316.6 819.678 2314.91 817.617 Q2313.24 815.557 2313.24 812.594 Q2313.24 808.451 2316.18 806.043 Q2319.15 803.636 2324.28 803.636 Q2329.45 803.636 2332.39 806.043 Q2335.33 808.451 2335.33 812.594 Q2335.33 815.557 2333.64 817.617 Q2331.97 819.678 2328.98 820.418 Q2332.36 821.205 2334.24 823.497 Q2336.14 825.789 2336.14 829.099 Q2336.14 834.122 2333.06 836.807 Q2330 839.492 2324.28 839.492 Q2318.57 839.492 2315.49 836.807 Q2312.43 834.122 2312.43 829.099 Q2312.43 825.789 2314.33 823.497 Q2316.23 821.205 2319.61 820.418 M2317.9 813.034 Q2317.9 815.719 2319.56 817.224 Q2321.25 818.729 2324.28 818.729 Q2327.29 818.729 2328.98 817.224 Q2330.7 815.719 2330.7 813.034 Q2330.7 810.349 2328.98 808.844 Q2327.29 807.34 2324.28 807.34 Q2321.25 807.34 2319.56 808.844 Q2317.9 810.349 2317.9 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M1436.3 873.776 L1442.19 873.776 L1442.19 903.026 L1459.66 887.653 L1467.14 887.653 L1448.23 904.331 L1467.94 923.301 L1460.3 923.301 L1442.19 905.891 L1442.19 923.301 L1436.3 923.301 L1436.3 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,774.117 263.478,47.2441 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,644.673 282.376,644.673 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,499.157 282.376,499.157 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,353.641 282.376,353.641 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,208.125 282.376,208.125 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,62.609 282.376,62.609 "></polyline>
<path clip-path="url(#clip410)" d="M116.214 645.124 L145.89 645.124 L145.89 649.06 L116.214 649.06 L116.214 645.124 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M160.011 658.018 L176.33 658.018 L176.33 661.953 L154.386 661.953 L154.386 658.018 Q157.048 655.263 161.631 650.634 Q166.237 645.981 167.418 644.638 Q169.663 642.115 170.543 640.379 Q171.446 638.62 171.446 636.93 Q171.446 634.175 169.501 632.439 Q167.58 630.703 164.478 630.703 Q162.279 630.703 159.825 631.467 Q157.395 632.231 154.617 633.782 L154.617 629.06 Q157.441 627.925 159.895 627.347 Q162.348 626.768 164.385 626.768 Q169.756 626.768 172.95 629.453 Q176.145 632.138 176.145 636.629 Q176.145 638.759 175.334 640.68 Q174.547 642.578 172.441 645.171 Q171.862 645.842 168.76 649.06 Q165.659 652.254 160.011 658.018 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M186.145 656.073 L191.029 656.073 L191.029 661.953 L186.145 661.953 L186.145 656.073 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M211.214 630.472 Q207.603 630.472 205.774 634.037 Q203.969 637.578 203.969 644.708 Q203.969 651.814 205.774 655.379 Q207.603 658.921 211.214 658.921 Q214.848 658.921 216.654 655.379 Q218.482 651.814 218.482 644.708 Q218.482 637.578 216.654 634.037 Q214.848 630.472 211.214 630.472 M211.214 626.768 Q217.024 626.768 220.08 631.375 Q223.158 635.958 223.158 644.708 Q223.158 653.435 220.08 658.041 Q217.024 662.624 211.214 662.624 Q205.404 662.624 202.325 658.041 Q199.27 653.435 199.27 644.708 Q199.27 635.958 202.325 631.375 Q205.404 626.768 211.214 626.768 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M117.21 499.608 L146.886 499.608 L146.886 503.544 L117.21 503.544 L117.21 499.608 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M157.788 512.502 L165.427 512.502 L165.427 486.136 L157.117 487.803 L157.117 483.544 L165.381 481.877 L170.057 481.877 L170.057 512.502 L177.696 512.502 L177.696 516.437 L157.788 516.437 L157.788 512.502 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M187.14 510.557 L192.024 510.557 L192.024 516.437 L187.14 516.437 L187.14 510.557 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M202.256 481.877 L220.612 481.877 L220.612 485.812 L206.538 485.812 L206.538 494.284 Q207.557 493.937 208.575 493.775 Q209.594 493.59 210.612 493.59 Q216.399 493.59 219.779 496.761 Q223.158 499.933 223.158 505.349 Q223.158 510.928 219.686 514.03 Q216.214 517.108 209.894 517.108 Q207.719 517.108 205.45 516.738 Q203.205 516.368 200.797 515.627 L200.797 510.928 Q202.881 512.062 205.103 512.618 Q207.325 513.173 209.802 513.173 Q213.807 513.173 216.144 511.067 Q218.482 508.96 218.482 505.349 Q218.482 501.738 216.144 499.632 Q213.807 497.525 209.802 497.525 Q207.927 497.525 206.052 497.942 Q204.2 498.358 202.256 499.238 L202.256 481.877 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M116.214 354.092 L145.89 354.092 L145.89 358.028 L116.214 358.028 L116.214 354.092 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M156.793 366.986 L164.432 366.986 L164.432 340.62 L156.122 342.287 L156.122 338.028 L164.385 336.361 L169.061 336.361 L169.061 366.986 L176.7 366.986 L176.7 370.921 L156.793 370.921 L156.793 366.986 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M186.145 365.041 L191.029 365.041 L191.029 370.921 L186.145 370.921 L186.145 365.041 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M211.214 339.44 Q207.603 339.44 205.774 343.005 Q203.969 346.546 203.969 353.676 Q203.969 360.782 205.774 364.347 Q207.603 367.889 211.214 367.889 Q214.848 367.889 216.654 364.347 Q218.482 360.782 218.482 353.676 Q218.482 346.546 216.654 343.005 Q214.848 339.44 211.214 339.44 M211.214 335.736 Q217.024 335.736 220.08 340.342 Q223.158 344.926 223.158 353.676 Q223.158 362.403 220.08 367.009 Q217.024 371.592 211.214 371.592 Q205.404 371.592 202.325 367.009 Q199.27 362.403 199.27 353.676 Q199.27 344.926 202.325 340.342 Q205.404 335.736 211.214 335.736 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M117.21 208.576 L146.886 208.576 L146.886 212.512 L117.21 212.512 L117.21 208.576 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M166.978 193.924 Q163.367 193.924 161.538 197.488 Q159.733 201.03 159.733 208.16 Q159.733 215.266 161.538 218.831 Q163.367 222.373 166.978 222.373 Q170.612 222.373 172.418 218.831 Q174.247 215.266 174.247 208.16 Q174.247 201.03 172.418 197.488 Q170.612 193.924 166.978 193.924 M166.978 190.22 Q172.788 190.22 175.844 194.826 Q178.922 199.41 178.922 208.16 Q178.922 216.887 175.844 221.493 Q172.788 226.076 166.978 226.076 Q161.168 226.076 158.089 221.493 Q155.034 216.887 155.034 208.16 Q155.034 199.41 158.089 194.826 Q161.168 190.22 166.978 190.22 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M187.14 219.525 L192.024 219.525 L192.024 225.405 L187.14 225.405 L187.14 219.525 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M202.256 190.845 L220.612 190.845 L220.612 194.78 L206.538 194.78 L206.538 203.252 Q207.557 202.905 208.575 202.743 Q209.594 202.558 210.612 202.558 Q216.399 202.558 219.779 205.729 Q223.158 208.9 223.158 214.317 Q223.158 219.896 219.686 222.998 Q216.214 226.076 209.894 226.076 Q207.719 226.076 205.45 225.706 Q203.205 225.336 200.797 224.595 L200.797 219.896 Q202.881 221.03 205.103 221.586 Q207.325 222.141 209.802 222.141 Q213.807 222.141 216.144 220.035 Q218.482 217.928 218.482 214.317 Q218.482 210.706 216.144 208.6 Q213.807 206.493 209.802 206.493 Q207.927 206.493 206.052 206.91 Q204.2 207.326 202.256 208.206 L202.256 190.845 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M165.983 48.4077 Q162.372 48.4077 160.543 51.9725 Q158.737 55.5141 158.737 62.6437 Q158.737 69.7501 160.543 73.3149 Q162.372 76.8566 165.983 76.8566 Q169.617 76.8566 171.422 73.3149 Q173.251 69.7501 173.251 62.6437 Q173.251 55.5141 171.422 51.9725 Q169.617 48.4077 165.983 48.4077 M165.983 44.704 Q171.793 44.704 174.848 49.3104 Q177.927 53.8937 177.927 62.6437 Q177.927 71.3705 174.848 75.977 Q171.793 80.5603 165.983 80.5603 Q160.173 80.5603 157.094 75.977 Q154.038 71.3705 154.038 62.6437 Q154.038 53.8937 157.094 49.3104 Q160.173 44.704 165.983 44.704 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M186.145 74.0094 L191.029 74.0094 L191.029 79.889 L186.145 79.889 L186.145 74.0094 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M211.214 48.4077 Q207.603 48.4077 205.774 51.9725 Q203.969 55.5141 203.969 62.6437 Q203.969 69.7501 205.774 73.3149 Q207.603 76.8566 211.214 76.8566 Q214.848 76.8566 216.654 73.3149 Q218.482 69.7501 218.482 62.6437 Q218.482 55.5141 216.654 51.9725 Q214.848 48.4077 211.214 48.4077 M211.214 44.704 Q217.024 44.704 220.08 49.3104 Q223.158 53.8937 223.158 62.6437 Q223.158 71.3705 220.08 75.977 Q217.024 80.5603 211.214 80.5603 Q205.404 80.5603 202.325 75.977 Q199.27 71.3705 199.27 62.6437 Q199.27 53.8937 202.325 49.3104 Q205.404 44.704 211.214 44.704 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip412)" d="M330.76 737.545 L314.76 753.545 L330.76 769.545 L346.76 753.545 L330.76 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip412)" d="M579.95 472.286 L563.95 488.286 L579.95 504.286 L595.95 488.286 L579.95 472.286 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip412)" d="M829.141 309.028 L813.141 325.028 L829.141 341.028 L845.141 325.028 L829.141 309.028 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip412)" d="M1078.33 208.306 L1062.33 224.306 L1078.33 240.306 L1094.33 224.306 L1078.33 208.306 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip412)" d="M1327.52 146.117 L1311.52 162.117 L1327.52 178.117 L1343.52 162.117 L1327.52 146.117 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip412)" d="M1576.71 107.64 L1560.71 123.64 L1576.71 139.64 L1592.71 123.64 L1576.71 107.64 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip412)" d="M1825.9 83.707 L1809.9 99.707 L1825.9 115.707 L1841.9 99.707 L1825.9 83.707 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip412)" d="M2075.09 68.6146 L2059.09 84.6146 L2075.09 100.615 L2091.09 84.6146 L2075.09 68.6146 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip412)" d="M2324.28 58.7662 L2308.28 74.7662 L2324.28 90.7662 L2340.28 74.7662 L2324.28 58.7662 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip412)" d="M2573.47 51.816 L2557.47 67.816 L2573.47 83.816 L2589.47 67.816 L2573.47 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip412)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,753.545 579.95,753.545 579.95,488.286 829.141,488.286 829.141,325.028 1078.33,325.028 1078.33,224.306 1327.52,224.306 1327.52,162.117 1576.71,162.117 1576.71,123.64 1825.9,123.64 1825.9,99.707 2075.09,99.707 2075.09,84.6146 2324.28,84.6146 2324.28,74.7662 2573.47,74.7662 2573.47,67.816 "></polyline>
<path clip-path="url(#clip410)" d="M342.721 175.153 L602.162 175.153 L602.162 71.4732 L342.721 71.4732  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="342.721,175.153 602.162,175.153 602.162,71.4732 342.721,71.4732 342.721,175.153 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="369.135,123.313 527.62,123.313 "></polyline>
<path clip-path="url(#clip410)" d="M554.034 130.362 L554.034 114.667 L558.294 114.667 L558.294 130.2 Q558.294 133.88 559.729 135.732 Q561.164 137.561 564.034 137.561 Q567.483 137.561 569.474 135.362 Q571.488 133.163 571.488 129.366 L571.488 114.667 L575.747 114.667 L575.747 140.593 L571.488 140.593 L571.488 136.612 Q569.937 138.973 567.877 140.13 Q565.84 141.264 563.132 141.264 Q558.664 141.264 556.349 138.487 Q554.034 135.709 554.034 130.362 M564.752 114.042 L564.752 114.042 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M263.478 1734.12 L2640.76 1734.12 L2640.76 1007.24 L263.478 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip413">
    <rect x="263" y="1007" width="2378" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip413)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="330.76,1734.12 330.76,1007.24 "></polyline>
<polyline clip-path="url(#clip413)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="891.438,1734.12 891.438,1007.24 "></polyline>
<polyline clip-path="url(#clip413)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1452.12,1734.12 1452.12,1007.24 "></polyline>
<polyline clip-path="url(#clip413)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2012.8,1734.12 2012.8,1007.24 "></polyline>
<polyline clip-path="url(#clip413)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2573.47,1734.12 2573.47,1007.24 "></polyline>
<polyline clip-path="url(#clip413)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1606.35 2640.76,1606.35 "></polyline>
<polyline clip-path="url(#clip413)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1413.5 2640.76,1413.5 "></polyline>
<polyline clip-path="url(#clip413)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1220.66 2640.76,1220.66 "></polyline>
<polyline clip-path="url(#clip413)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,1734.12 330.76,1715.22 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="891.438,1734.12 891.438,1715.22 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1452.12,1734.12 1452.12,1715.22 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2012.8,1734.12 2012.8,1715.22 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2573.47,1734.12 2573.47,1715.22 "></polyline>
<path clip-path="url(#clip410)" d="M308.144 1767.34 Q304.533 1767.34 302.704 1770.9 Q300.899 1774.45 300.899 1781.58 Q300.899 1788.68 302.704 1792.25 Q304.533 1795.79 308.144 1795.79 Q311.778 1795.79 313.584 1792.25 Q315.413 1788.68 315.413 1781.58 Q315.413 1774.45 313.584 1770.9 Q311.778 1767.34 308.144 1767.34 M308.144 1763.64 Q313.954 1763.64 317.01 1768.24 Q320.089 1772.83 320.089 1781.58 Q320.089 1790.3 317.01 1794.91 Q313.954 1799.49 308.144 1799.49 Q302.334 1799.49 299.255 1794.91 Q296.2 1790.3 296.2 1781.58 Q296.2 1772.83 299.255 1768.24 Q302.334 1763.64 308.144 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M328.306 1792.94 L333.19 1792.94 L333.19 1798.82 L328.306 1798.82 L328.306 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M353.375 1767.34 Q349.764 1767.34 347.936 1770.9 Q346.13 1774.45 346.13 1781.58 Q346.13 1788.68 347.936 1792.25 Q349.764 1795.79 353.375 1795.79 Q357.01 1795.79 358.815 1792.25 Q360.644 1788.68 360.644 1781.58 Q360.644 1774.45 358.815 1770.9 Q357.01 1767.34 353.375 1767.34 M353.375 1763.64 Q359.186 1763.64 362.241 1768.24 Q365.32 1772.83 365.32 1781.58 Q365.32 1790.3 362.241 1794.91 Q359.186 1799.49 353.375 1799.49 Q347.565 1799.49 344.487 1794.91 Q341.431 1790.3 341.431 1781.58 Q341.431 1772.83 344.487 1768.24 Q347.565 1763.64 353.375 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M863.175 1794.89 L879.494 1794.89 L879.494 1798.82 L857.55 1798.82 L857.55 1794.89 Q860.212 1792.13 864.795 1787.5 Q869.402 1782.85 870.582 1781.51 Q872.827 1778.98 873.707 1777.25 Q874.61 1775.49 874.61 1773.8 Q874.61 1771.04 872.665 1769.31 Q870.744 1767.57 867.642 1767.57 Q865.443 1767.57 862.99 1768.34 Q860.559 1769.1 857.781 1770.65 L857.781 1765.93 Q860.605 1764.79 863.059 1764.21 Q865.513 1763.64 867.55 1763.64 Q872.92 1763.64 876.114 1766.32 Q879.309 1769.01 879.309 1773.5 Q879.309 1775.63 878.499 1777.55 Q877.712 1779.45 875.605 1782.04 Q875.026 1782.71 871.925 1785.93 Q868.823 1789.12 863.175 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M889.309 1792.94 L894.193 1792.94 L894.193 1798.82 L889.309 1798.82 L889.309 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M904.424 1764.26 L922.781 1764.26 L922.781 1768.2 L908.707 1768.2 L908.707 1776.67 Q909.725 1776.32 910.744 1776.16 Q911.762 1775.97 912.781 1775.97 Q918.568 1775.97 921.948 1779.15 Q925.327 1782.32 925.327 1787.73 Q925.327 1793.31 921.855 1796.41 Q918.383 1799.49 912.063 1799.49 Q909.887 1799.49 907.619 1799.12 Q905.374 1798.75 902.966 1798.01 L902.966 1793.31 Q905.049 1794.45 907.272 1795 Q909.494 1795.56 911.971 1795.56 Q915.975 1795.56 918.313 1793.45 Q920.651 1791.34 920.651 1787.73 Q920.651 1784.12 918.313 1782.02 Q915.975 1779.91 911.971 1779.91 Q910.096 1779.91 908.221 1780.33 Q906.369 1780.74 904.424 1781.62 L904.424 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M1419.28 1764.26 L1437.64 1764.26 L1437.64 1768.2 L1423.56 1768.2 L1423.56 1776.67 Q1424.58 1776.32 1425.6 1776.16 Q1426.62 1775.97 1427.64 1775.97 Q1433.43 1775.97 1436.8 1779.15 Q1440.18 1782.32 1440.18 1787.73 Q1440.18 1793.31 1436.71 1796.41 Q1433.24 1799.49 1426.92 1799.49 Q1424.74 1799.49 1422.48 1799.12 Q1420.23 1798.75 1417.82 1798.01 L1417.82 1793.31 Q1419.91 1794.45 1422.13 1795 Q1424.35 1795.56 1426.83 1795.56 Q1430.83 1795.56 1433.17 1793.45 Q1435.51 1791.34 1435.51 1787.73 Q1435.51 1784.12 1433.17 1782.02 Q1430.83 1779.91 1426.83 1779.91 Q1424.95 1779.91 1423.08 1780.33 Q1421.23 1780.74 1419.28 1781.62 L1419.28 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M1449.4 1792.94 L1454.28 1792.94 L1454.28 1798.82 L1449.4 1798.82 L1449.4 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M1474.47 1767.34 Q1470.86 1767.34 1469.03 1770.9 Q1467.22 1774.45 1467.22 1781.58 Q1467.22 1788.68 1469.03 1792.25 Q1470.86 1795.79 1474.47 1795.79 Q1478.1 1795.79 1479.91 1792.25 Q1481.74 1788.68 1481.74 1781.58 Q1481.74 1774.45 1479.91 1770.9 Q1478.1 1767.34 1474.47 1767.34 M1474.47 1763.64 Q1480.28 1763.64 1483.33 1768.24 Q1486.41 1772.83 1486.41 1781.58 Q1486.41 1790.3 1483.33 1794.91 Q1480.28 1799.49 1474.47 1799.49 Q1468.66 1799.49 1465.58 1794.91 Q1462.52 1790.3 1462.52 1781.58 Q1462.52 1772.83 1465.58 1768.24 Q1468.66 1763.64 1474.47 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M1979.12 1764.26 L2001.34 1764.26 L2001.34 1766.25 L1988.79 1798.82 L1983.91 1798.82 L1995.71 1768.2 L1979.12 1768.2 L1979.12 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M2010.46 1792.94 L2015.34 1792.94 L2015.34 1798.82 L2010.46 1798.82 L2010.46 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M2025.57 1764.26 L2043.93 1764.26 L2043.93 1768.2 L2029.86 1768.2 L2029.86 1776.67 Q2030.87 1776.32 2031.89 1776.16 Q2032.91 1775.97 2033.93 1775.97 Q2039.72 1775.97 2043.1 1779.15 Q2046.48 1782.32 2046.48 1787.73 Q2046.48 1793.31 2043 1796.41 Q2039.53 1799.49 2033.21 1799.49 Q2031.04 1799.49 2028.77 1799.12 Q2026.52 1798.75 2024.12 1798.01 L2024.12 1793.31 Q2026.2 1794.45 2028.42 1795 Q2030.64 1795.56 2033.12 1795.56 Q2037.12 1795.56 2039.46 1793.45 Q2041.8 1791.34 2041.8 1787.73 Q2041.8 1784.12 2039.46 1782.02 Q2037.12 1779.91 2033.12 1779.91 Q2031.24 1779.91 2029.37 1780.33 Q2027.52 1780.74 2025.57 1781.62 L2025.57 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M2525.55 1794.89 L2533.19 1794.89 L2533.19 1768.52 L2524.88 1770.19 L2524.88 1765.93 L2533.14 1764.26 L2537.81 1764.26 L2537.81 1794.89 L2545.45 1794.89 L2545.45 1798.82 L2525.55 1798.82 L2525.55 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M2564.9 1767.34 Q2561.29 1767.34 2559.46 1770.9 Q2557.65 1774.45 2557.65 1781.58 Q2557.65 1788.68 2559.46 1792.25 Q2561.29 1795.79 2564.9 1795.79 Q2568.53 1795.79 2570.34 1792.25 Q2572.17 1788.68 2572.17 1781.58 Q2572.17 1774.45 2570.34 1770.9 Q2568.53 1767.34 2564.9 1767.34 M2564.9 1763.64 Q2570.71 1763.64 2573.76 1768.24 Q2576.84 1772.83 2576.84 1781.58 Q2576.84 1790.3 2573.76 1794.91 Q2570.71 1799.49 2564.9 1799.49 Q2559.09 1799.49 2556.01 1794.91 Q2552.95 1790.3 2552.95 1781.58 Q2552.95 1772.83 2556.01 1768.24 Q2559.09 1763.64 2564.9 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M2585.06 1792.94 L2589.94 1792.94 L2589.94 1798.82 L2585.06 1798.82 L2585.06 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M2610.13 1767.34 Q2606.52 1767.34 2604.69 1770.9 Q2602.88 1774.45 2602.88 1781.58 Q2602.88 1788.68 2604.69 1792.25 Q2606.52 1795.79 2610.13 1795.79 Q2613.76 1795.79 2615.57 1792.25 Q2617.4 1788.68 2617.4 1781.58 Q2617.4 1774.45 2615.57 1770.9 Q2613.76 1767.34 2610.13 1767.34 M2610.13 1763.64 Q2615.94 1763.64 2619 1768.24 Q2622.07 1772.83 2622.07 1781.58 Q2622.07 1790.3 2619 1794.91 Q2615.94 1799.49 2610.13 1799.49 Q2604.32 1799.49 2601.24 1794.91 Q2598.18 1790.3 2598.18 1781.58 Q2598.18 1772.83 2601.24 1768.24 Q2604.32 1763.64 2610.13 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M1436.3 1833.78 L1442.19 1833.78 L1442.19 1863.03 L1459.66 1847.65 L1467.14 1847.65 L1448.23 1864.33 L1467.94 1883.3 L1460.3 1883.3 L1442.19 1865.89 L1442.19 1883.3 L1436.3 1883.3 L1436.3 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1734.12 263.478,1007.24 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1606.35 282.376,1606.35 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1413.5 282.376,1413.5 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1220.66 282.376,1220.66 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1027.82 282.376,1027.82 "></polyline>
<path clip-path="url(#clip410)" d="M211.214 1592.14 Q207.603 1592.14 205.774 1595.71 Q203.969 1599.25 203.969 1606.38 Q203.969 1613.49 205.774 1617.05 Q207.603 1620.59 211.214 1620.59 Q214.848 1620.59 216.654 1617.05 Q218.482 1613.49 218.482 1606.38 Q218.482 1599.25 216.654 1595.71 Q214.848 1592.14 211.214 1592.14 M211.214 1588.44 Q217.024 1588.44 220.08 1593.05 Q223.158 1597.63 223.158 1606.38 Q223.158 1615.11 220.08 1619.71 Q217.024 1624.3 211.214 1624.3 Q205.404 1624.3 202.325 1619.71 Q199.27 1615.11 199.27 1606.38 Q199.27 1597.63 202.325 1593.05 Q205.404 1588.44 211.214 1588.44 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M203.251 1426.85 L210.89 1426.85 L210.89 1400.48 L202.58 1402.15 L202.58 1397.89 L210.844 1396.22 L215.519 1396.22 L215.519 1426.85 L223.158 1426.85 L223.158 1430.78 L203.251 1430.78 L203.251 1426.85 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M206.839 1234 L223.158 1234 L223.158 1237.94 L201.214 1237.94 L201.214 1234 Q203.876 1231.25 208.459 1226.62 Q213.066 1221.97 214.246 1220.62 Q216.492 1218.1 217.371 1216.37 Q218.274 1214.61 218.274 1212.92 Q218.274 1210.16 216.33 1208.43 Q214.408 1206.69 211.307 1206.69 Q209.107 1206.69 206.654 1207.45 Q204.223 1208.22 201.445 1209.77 L201.445 1205.05 Q204.27 1203.91 206.723 1203.33 Q209.177 1202.75 211.214 1202.75 Q216.584 1202.75 219.779 1205.44 Q222.973 1208.12 222.973 1212.62 Q222.973 1214.74 222.163 1216.67 Q221.376 1218.56 219.269 1221.16 Q218.691 1221.83 215.589 1225.05 Q212.487 1228.24 206.839 1234 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M216.029 1026.46 Q219.385 1027.18 221.26 1029.45 Q223.158 1031.72 223.158 1035.05 Q223.158 1040.17 219.64 1042.97 Q216.121 1045.77 209.64 1045.77 Q207.464 1045.77 205.149 1045.33 Q202.857 1044.91 200.404 1044.05 L200.404 1039.54 Q202.348 1040.67 204.663 1041.25 Q206.978 1041.83 209.501 1041.83 Q213.899 1041.83 216.191 1040.1 Q218.506 1038.36 218.506 1035.05 Q218.506 1031.99 216.353 1030.28 Q214.223 1028.55 210.404 1028.55 L206.376 1028.55 L206.376 1024.7 L210.589 1024.7 Q214.038 1024.7 215.867 1023.34 Q217.695 1021.95 217.695 1019.36 Q217.695 1016.69 215.797 1015.28 Q213.922 1013.85 210.404 1013.85 Q208.482 1013.85 206.283 1014.26 Q204.084 1014.68 201.445 1015.56 L201.445 1011.39 Q204.107 1010.65 206.422 1010.28 Q208.76 1009.91 210.82 1009.91 Q216.144 1009.91 219.246 1012.34 Q222.348 1014.75 222.348 1018.87 Q222.348 1021.74 220.705 1023.73 Q219.061 1025.7 216.029 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M109.046 1354.07 L126.392 1366.96 L144.694 1353.4 L144.694 1360.3 L130.689 1370.68 L144.694 1381.06 L144.694 1387.96 L126.042 1374.12 L109.046 1386.79 L109.046 1379.88 L121.745 1370.43 L109.046 1360.97 L109.046 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip413)" d="M330.76 1397.5 L314.76 1413.5 L330.76 1429.5 L346.76 1413.5 L330.76 1397.5 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M555.031 1697.55 L539.031 1713.55 L555.031 1729.55 L571.031 1713.55 L555.031 1697.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M779.303 1656.92 L763.303 1672.92 L779.303 1688.92 L795.303 1672.92 L779.303 1656.92 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M1003.57 1631.37 L987.574 1647.37 L1003.57 1663.37 L1019.57 1647.37 L1003.57 1631.37 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M1227.85 1615.58 L1211.85 1631.58 L1227.85 1647.58 L1243.85 1631.58 L1227.85 1615.58 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M1452.12 1605.81 L1436.12 1621.81 L1452.12 1637.81 L1468.12 1621.81 L1452.12 1605.81 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M1676.39 1599.73 L1660.39 1615.73 L1676.39 1631.73 L1692.39 1615.73 L1676.39 1599.73 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M1900.66 1595.89 L1884.66 1611.89 L1900.66 1627.89 L1916.66 1611.89 L1900.66 1595.89 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M2124.93 1593.36 L2108.93 1609.36 L2124.93 1625.36 L2140.93 1609.36 L2124.93 1593.36 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M2349.2 1591.55 L2333.2 1607.55 L2349.2 1623.55 L2365.2 1607.55 L2349.2 1591.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M2573.47 1590.03 L2557.47 1606.03 L2573.47 1622.03 L2589.47 1606.03 L2573.47 1590.03 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip413)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,1413.5 555.031,1413.5 555.031,1713.55 779.303,1713.55 779.303,1672.92 1003.57,1672.92 1003.57,1647.37 1227.85,1647.37 1227.85,1631.58 1452.12,1631.58 1452.12,1621.81 1676.39,1621.81 1676.39,1615.73 1900.66,1615.73 1900.66,1611.89 2124.93,1611.89 2124.93,1609.36 2349.2,1609.36 2349.2,1607.55 2573.47,1607.55 2573.47,1606.03 "></polyline>
<path clip-path="url(#clip413)" d="M330.76 1011.82 L314.76 1027.82 L330.76 1043.82 L346.76 1027.82 L330.76 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M555.031 1182.87 L539.031 1198.87 L555.031 1214.87 L571.031 1198.87 L555.031 1182.87 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M779.303 1338.94 L763.303 1354.94 L779.303 1370.94 L795.303 1354.94 L779.303 1338.94 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M1003.57 1435.28 L987.574 1451.28 L1003.57 1467.28 L1019.57 1451.28 L1003.57 1435.28 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M1227.85 1494.67 L1211.85 1510.67 L1227.85 1526.67 L1243.85 1510.67 L1227.85 1494.67 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M1452.12 1531.26 L1436.12 1547.26 L1452.12 1563.26 L1468.12 1547.26 L1452.12 1531.26 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M1676.39 1553.76 L1660.39 1569.76 L1676.39 1585.76 L1692.39 1569.76 L1676.39 1553.76 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M1900.66 1567.55 L1884.66 1583.55 L1900.66 1599.55 L1916.66 1583.55 L1900.66 1567.55 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M2124.93 1575.91 L2108.93 1591.91 L2124.93 1607.91 L2140.93 1591.91 L2124.93 1575.91 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M2349.2 1580.83 L2333.2 1596.83 L2349.2 1612.83 L2365.2 1596.83 L2349.2 1580.83 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip413)" d="M2573.47 1583.49 L2557.47 1599.49 L2573.47 1615.49 L2589.47 1599.49 L2573.47 1583.49 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip413)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,1027.82 555.031,1027.82 555.031,1198.87 779.303,1198.87 779.303,1354.94 1003.57,1354.94 1003.57,1451.28 1227.85,1451.28 1227.85,1510.67 1452.12,1510.67 1452.12,1547.26 1676.39,1547.26 1676.39,1569.76 1900.66,1569.76 1900.66,1583.55 2124.93,1583.55 2124.93,1591.91 2349.2,1591.91 2349.2,1596.83 2573.47,1596.83 2573.47,1599.49 "></polyline>
<path clip-path="url(#clip410)" d="M2280.68 1186.99 L2561.51 1186.99 L2561.51 1031.47 L2280.68 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip410)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2280.68,1186.99 2561.51,1186.99 2561.51,1031.47 2280.68,1031.47 2280.68,1186.99 "></polyline>
<polyline clip-path="url(#clip410)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2307.1,1083.31 2465.58,1083.31 "></polyline>
<path clip-path="url(#clip410)" d="M2516.65 1074.67 L2507.28 1087.28 L2517.14 1100.59 L2512.11 1100.59 L2504.57 1090.41 L2497.02 1100.59 L2492 1100.59 L2502.07 1087.03 L2492.85 1074.67 L2497.88 1074.67 L2504.75 1083.9 L2511.63 1074.67 L2516.65 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M2522.3 1098.05 L2527.02 1098.05 L2527.02 1083.9 L2521.86 1084.85 L2521.86 1082.17 L2527.18 1081.26 L2530.35 1081.26 L2530.35 1098.05 L2535.1 1098.05 L2535.1 1100.59 L2522.3 1100.59 L2522.3 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip410)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2307.1,1135.15 2465.58,1135.15 "></polyline>
<path clip-path="url(#clip410)" d="M2516.65 1126.51 L2507.28 1139.12 L2517.14 1152.43 L2512.11 1152.43 L2504.57 1142.25 L2497.02 1152.43 L2492 1152.43 L2502.07 1138.87 L2492.85 1126.51 L2497.88 1126.51 L2504.75 1135.74 L2511.63 1126.51 L2516.65 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip410)" d="M2524.89 1149.79 L2534.71 1149.79 L2534.71 1152.43 L2520.86 1152.43 L2520.86 1149.89 Q2521.65 1149.17 2523.11 1147.87 Q2531.07 1140.81 2531.07 1138.64 Q2531.07 1137.11 2529.87 1136.18 Q2528.66 1135.23 2526.7 1135.23 Q2525.49 1135.23 2524.08 1135.65 Q2522.67 1136.04 2521 1136.85 L2521 1134.01 Q2522.78 1133.36 2524.31 1133.04 Q2525.86 1132.71 2527.18 1132.71 Q2530.54 1132.71 2532.55 1134.24 Q2534.57 1135.77 2534.57 1138.27 Q2534.57 1141.48 2526.9 1148.06 Q2525.61 1149.17 2524.89 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
<section id="adding-constraints-on-controls-and-states" class="level3">
<h3 class="anchored" data-anchor-id="adding-constraints-on-controls-and-states">Adding constraints on controls and states</h3>
<p>When solving a realistic optimal control problem, we may want to impose inequality constraints on <span class="math inline">\bm u_k</span> due to saturation of actuators. We may also want to add constraints on <span class="math inline">\bm x_k</span> as well, which may reflect some performance specifications. In both cases, we would arrive at the full KKT conditions, and rather than trying to solve these, we resort to some finetuned numerical solver for quadratic programming (QP) instead.</p>
<div id="exm-direct-simultaneous-constrained-using-jump" class="theorem example">
<p><span class="theorem-title"><strong>Example 2 (Simultaneous approach to the LQR problem with constraints on control – higher-level implementation using optimization modelling language JuMP)</strong></span> While developing the model all the way down to the individual matrices and vectors gives an insight into the structure of the problem (we learnt that in absence of constraints it amounts to solving an indefinite system of linear equations), here we show how the use of an optimization modelling language can make the process of building the model a lot more convenient. We use JuMP for this purpose, but things would be similar with, say, cvxpy in Python or Yalmip in Matlab.</p>
<div id="4" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">JuMP</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">OSQP</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>umin <span class="op">=</span> <span class="op">-</span><span class="fl">1.0</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>umax <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>ocp <span class="op">=</span> <span class="fu">Model</span>(OSQP.Optimizer)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="fu">set_silent</span>(ocp)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="pp">@variable</span>(ocp, umin <span class="op">&lt;=</span> u[<span class="fl">1</span><span class="op">:</span>N] <span class="op">&lt;=</span> umax)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="pp">@variable</span>(ocp, x[<span class="fl">1</span><span class="op">:</span>n,<span class="fl">1</span><span class="op">:</span>N<span class="op">+</span><span class="fl">1</span>])</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@constraint</span>(ocp, x[<span class="op">:</span>,i<span class="op">+</span><span class="fl">1</span>] <span class="op">==</span> A<span class="op">*</span>x[<span class="op">:</span>,i] <span class="op">+</span> B<span class="op">*</span>u[i])</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="fu">fix</span>(x[<span class="fl">1</span>,<span class="fl">1</span>], x₀[<span class="fl">1</span>])</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="fu">fix</span>(x[<span class="fl">2</span>,<span class="fl">1</span>], x₀[<span class="fl">2</span>])</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="pp">@objective</span>(ocp, Min, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="fu">*dot</span>(x[<span class="op">:</span>,N],S,x[<span class="op">:</span>,N]) <span class="op">+</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="fu">*sum</span>(<span class="fu">dot</span>(x[<span class="op">:</span>,i],Q,x[<span class="op">:</span>,i]) <span class="op">+</span> <span class="fu">dot</span>(u[i],R,u[i]) <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>N<span class="op">-</span><span class="fl">1</span>))</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a><span class="fu">optimize!</span>(ocp)</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>uopt <span class="op">=</span> <span class="fu">value</span>.(u)</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>xopt <span class="op">=</span> <span class="fu">value</span>.(x)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,xopt<span class="op">'</span>,marker<span class="op">=:</span>diamond,label<span class="op">=</span>[<span class="st">"x₁"</span> <span class="st">"x₂"</span>],linetype<span class="op">=:</span>steppost)</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip470">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip470)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip471">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip470)" d="M293.64 774.117 L2640.76 774.117 L2640.76 47.2441 L293.64 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip472">
    <rect x="293" y="47" width="2348" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip472)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="360.068,774.117 360.068,47.2441 "></polyline>
<polyline clip-path="url(#clip472)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="852.126,774.117 852.126,47.2441 "></polyline>
<polyline clip-path="url(#clip472)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1344.18,774.117 1344.18,47.2441 "></polyline>
<polyline clip-path="url(#clip472)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1836.24,774.117 1836.24,47.2441 "></polyline>
<polyline clip-path="url(#clip472)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2328.3,774.117 2328.3,47.2441 "></polyline>
<polyline clip-path="url(#clip472)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,752.638 2640.76,752.638 "></polyline>
<polyline clip-path="url(#clip472)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,581.432 2640.76,581.432 "></polyline>
<polyline clip-path="url(#clip472)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,410.226 2640.76,410.226 "></polyline>
<polyline clip-path="url(#clip472)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,239.021 2640.76,239.021 "></polyline>
<polyline clip-path="url(#clip472)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,67.8151 2640.76,67.8151 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,774.117 360.068,755.219 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="852.126,774.117 852.126,755.219 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1344.18,774.117 1344.18,755.219 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1836.24,774.117 1836.24,755.219 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2328.3,774.117 2328.3,755.219 "></polyline>
<path clip-path="url(#clip470)" d="M360.068 807.34 Q356.457 807.34 354.628 810.904 Q352.823 814.446 352.823 821.576 Q352.823 828.682 354.628 832.247 Q356.457 835.789 360.068 835.789 Q363.702 835.789 365.508 832.247 Q367.336 828.682 367.336 821.576 Q367.336 814.446 365.508 810.904 Q363.702 807.34 360.068 807.34 M360.068 803.636 Q365.878 803.636 368.934 808.242 Q372.012 812.826 372.012 821.576 Q372.012 830.303 368.934 834.909 Q365.878 839.492 360.068 839.492 Q354.258 839.492 351.179 834.909 Q348.124 830.303 348.124 821.576 Q348.124 812.826 351.179 808.242 Q354.258 803.636 360.068 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M846.779 834.886 L863.098 834.886 L863.098 838.821 L841.154 838.821 L841.154 834.886 Q843.816 832.131 848.399 827.502 Q853.005 822.849 854.186 821.506 Q856.431 818.983 857.311 817.247 Q858.214 815.488 858.214 813.798 Q858.214 811.043 856.269 809.307 Q854.348 807.571 851.246 807.571 Q849.047 807.571 846.593 808.335 Q844.163 809.099 841.385 810.65 L841.385 805.928 Q844.209 804.793 846.663 804.215 Q849.117 803.636 851.154 803.636 Q856.524 803.636 859.718 806.321 Q862.913 809.006 862.913 813.497 Q862.913 815.627 862.103 817.548 Q861.316 819.446 859.209 822.039 Q858.63 822.71 855.529 825.928 Q852.427 829.122 846.779 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M1347.19 808.335 L1335.39 826.784 L1347.19 826.784 L1347.19 808.335 M1345.97 804.261 L1351.85 804.261 L1351.85 826.784 L1356.78 826.784 L1356.78 830.673 L1351.85 830.673 L1351.85 838.821 L1347.19 838.821 L1347.19 830.673 L1331.59 830.673 L1331.59 826.159 L1345.97 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M1836.65 819.678 Q1833.5 819.678 1831.65 821.83 Q1829.82 823.983 1829.82 827.733 Q1829.82 831.46 1831.65 833.636 Q1833.5 835.789 1836.65 835.789 Q1839.79 835.789 1841.62 833.636 Q1843.48 831.46 1843.48 827.733 Q1843.48 823.983 1841.62 821.83 Q1839.79 819.678 1836.65 819.678 M1845.93 805.025 L1845.93 809.284 Q1844.17 808.451 1842.36 808.011 Q1840.58 807.571 1838.82 807.571 Q1834.19 807.571 1831.74 810.696 Q1829.31 813.821 1828.96 820.141 Q1830.33 818.127 1832.39 817.062 Q1834.45 815.974 1836.92 815.974 Q1842.13 815.974 1845.14 819.145 Q1848.17 822.293 1848.17 827.733 Q1848.17 833.057 1845.03 836.275 Q1841.88 839.492 1836.65 839.492 Q1830.65 839.492 1827.48 834.909 Q1824.31 830.303 1824.31 821.576 Q1824.31 813.381 1828.2 808.52 Q1832.09 803.636 1838.64 803.636 Q1840.4 803.636 1842.18 803.983 Q1843.98 804.33 1845.93 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M2328.3 822.409 Q2324.97 822.409 2323.04 824.191 Q2321.15 825.974 2321.15 829.099 Q2321.15 832.224 2323.04 834.006 Q2324.97 835.789 2328.3 835.789 Q2331.63 835.789 2333.55 834.006 Q2335.48 832.201 2335.48 829.099 Q2335.48 825.974 2333.55 824.191 Q2331.66 822.409 2328.3 822.409 M2323.62 820.418 Q2320.61 819.678 2318.92 817.617 Q2317.26 815.557 2317.26 812.594 Q2317.26 808.451 2320.2 806.043 Q2323.16 803.636 2328.3 803.636 Q2333.46 803.636 2336.4 806.043 Q2339.34 808.451 2339.34 812.594 Q2339.34 815.557 2337.65 817.617 Q2335.98 819.678 2333 820.418 Q2336.38 821.205 2338.25 823.497 Q2340.15 825.789 2340.15 829.099 Q2340.15 834.122 2337.07 836.807 Q2334.02 839.492 2328.3 839.492 Q2322.58 839.492 2319.5 836.807 Q2316.45 834.122 2316.45 829.099 Q2316.45 825.789 2318.35 823.497 Q2320.24 821.205 2323.62 820.418 M2321.91 813.034 Q2321.91 815.719 2323.58 817.224 Q2325.27 818.729 2328.3 818.729 Q2331.31 818.729 2333 817.224 Q2334.71 815.719 2334.71 813.034 Q2334.71 810.349 2333 808.844 Q2331.31 807.34 2328.3 807.34 Q2325.27 807.34 2323.58 808.844 Q2321.91 810.349 2321.91 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M1451.38 873.776 L1457.27 873.776 L1457.27 903.026 L1474.74 887.653 L1482.22 887.653 L1463.31 904.331 L1483.02 923.301 L1475.38 923.301 L1457.27 905.891 L1457.27 923.301 L1451.38 923.301 L1451.38 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,774.117 293.64,47.2441 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,752.638 312.538,752.638 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,581.432 312.538,581.432 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,410.226 312.538,410.226 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,239.021 312.538,239.021 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,67.8151 312.538,67.8151 "></polyline>
<path clip-path="url(#clip470)" d="M116.214 753.089 L145.89 753.089 L145.89 757.024 L116.214 757.024 L116.214 753.089 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M156.793 765.982 L164.432 765.982 L164.432 739.617 L156.122 741.283 L156.122 737.024 L164.385 735.358 L169.061 735.358 L169.061 765.982 L176.7 765.982 L176.7 769.918 L156.793 769.918 L156.793 765.982 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M186.145 764.038 L191.029 764.038 L191.029 769.918 L186.145 769.918 L186.145 764.038 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M211.214 738.436 Q207.603 738.436 205.774 742.001 Q203.969 745.543 203.969 752.672 Q203.969 759.779 205.774 763.343 Q207.603 766.885 211.214 766.885 Q214.848 766.885 216.654 763.343 Q218.482 759.779 218.482 752.672 Q218.482 745.543 216.654 742.001 Q214.848 738.436 211.214 738.436 M211.214 734.733 Q217.024 734.733 220.08 739.339 Q223.158 743.922 223.158 752.672 Q223.158 761.399 220.08 766.006 Q217.024 770.589 211.214 770.589 Q205.404 770.589 202.325 766.006 Q199.27 761.399 199.27 752.672 Q199.27 743.922 202.325 739.339 Q205.404 734.733 211.214 734.733 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M241.376 738.436 Q237.765 738.436 235.936 742.001 Q234.13 745.543 234.13 752.672 Q234.13 759.779 235.936 763.343 Q237.765 766.885 241.376 766.885 Q245.01 766.885 246.816 763.343 Q248.644 759.779 248.644 752.672 Q248.644 745.543 246.816 742.001 Q245.01 738.436 241.376 738.436 M241.376 734.733 Q247.186 734.733 250.242 739.339 Q253.32 743.922 253.32 752.672 Q253.32 761.399 250.242 766.006 Q247.186 770.589 241.376 770.589 Q235.566 770.589 232.487 766.006 Q229.431 761.399 229.431 752.672 Q229.431 743.922 232.487 739.339 Q235.566 734.733 241.376 734.733 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M117.21 581.883 L146.886 581.883 L146.886 585.818 L117.21 585.818 L117.21 581.883 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M166.978 567.231 Q163.367 567.231 161.538 570.795 Q159.733 574.337 159.733 581.467 Q159.733 588.573 161.538 592.138 Q163.367 595.68 166.978 595.68 Q170.612 595.68 172.418 592.138 Q174.247 588.573 174.247 581.467 Q174.247 574.337 172.418 570.795 Q170.612 567.231 166.978 567.231 M166.978 563.527 Q172.788 563.527 175.844 568.133 Q178.922 572.717 178.922 581.467 Q178.922 590.193 175.844 594.8 Q172.788 599.383 166.978 599.383 Q161.168 599.383 158.089 594.8 Q155.034 590.193 155.034 581.467 Q155.034 572.717 158.089 568.133 Q161.168 563.527 166.978 563.527 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M187.14 592.832 L192.024 592.832 L192.024 598.712 L187.14 598.712 L187.14 592.832 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M201.029 564.152 L223.251 564.152 L223.251 566.143 L210.705 598.712 L205.82 598.712 L217.626 568.087 L201.029 568.087 L201.029 564.152 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M232.418 564.152 L250.774 564.152 L250.774 568.087 L236.7 568.087 L236.7 576.559 Q237.718 576.212 238.737 576.05 Q239.755 575.865 240.774 575.865 Q246.561 575.865 249.941 579.036 Q253.32 582.207 253.32 587.624 Q253.32 593.203 249.848 596.305 Q246.376 599.383 240.056 599.383 Q237.88 599.383 235.612 599.013 Q233.367 598.642 230.959 597.902 L230.959 593.203 Q233.043 594.337 235.265 594.892 Q237.487 595.448 239.964 595.448 Q243.968 595.448 246.306 593.342 Q248.644 591.235 248.644 587.624 Q248.644 584.013 246.306 581.906 Q243.968 579.8 239.964 579.8 Q238.089 579.8 236.214 580.217 Q234.362 580.633 232.418 581.513 L232.418 564.152 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M116.214 410.678 L145.89 410.678 L145.89 414.613 L116.214 414.613 L116.214 410.678 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M165.983 396.025 Q162.372 396.025 160.543 399.59 Q158.737 403.131 158.737 410.261 Q158.737 417.367 160.543 420.932 Q162.372 424.474 165.983 424.474 Q169.617 424.474 171.422 420.932 Q173.251 417.367 173.251 410.261 Q173.251 403.131 171.422 399.59 Q169.617 396.025 165.983 396.025 M165.983 392.321 Q171.793 392.321 174.848 396.928 Q177.927 401.511 177.927 410.261 Q177.927 418.988 174.848 423.594 Q171.793 428.178 165.983 428.178 Q160.173 428.178 157.094 423.594 Q154.038 418.988 154.038 410.261 Q154.038 401.511 157.094 396.928 Q160.173 392.321 165.983 392.321 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M186.145 421.627 L191.029 421.627 L191.029 427.506 L186.145 427.506 L186.145 421.627 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M201.26 392.946 L219.617 392.946 L219.617 396.881 L205.543 396.881 L205.543 405.354 Q206.561 405.006 207.58 404.844 Q208.598 404.659 209.617 404.659 Q215.404 404.659 218.783 407.831 Q222.163 411.002 222.163 416.418 Q222.163 421.997 218.691 425.099 Q215.219 428.178 208.899 428.178 Q206.723 428.178 204.455 427.807 Q202.209 427.437 199.802 426.696 L199.802 421.997 Q201.885 423.131 204.107 423.687 Q206.33 424.242 208.807 424.242 Q212.811 424.242 215.149 422.136 Q217.487 420.03 217.487 416.418 Q217.487 412.807 215.149 410.701 Q212.811 408.594 208.807 408.594 Q206.932 408.594 205.057 409.011 Q203.205 409.428 201.26 410.307 L201.26 392.946 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M241.376 396.025 Q237.765 396.025 235.936 399.59 Q234.13 403.131 234.13 410.261 Q234.13 417.367 235.936 420.932 Q237.765 424.474 241.376 424.474 Q245.01 424.474 246.816 420.932 Q248.644 417.367 248.644 410.261 Q248.644 403.131 246.816 399.59 Q245.01 396.025 241.376 396.025 M241.376 392.321 Q247.186 392.321 250.242 396.928 Q253.32 401.511 253.32 410.261 Q253.32 418.988 250.242 423.594 Q247.186 428.178 241.376 428.178 Q235.566 428.178 232.487 423.594 Q229.431 418.988 229.431 410.261 Q229.431 401.511 232.487 396.928 Q235.566 392.321 241.376 392.321 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M117.21 239.472 L146.886 239.472 L146.886 243.407 L117.21 243.407 L117.21 239.472 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M166.978 224.819 Q163.367 224.819 161.538 228.384 Q159.733 231.926 159.733 239.055 Q159.733 246.162 161.538 249.727 Q163.367 253.268 166.978 253.268 Q170.612 253.268 172.418 249.727 Q174.247 246.162 174.247 239.055 Q174.247 231.926 172.418 228.384 Q170.612 224.819 166.978 224.819 M166.978 221.116 Q172.788 221.116 175.844 225.722 Q178.922 230.305 178.922 239.055 Q178.922 247.782 175.844 252.389 Q172.788 256.972 166.978 256.972 Q161.168 256.972 158.089 252.389 Q155.034 247.782 155.034 239.055 Q155.034 230.305 158.089 225.722 Q161.168 221.116 166.978 221.116 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M187.14 250.421 L192.024 250.421 L192.024 256.301 L187.14 256.301 L187.14 250.421 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M206.237 252.366 L222.556 252.366 L222.556 256.301 L200.612 256.301 L200.612 252.366 Q203.274 249.611 207.857 244.981 Q212.464 240.329 213.644 238.986 Q215.89 236.463 216.769 234.727 Q217.672 232.968 217.672 231.278 Q217.672 228.523 215.728 226.787 Q213.807 225.051 210.705 225.051 Q208.506 225.051 206.052 225.815 Q203.621 226.579 200.844 228.13 L200.844 223.407 Q203.668 222.273 206.121 221.694 Q208.575 221.116 210.612 221.116 Q215.982 221.116 219.177 223.801 Q222.371 226.486 222.371 230.977 Q222.371 233.106 221.561 235.028 Q220.774 236.926 218.668 239.518 Q218.089 240.19 214.987 243.407 Q211.885 246.602 206.237 252.366 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M232.418 221.741 L250.774 221.741 L250.774 225.676 L236.7 225.676 L236.7 234.148 Q237.718 233.801 238.737 233.639 Q239.755 233.454 240.774 233.454 Q246.561 233.454 249.941 236.625 Q253.32 239.796 253.32 245.213 Q253.32 250.791 249.848 253.893 Q246.376 256.972 240.056 256.972 Q237.88 256.972 235.612 256.602 Q233.367 256.231 230.959 255.491 L230.959 250.791 Q233.043 251.926 235.265 252.481 Q237.487 253.037 239.964 253.037 Q243.968 253.037 246.306 250.93 Q248.644 248.824 248.644 245.213 Q248.644 241.602 246.306 239.495 Q243.968 237.389 239.964 237.389 Q238.089 237.389 236.214 237.805 Q234.362 238.222 232.418 239.102 L232.418 221.741 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M165.983 53.6138 Q162.372 53.6138 160.543 57.1786 Q158.737 60.7202 158.737 67.8498 Q158.737 74.9563 160.543 78.5211 Q162.372 82.0627 165.983 82.0627 Q169.617 82.0627 171.422 78.5211 Q173.251 74.9563 173.251 67.8498 Q173.251 60.7202 171.422 57.1786 Q169.617 53.6138 165.983 53.6138 M165.983 49.9101 Q171.793 49.9101 174.848 54.5166 Q177.927 59.0999 177.927 67.8498 Q177.927 76.5766 174.848 81.1831 Q171.793 85.7664 165.983 85.7664 Q160.173 85.7664 157.094 81.1831 Q154.038 76.5766 154.038 67.8498 Q154.038 59.0999 157.094 54.5166 Q160.173 49.9101 165.983 49.9101 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M186.145 79.2155 L191.029 79.2155 L191.029 85.0951 L186.145 85.0951 L186.145 79.2155 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M211.214 53.6138 Q207.603 53.6138 205.774 57.1786 Q203.969 60.7202 203.969 67.8498 Q203.969 74.9563 205.774 78.5211 Q207.603 82.0627 211.214 82.0627 Q214.848 82.0627 216.654 78.5211 Q218.482 74.9563 218.482 67.8498 Q218.482 60.7202 216.654 57.1786 Q214.848 53.6138 211.214 53.6138 M211.214 49.9101 Q217.024 49.9101 220.08 54.5166 Q223.158 59.0999 223.158 67.8498 Q223.158 76.5766 220.08 81.1831 Q217.024 85.7664 211.214 85.7664 Q205.404 85.7664 202.325 81.1831 Q199.27 76.5766 199.27 67.8498 Q199.27 59.0999 202.325 54.5166 Q205.404 49.9101 211.214 49.9101 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M241.376 53.6138 Q237.765 53.6138 235.936 57.1786 Q234.13 60.7202 234.13 67.8498 Q234.13 74.9563 235.936 78.5211 Q237.765 82.0627 241.376 82.0627 Q245.01 82.0627 246.816 78.5211 Q248.644 74.9563 248.644 67.8498 Q248.644 60.7202 246.816 57.1786 Q245.01 53.6138 241.376 53.6138 M241.376 49.9101 Q247.186 49.9101 250.242 54.5166 Q253.32 59.0999 253.32 67.8498 Q253.32 76.5766 250.242 81.1831 Q247.186 85.7664 241.376 85.7664 Q235.566 85.7664 232.487 81.1831 Q229.431 76.5766 229.431 67.8498 Q229.431 59.0999 232.487 54.5166 Q235.566 49.9101 241.376 49.9101 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip472)" d="M360.068 737.545 L344.068 753.545 L360.068 769.545 L376.068 753.545 L360.068 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip472)" d="M606.097 737.369 L590.097 753.369 L606.097 769.369 L622.097 753.369 L606.097 737.369 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip472)" d="M852.126 737.224 L836.126 753.224 L852.126 769.224 L868.126 753.224 L852.126 737.224 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip472)" d="M1098.15 737.101 L1082.15 753.101 L1098.15 769.101 L1114.15 753.101 L1098.15 737.101 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip472)" d="M1344.18 736.997 L1328.18 752.997 L1344.18 768.997 L1360.18 752.997 L1344.18 736.997 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip472)" d="M1590.21 736.908 L1574.21 752.908 L1590.21 768.908 L1606.21 752.908 L1590.21 736.908 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip472)" d="M1836.24 736.829 L1820.24 752.829 L1836.24 768.829 L1852.24 752.829 L1836.24 736.829 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip472)" d="M2082.27 736.757 L2066.27 752.757 L2082.27 768.757 L2098.27 752.757 L2082.27 736.757 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip472)" d="M2328.3 736.688 L2312.3 752.688 L2328.3 768.688 L2344.3 752.688 L2328.3 736.688 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip472)" d="M2574.33 51.816 L2558.33 67.816 L2574.33 83.816 L2590.33 67.816 L2574.33 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip472)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,753.545 606.097,753.545 606.097,753.369 852.126,753.369 852.126,753.224 1098.15,753.224 1098.15,753.101 1344.18,753.101 1344.18,752.997 1590.21,752.997 1590.21,752.908 1836.24,752.908 1836.24,752.829 2082.27,752.829 2082.27,752.757 2328.3,752.757 2328.3,752.688 2574.33,752.688 2574.33,67.816 "></polyline>
<path clip-path="url(#clip470)" d="M371.877 175.153 L628.302 175.153 L628.302 71.4732 L371.877 71.4732  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="371.877,175.153 628.302,175.153 628.302,71.4732 371.877,71.4732 371.877,175.153 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="397.956,123.313 554.431,123.313 "></polyline>
<path clip-path="url(#clip470)" d="M580.51 130.362 L580.51 114.667 L584.769 114.667 L584.769 130.2 Q584.769 133.88 586.204 135.732 Q587.639 137.561 590.51 137.561 Q593.959 137.561 595.95 135.362 Q597.963 133.163 597.963 129.366 L597.963 114.667 L602.223 114.667 L602.223 140.593 L597.963 140.593 L597.963 136.612 Q596.413 138.973 594.352 140.13 Q592.315 141.264 589.607 141.264 Q585.139 141.264 582.825 138.487 Q580.51 135.709 580.51 130.362 M591.227 114.042 L591.227 114.042 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M293.64 1734.12 L2640.76 1734.12 L2640.76 1007.24 L293.64 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip473">
    <rect x="293" y="1007" width="2348" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip473)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="360.068,1734.12 360.068,1007.24 "></polyline>
<polyline clip-path="url(#clip473)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="913.633,1734.12 913.633,1007.24 "></polyline>
<polyline clip-path="url(#clip473)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1467.2,1734.12 1467.2,1007.24 "></polyline>
<polyline clip-path="url(#clip473)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2020.76,1734.12 2020.76,1007.24 "></polyline>
<polyline clip-path="url(#clip473)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2574.33,1734.12 2574.33,1007.24 "></polyline>
<polyline clip-path="url(#clip473)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1588.53 2640.76,1588.53 "></polyline>
<polyline clip-path="url(#clip473)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1440.74 2640.76,1440.74 "></polyline>
<polyline clip-path="url(#clip473)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1292.95 2640.76,1292.95 "></polyline>
<polyline clip-path="url(#clip473)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1145.15 2640.76,1145.15 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1734.12 360.068,1715.22 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="913.633,1734.12 913.633,1715.22 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1467.2,1734.12 1467.2,1715.22 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2020.76,1734.12 2020.76,1715.22 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2574.33,1734.12 2574.33,1715.22 "></polyline>
<path clip-path="url(#clip470)" d="M337.452 1767.34 Q333.841 1767.34 332.013 1770.9 Q330.207 1774.45 330.207 1781.58 Q330.207 1788.68 332.013 1792.25 Q333.841 1795.79 337.452 1795.79 Q341.087 1795.79 342.892 1792.25 Q344.721 1788.68 344.721 1781.58 Q344.721 1774.45 342.892 1770.9 Q341.087 1767.34 337.452 1767.34 M337.452 1763.64 Q343.263 1763.64 346.318 1768.24 Q349.397 1772.83 349.397 1781.58 Q349.397 1790.3 346.318 1794.91 Q343.263 1799.49 337.452 1799.49 Q331.642 1799.49 328.564 1794.91 Q325.508 1790.3 325.508 1781.58 Q325.508 1772.83 328.564 1768.24 Q331.642 1763.64 337.452 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M357.614 1792.94 L362.499 1792.94 L362.499 1798.82 L357.614 1798.82 L357.614 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M382.684 1767.34 Q379.073 1767.34 377.244 1770.9 Q375.438 1774.45 375.438 1781.58 Q375.438 1788.68 377.244 1792.25 Q379.073 1795.79 382.684 1795.79 Q386.318 1795.79 388.123 1792.25 Q389.952 1788.68 389.952 1781.58 Q389.952 1774.45 388.123 1770.9 Q386.318 1767.34 382.684 1767.34 M382.684 1763.64 Q388.494 1763.64 391.549 1768.24 Q394.628 1772.83 394.628 1781.58 Q394.628 1790.3 391.549 1794.91 Q388.494 1799.49 382.684 1799.49 Q376.873 1799.49 373.795 1794.91 Q370.739 1790.3 370.739 1781.58 Q370.739 1772.83 373.795 1768.24 Q376.873 1763.64 382.684 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M885.369 1794.89 L901.689 1794.89 L901.689 1798.82 L879.744 1798.82 L879.744 1794.89 Q882.406 1792.13 886.99 1787.5 Q891.596 1782.85 892.777 1781.51 Q895.022 1778.98 895.902 1777.25 Q896.804 1775.49 896.804 1773.8 Q896.804 1771.04 894.86 1769.31 Q892.939 1767.57 889.837 1767.57 Q887.638 1767.57 885.184 1768.34 Q882.754 1769.1 879.976 1770.65 L879.976 1765.93 Q882.8 1764.79 885.254 1764.21 Q887.707 1763.64 889.744 1763.64 Q895.115 1763.64 898.309 1766.32 Q901.503 1769.01 901.503 1773.5 Q901.503 1775.63 900.693 1777.55 Q899.906 1779.45 897.8 1782.04 Q897.221 1782.71 894.119 1785.93 Q891.017 1789.12 885.369 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M911.503 1792.94 L916.388 1792.94 L916.388 1798.82 L911.503 1798.82 L911.503 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M926.619 1764.26 L944.975 1764.26 L944.975 1768.2 L930.901 1768.2 L930.901 1776.67 Q931.92 1776.32 932.938 1776.16 Q933.957 1775.97 934.975 1775.97 Q940.763 1775.97 944.142 1779.15 Q947.522 1782.32 947.522 1787.73 Q947.522 1793.31 944.05 1796.41 Q940.577 1799.49 934.258 1799.49 Q932.082 1799.49 929.813 1799.12 Q927.568 1798.75 925.161 1798.01 L925.161 1793.31 Q927.244 1794.45 929.466 1795 Q931.688 1795.56 934.165 1795.56 Q938.17 1795.56 940.508 1793.45 Q942.846 1791.34 942.846 1787.73 Q942.846 1784.12 940.508 1782.02 Q938.17 1779.91 934.165 1779.91 Q932.29 1779.91 930.415 1780.33 Q928.563 1780.74 926.619 1781.62 L926.619 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M1434.36 1764.26 L1452.72 1764.26 L1452.72 1768.2 L1438.64 1768.2 L1438.64 1776.67 Q1439.66 1776.32 1440.68 1776.16 Q1441.7 1775.97 1442.72 1775.97 Q1448.51 1775.97 1451.89 1779.15 Q1455.27 1782.32 1455.27 1787.73 Q1455.27 1793.31 1451.79 1796.41 Q1448.32 1799.49 1442 1799.49 Q1439.83 1799.49 1437.56 1799.12 Q1435.31 1798.75 1432.9 1798.01 L1432.9 1793.31 Q1434.99 1794.45 1437.21 1795 Q1439.43 1795.56 1441.91 1795.56 Q1445.91 1795.56 1448.25 1793.45 Q1450.59 1791.34 1450.59 1787.73 Q1450.59 1784.12 1448.25 1782.02 Q1445.91 1779.91 1441.91 1779.91 Q1440.03 1779.91 1438.16 1780.33 Q1436.31 1780.74 1434.36 1781.62 L1434.36 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M1464.48 1792.94 L1469.36 1792.94 L1469.36 1798.82 L1464.48 1798.82 L1464.48 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M1489.55 1767.34 Q1485.94 1767.34 1484.11 1770.9 Q1482.3 1774.45 1482.3 1781.58 Q1482.3 1788.68 1484.11 1792.25 Q1485.94 1795.79 1489.55 1795.79 Q1493.18 1795.79 1494.99 1792.25 Q1496.82 1788.68 1496.82 1781.58 Q1496.82 1774.45 1494.99 1770.9 Q1493.18 1767.34 1489.55 1767.34 M1489.55 1763.64 Q1495.36 1763.64 1498.41 1768.24 Q1501.49 1772.83 1501.49 1781.58 Q1501.49 1790.3 1498.41 1794.91 Q1495.36 1799.49 1489.55 1799.49 Q1483.74 1799.49 1480.66 1794.91 Q1477.6 1790.3 1477.6 1781.58 Q1477.6 1772.83 1480.66 1768.24 Q1483.74 1763.64 1489.55 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M1987.08 1764.26 L2009.3 1764.26 L2009.3 1766.25 L1996.76 1798.82 L1991.87 1798.82 L2003.68 1768.2 L1987.08 1768.2 L1987.08 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M2018.43 1792.94 L2023.31 1792.94 L2023.31 1798.82 L2018.43 1798.82 L2018.43 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M2033.54 1764.26 L2051.9 1764.26 L2051.9 1768.2 L2037.82 1768.2 L2037.82 1776.67 Q2038.84 1776.32 2039.86 1776.16 Q2040.88 1775.97 2041.9 1775.97 Q2047.68 1775.97 2051.06 1779.15 Q2054.44 1782.32 2054.44 1787.73 Q2054.44 1793.31 2050.97 1796.41 Q2047.5 1799.49 2041.18 1799.49 Q2039 1799.49 2036.74 1799.12 Q2034.49 1798.75 2032.08 1798.01 L2032.08 1793.31 Q2034.17 1794.45 2036.39 1795 Q2038.61 1795.56 2041.09 1795.56 Q2045.09 1795.56 2047.43 1793.45 Q2049.77 1791.34 2049.77 1787.73 Q2049.77 1784.12 2047.43 1782.02 Q2045.09 1779.91 2041.09 1779.91 Q2039.21 1779.91 2037.34 1780.33 Q2035.49 1780.74 2033.54 1781.62 L2033.54 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M2526.4 1794.89 L2534.04 1794.89 L2534.04 1768.52 L2525.73 1770.19 L2525.73 1765.93 L2533.99 1764.26 L2538.67 1764.26 L2538.67 1794.89 L2546.31 1794.89 L2546.31 1798.82 L2526.4 1798.82 L2526.4 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M2565.75 1767.34 Q2562.14 1767.34 2560.31 1770.9 Q2558.51 1774.45 2558.51 1781.58 Q2558.51 1788.68 2560.31 1792.25 Q2562.14 1795.79 2565.75 1795.79 Q2569.39 1795.79 2571.19 1792.25 Q2573.02 1788.68 2573.02 1781.58 Q2573.02 1774.45 2571.19 1770.9 Q2569.39 1767.34 2565.75 1767.34 M2565.75 1763.64 Q2571.56 1763.64 2574.62 1768.24 Q2577.7 1772.83 2577.7 1781.58 Q2577.7 1790.3 2574.62 1794.91 Q2571.56 1799.49 2565.75 1799.49 Q2559.94 1799.49 2556.86 1794.91 Q2553.81 1790.3 2553.81 1781.58 Q2553.81 1772.83 2556.86 1768.24 Q2559.94 1763.64 2565.75 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M2585.91 1792.94 L2590.8 1792.94 L2590.8 1798.82 L2585.91 1798.82 L2585.91 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M2610.98 1767.34 Q2607.37 1767.34 2605.54 1770.9 Q2603.74 1774.45 2603.74 1781.58 Q2603.74 1788.68 2605.54 1792.25 Q2607.37 1795.79 2610.98 1795.79 Q2614.62 1795.79 2616.42 1792.25 Q2618.25 1788.68 2618.25 1781.58 Q2618.25 1774.45 2616.42 1770.9 Q2614.62 1767.34 2610.98 1767.34 M2610.98 1763.64 Q2616.79 1763.64 2619.85 1768.24 Q2622.93 1772.83 2622.93 1781.58 Q2622.93 1790.3 2619.85 1794.91 Q2616.79 1799.49 2610.98 1799.49 Q2605.17 1799.49 2602.09 1794.91 Q2599.04 1790.3 2599.04 1781.58 Q2599.04 1772.83 2602.09 1768.24 Q2605.17 1763.64 2610.98 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M1451.38 1833.78 L1457.27 1833.78 L1457.27 1863.03 L1474.74 1847.65 L1482.22 1847.65 L1463.31 1864.33 L1483.02 1883.3 L1475.38 1883.3 L1457.27 1865.89 L1457.27 1883.3 L1451.38 1883.3 L1451.38 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1734.12 293.64,1007.24 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1588.53 312.538,1588.53 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1440.74 312.538,1440.74 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1292.95 312.538,1292.95 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1145.15 312.538,1145.15 "></polyline>
<path clip-path="url(#clip470)" d="M237.001 1601.88 L253.32 1601.88 L253.32 1605.81 L231.376 1605.81 L231.376 1601.88 Q234.038 1599.12 238.621 1594.49 Q243.228 1589.84 244.408 1588.5 Q246.654 1585.98 247.533 1584.24 Q248.436 1582.48 248.436 1580.79 Q248.436 1578.04 246.492 1576.3 Q244.57 1574.56 241.468 1574.56 Q239.269 1574.56 236.816 1575.33 Q234.385 1576.09 231.607 1577.64 L231.607 1572.92 Q234.431 1571.79 236.885 1571.21 Q239.339 1570.63 241.376 1570.63 Q246.746 1570.63 249.941 1573.31 Q253.135 1576 253.135 1580.49 Q253.135 1582.62 252.325 1584.54 Q251.538 1586.44 249.431 1589.03 Q248.853 1589.7 245.751 1592.92 Q242.649 1596.11 237.001 1601.88 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M243.737 1427.53 L231.931 1445.98 L243.737 1445.98 L243.737 1427.53 M242.51 1423.46 L248.39 1423.46 L248.39 1445.98 L253.32 1445.98 L253.32 1449.87 L248.39 1449.87 L248.39 1458.02 L243.737 1458.02 L243.737 1449.87 L228.135 1449.87 L228.135 1445.36 L242.51 1423.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M241.792 1291.08 Q238.644 1291.08 236.793 1293.24 Q234.964 1295.39 234.964 1299.14 Q234.964 1302.87 236.793 1305.04 Q238.644 1307.19 241.792 1307.19 Q244.941 1307.19 246.769 1305.04 Q248.621 1302.87 248.621 1299.14 Q248.621 1295.39 246.769 1293.24 Q244.941 1291.08 241.792 1291.08 M251.075 1276.43 L251.075 1280.69 Q249.316 1279.86 247.51 1279.42 Q245.728 1278.98 243.968 1278.98 Q239.339 1278.98 236.885 1282.1 Q234.455 1285.23 234.107 1291.55 Q235.473 1289.53 237.533 1288.47 Q239.593 1287.38 242.07 1287.38 Q247.279 1287.38 250.288 1290.55 Q253.32 1293.7 253.32 1299.14 Q253.32 1304.46 250.172 1307.68 Q247.024 1310.9 241.792 1310.9 Q235.797 1310.9 232.626 1306.31 Q229.455 1301.71 229.455 1292.98 Q229.455 1284.79 233.343 1279.93 Q237.232 1275.04 243.783 1275.04 Q245.542 1275.04 247.325 1275.39 Q249.13 1275.74 251.075 1276.43 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M241.468 1146.02 Q238.135 1146.02 236.214 1147.8 Q234.316 1149.59 234.316 1152.71 Q234.316 1155.84 236.214 1157.62 Q238.135 1159.4 241.468 1159.4 Q244.802 1159.4 246.723 1157.62 Q248.644 1155.81 248.644 1152.71 Q248.644 1149.59 246.723 1147.8 Q244.825 1146.02 241.468 1146.02 M236.793 1144.03 Q233.783 1143.29 232.093 1141.23 Q230.427 1139.17 230.427 1136.21 Q230.427 1132.06 233.367 1129.66 Q236.33 1127.25 241.468 1127.25 Q246.63 1127.25 249.57 1129.66 Q252.51 1132.06 252.51 1136.21 Q252.51 1139.17 250.82 1141.23 Q249.154 1143.29 246.167 1144.03 Q249.547 1144.82 251.422 1147.11 Q253.32 1149.4 253.32 1152.71 Q253.32 1157.73 250.242 1160.42 Q247.186 1163.1 241.468 1163.1 Q235.751 1163.1 232.672 1160.42 Q229.617 1157.73 229.617 1152.71 Q229.617 1149.4 231.515 1147.11 Q233.413 1144.82 236.793 1144.03 M235.08 1136.65 Q235.08 1139.33 236.746 1140.84 Q238.436 1142.34 241.468 1142.34 Q244.478 1142.34 246.167 1140.84 Q247.88 1139.33 247.88 1136.65 Q247.88 1133.96 246.167 1132.46 Q244.478 1130.95 241.468 1130.95 Q238.436 1130.95 236.746 1132.46 Q235.08 1133.96 235.08 1136.65 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M137.911 1354.07 L155.258 1366.96 L173.559 1353.4 L173.559 1360.3 L159.555 1370.68 L173.559 1381.06 L173.559 1387.96 L154.908 1374.12 L137.911 1386.79 L137.911 1379.88 L150.611 1370.43 L137.911 1360.97 L137.911 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip473)" d="M360.068 1646.43 L344.068 1662.43 L360.068 1678.43 L376.068 1662.43 L360.068 1646.43 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M581.494 1442.73 L565.494 1458.73 L581.494 1474.73 L597.494 1458.73 L581.494 1442.73 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M802.92 1453.08 L786.92 1469.08 L802.92 1485.08 L818.92 1469.08 L802.92 1453.08 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M1024.35 1425.4 L1008.35 1441.4 L1024.35 1457.4 L1040.35 1441.4 L1024.35 1425.4 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M1245.77 1397.54 L1229.77 1413.54 L1245.77 1429.54 L1261.77 1413.54 L1245.77 1397.54 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M1467.2 1362.24 L1451.2 1378.24 L1467.2 1394.24 L1483.2 1378.24 L1467.2 1362.24 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M1688.62 1318.88 L1672.62 1334.88 L1688.62 1350.88 L1704.62 1334.88 L1688.62 1318.88 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M1910.05 1265.43 L1894.05 1281.43 L1910.05 1297.43 L1926.05 1281.43 L1910.05 1265.43 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M2131.48 1199.57 L2115.48 1215.57 L2131.48 1231.57 L2147.48 1215.57 L2131.48 1199.57 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M2352.9 1118.42 L2336.9 1134.42 L2352.9 1150.42 L2368.9 1134.42 L2352.9 1118.42 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M2574.33 1011.82 L2558.33 1027.82 L2574.33 1043.82 L2590.33 1027.82 L2574.33 1011.82 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip473)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1662.43 581.494,1662.43 581.494,1458.73 802.92,1458.73 802.92,1469.08 1024.35,1469.08 1024.35,1441.4 1245.77,1441.4 1245.77,1413.54 1467.2,1413.54 1467.2,1378.24 1688.62,1378.24 1688.62,1334.88 1910.05,1334.88 1910.05,1281.43 2131.48,1281.43 2131.48,1215.57 2352.9,1215.57 2352.9,1134.42 2574.33,1134.42 2574.33,1027.82 "></polyline>
<path clip-path="url(#clip473)" d="M360.068 1498.64 L344.068 1514.64 L360.068 1530.64 L376.068 1514.64 L360.068 1498.64 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M581.494 1697.55 L565.494 1713.55 L581.494 1729.55 L597.494 1713.55 L581.494 1697.55 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M802.92 1659.73 L786.92 1675.73 L802.92 1691.73 L818.92 1675.73 L802.92 1659.73 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M1024.35 1656.9 L1008.35 1672.9 L1024.35 1688.9 L1040.35 1672.9 L1024.35 1656.9 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M1245.77 1646.63 L1229.77 1662.63 L1245.77 1678.63 L1261.77 1662.63 L1245.77 1646.63 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M1467.2 1635.03 L1451.2 1651.03 L1467.2 1667.03 L1483.2 1651.03 L1467.2 1635.03 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M1688.62 1620.58 L1672.62 1636.58 L1688.62 1652.58 L1704.62 1636.58 L1688.62 1620.58 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M1910.05 1602.79 L1894.05 1618.79 L1910.05 1634.79 L1926.05 1618.79 L1910.05 1602.79 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M2131.48 1580.88 L2115.48 1596.88 L2131.48 1612.88 L2147.48 1596.88 L2131.48 1580.88 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M2352.9 1553.87 L2336.9 1569.87 L2352.9 1585.87 L2368.9 1569.87 L2352.9 1553.87 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip473)" d="M2574.33 1479.35 L2558.33 1495.35 L2574.33 1511.35 L2590.33 1495.35 L2574.33 1479.35 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip473)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1514.64 581.494,1514.64 581.494,1713.55 802.92,1713.55 802.92,1675.73 1024.35,1675.73 1024.35,1672.9 1245.77,1672.9 1245.77,1662.63 1467.2,1662.63 1467.2,1651.03 1688.62,1651.03 1688.62,1636.58 1910.05,1636.58 1910.05,1618.79 2131.48,1618.79 2131.48,1596.88 2352.9,1596.88 2352.9,1569.87 2574.33,1569.87 2574.33,1495.35 "></polyline>
<path clip-path="url(#clip470)" d="M371.877 1186.99 L649.691 1186.99 L649.691 1031.47 L371.877 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip470)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="371.877,1186.99 649.691,1186.99 649.691,1031.47 371.877,1031.47 371.877,1186.99 "></polyline>
<polyline clip-path="url(#clip470)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="397.956,1083.31 554.431,1083.31 "></polyline>
<path clip-path="url(#clip470)" d="M605.163 1074.67 L595.788 1087.28 L605.649 1100.59 L600.626 1100.59 L593.079 1090.41 L585.533 1100.59 L580.51 1100.59 L590.579 1087.03 L581.366 1074.67 L586.389 1074.67 L593.264 1083.9 L600.139 1074.67 L605.163 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M610.811 1098.05 L615.533 1098.05 L615.533 1083.9 L610.371 1084.85 L610.371 1082.17 L615.695 1081.26 L618.866 1081.26 L618.866 1098.05 L623.612 1098.05 L623.612 1100.59 L610.811 1100.59 L610.811 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip470)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="397.956,1135.15 554.431,1135.15 "></polyline>
<path clip-path="url(#clip470)" d="M605.163 1126.51 L595.788 1139.12 L605.649 1152.43 L600.626 1152.43 L593.079 1142.25 L585.533 1152.43 L580.51 1152.43 L590.579 1138.87 L581.366 1126.51 L586.389 1126.51 L593.264 1135.74 L600.139 1126.51 L605.163 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip470)" d="M613.403 1149.79 L623.218 1149.79 L623.218 1152.43 L609.375 1152.43 L609.375 1149.89 Q610.163 1149.17 611.621 1147.87 Q619.584 1140.81 619.584 1138.64 Q619.584 1137.11 618.38 1136.18 Q617.176 1135.23 615.209 1135.23 Q614.005 1135.23 612.593 1135.65 Q611.181 1136.04 609.514 1136.85 L609.514 1134.01 Q611.297 1133.36 612.825 1133.04 Q614.375 1132.71 615.695 1132.71 Q619.051 1132.71 621.065 1134.24 Q623.079 1135.77 623.079 1138.27 Q623.079 1141.48 615.417 1148.06 Q614.121 1149.17 613.403 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
</section>
</section>
<section id="sequential-dense-formulation" class="level2">
<h2 class="anchored" data-anchor-id="sequential-dense-formulation">Sequential (dense) formulation</h2>
<p>We can express <span class="math inline">\bar{\bm x}</span> as a function of <span class="math inline">\bar{\bm u}</span> and <span class="math inline">\mathbf x_0</span>. This can be done in a straightforward way using (<a href="#eq-linear_system_linear_constraints_matrix_format" class="quarto-xref">Eq.&nbsp;1</a>), namely, <span class="math display">
\bar{\bm x} = (\mathbf I-\overline{\mathbf A})^{-1}\overline{\mathbf B} \bm u + (\mathbf I-\overline{\mathbf A})^{-1} \overline{\mathbf A}_0 \mathbf x_0.
</span></p>
<p>However, instead of solving the sets of equations, we can do this substitution in a more insightful way. Write down the state equation for several discrete times <span class="math display">
\begin{aligned}
\bm x_1 &amp;= \mathbf A\mathbf x_0 + \mathbf B\bm u_0\\
\bm x_2 &amp;= \mathbf A\mathbf x_0 + \mathbf B\bm u_0\\
     &amp;= \mathbf A(\mathbf A\mathbf x_0 + \mathbf B\bm u_0)+ \mathbf B\bm u_0\\
     &amp;= \mathbf A^2\mathbf x_0 + \mathbf A\mathbf B\bm u_0 + \mathbf B\bm u_0\\
     &amp;\vdots\\
\bm x_k &amp;= \mathbf A^k\mathbf x_0 + \mathbf A^{k-1}\mathbf B\bm u_0 +\mathbf A^{k-2}\mathbf B\bm u_1 +\ldots \mathbf B\bm u_{k-1}.
\end{aligned}
</span></p>
<p>Rewriting into matrix-vector form (and extending the time <span class="math inline">k</span> up to the final time <span class="math inline">N</span>) <span class="math display">
\begin{bmatrix}
\bm x_1\\\bm x_2\\\vdots\\\bm x_N
\end{bmatrix}
=
\underbrace{
\begin{bmatrix}
  \mathbf B &amp; &amp; &amp; \\
  \mathbf A\mathbf B &amp; \mathbf B &amp; &amp; \\
  \vdots &amp; &amp; \ddots &amp;\\
  \mathbf A^{N-1}\mathbf B &amp; \mathbf A^{N-2}\mathbf B &amp; &amp; \mathbf B
\end{bmatrix}}_{\widehat{\mathbf C}}
  \begin{bmatrix}
\bm u_0\\\bm u_1\\\vdots\\\bm u_{N-1}
\end{bmatrix}
+
\underbrace{
  \begin{bmatrix}
\mathbf A\\\mathbf A^2\\\vdots\\\mathbf A^N
\end{bmatrix}}_{\widehat{\mathbf A}}\mathbf x_0.
</span></p>
<p>For convenience, let’s rewrite the compact relation between <span class="math inline">\bar{\bm x}</span> and <span class="math inline">\bar{\bm u}</span> and <span class="math inline">\mathbf x_0</span> <span id="eq-x_as_function_of_u_and_x0"><span class="math display">
\bar{\bm x} = \widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0.
\tag{2}</span></span></p>
<p>We can now substitute this into the original cost, which then becomes independent of <span class="math inline">\bar{\bm x}</span>, which we reflect formally by using a new name <span class="math inline">\tilde J</span> <span class="math display">
\begin{aligned}
\tilde J(\bar{\bm u};\mathbf x_0) &amp;= \frac{1}{2}(\widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0)^\top\overline{\mathbf Q} (\widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0) + \frac{1}{2}\bar{\bm u}^\top\overline{\mathbf R} \bar{\bm u} + \frac{1}{2}\mathbf x_0^\top\mathbf Q\mathbf x_0\\
&amp;= \frac{1}{2}\bar{\bm u}^\top\widehat{\mathbf C}^\top \overline{\mathbf Q} \widehat{\mathbf C} \bar{\bm u} + \mathbf x_0^\top\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf C} \bar{\bm u} + \frac{1}{2} \mathbf x_0^\top\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf A} \mathbf x_0 + \frac{1}{2}\bar{\bm u}^\top\overline{\mathbf R} \bar{\bm u} + \frac{1}{2}\mathbf x_0^\top\mathbf Q\mathbf x_0\\
&amp;= \frac{1}{2}\bar{\bm u}^\top(\widehat{\mathbf C}^\top \overline{\mathbf Q} \widehat{\mathbf C} + \overline{\mathbf R})\bar{\bm u} + \mathbf x_0^\top\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf C} \bar{\bm u} + \frac{1}{2} \mathbf x_0^\top(\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf A} + \mathbf Q)\mathbf x_0.
\end{aligned}
</span></p>
<p>The last term (the one independent of <span class="math inline">\bar{\bm u}</span>) does not have an impact on the optimal <span class="math inline">\bar{\bm u}</span> and therefore it can be discarded, but such minor modification perhaps does not justify a new name for the cost function. We write it as <span class="math display">
\tilde J(\bar{\bm u};\mathbf x_0) = \frac{1}{2}\bar{\bm u}^\top\underbrace{(\widehat{\mathbf C}^\top \overline{\mathbf Q} \widehat{\mathbf C} + \overline{\mathbf R})}_{\mathbf H}\bar{\bm u} +  \mathbf x_0^\top\underbrace{\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf C}}_{\mathbf F^\top} \bar{\bm u}.
</span></p>
<p>This cost is a function of <span class="math inline">\bar{\bm u}</span>, the initial state <span class="math inline">\mathbf x_0</span> is regarded as a fixed parameter. Its gradient is <span class="math display">
\nabla \tilde J = \mathbf H\bar{\bm u}+\mathbf F\mathbf x_0.
</span></p>
<p>Setting it to zero leads to the following linear system of equations <span class="math display">
\mathbf H\bar{\bm u}=-\mathbf F\mathbf x_0
</span> that needs to be solved for <span class="math inline">\bar{\bm u}</span>. Formally, we write the solution as <span class="math display">
\bar{\bm u} = -\mathbf H^{-1} \mathbf F \mathbf x_0.
</span></p>
<div id="exm-direct-sequential" class="theorem example">
<p><span class="theorem-title"><strong>Example 3 (Reformulating the unconstrained LQR problem as a system of linear equations – sequential approach)</strong></span> &nbsp;</p>
<div id="6" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">size</span>(A)[<span class="fl">1</span>]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">size</span>(B)[<span class="fl">2</span>]</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    Q̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>n),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        Q̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> Q</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    Q̄[<span class="fu">Block</span>(N,N)] <span class="op">=</span> S</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    R̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>m,N<span class="op">*</span>m),<span class="fu">repeat</span>([m],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        R̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> R</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    Ĉ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>m),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    Â <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,n),<span class="fu">repeat</span>([n],N),[n])</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="op">=</span> <span class="fl">1</span><span class="op">:</span>i</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>            Ĉ[<span class="fu">Block</span>(i,j)] <span class="op">=</span> A<span class="op">^</span>(i<span class="op">-</span>j)<span class="op">*</span>B</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>            Â[<span class="fu">Block</span>(i,<span class="fl">1</span>)] <span class="op">=</span> A<span class="op">^</span>i</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Ĉ + R̄</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> <span class="fu">Array</span>(H)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Â</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> <span class="fu">Array</span>(F)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    uopt <span class="op">=</span> <span class="fu">-H\</span>(F<span class="op">*</span>x₀)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> Ĉ<span class="op">*</span>uopt <span class="op">+</span> Â<span class="op">*</span>x₀</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> <span class="fu">reshape</span>(xopt,(<span class="fl">2</span>,<span class="op">:</span>))</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> xopt,uopt</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>xopt,uopt <span class="op">=</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,<span class="fu">hcat</span>(x₀,xopt)<span class="ch">',marker=:diamond,label=["x₁" "x₂"],linetype=:steppost)</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip530">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip530)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip531">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip530)" d="M217.599 774.117 L2640.76 774.117 L2640.76 47.2441 L217.599 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip532">
    <rect x="217" y="47" width="2424" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip532)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="286.179,774.117 286.179,47.2441 "></polyline>
<polyline clip-path="url(#clip532)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="794.178,774.117 794.178,47.2441 "></polyline>
<polyline clip-path="url(#clip532)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1302.18,774.117 1302.18,47.2441 "></polyline>
<polyline clip-path="url(#clip532)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1810.18,774.117 1810.18,47.2441 "></polyline>
<polyline clip-path="url(#clip532)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2318.18,774.117 2318.18,47.2441 "></polyline>
<polyline clip-path="url(#clip532)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,713.368 2640.76,713.368 "></polyline>
<polyline clip-path="url(#clip532)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,497.964 2640.76,497.964 "></polyline>
<polyline clip-path="url(#clip532)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,282.559 2640.76,282.559 "></polyline>
<polyline clip-path="url(#clip532)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,67.1551 2640.76,67.1551 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,774.117 286.179,755.219 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="794.178,774.117 794.178,755.219 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1302.18,774.117 1302.18,755.219 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1810.18,774.117 1810.18,755.219 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2318.18,774.117 2318.18,755.219 "></polyline>
<path clip-path="url(#clip530)" d="M286.179 807.34 Q282.568 807.34 280.739 810.904 Q278.934 814.446 278.934 821.576 Q278.934 828.682 280.739 832.247 Q282.568 835.789 286.179 835.789 Q289.813 835.789 291.619 832.247 Q293.447 828.682 293.447 821.576 Q293.447 814.446 291.619 810.904 Q289.813 807.34 286.179 807.34 M286.179 803.636 Q291.989 803.636 295.045 808.242 Q298.123 812.826 298.123 821.576 Q298.123 830.303 295.045 834.909 Q291.989 839.492 286.179 839.492 Q280.369 839.492 277.29 834.909 Q274.234 830.303 274.234 821.576 Q274.234 812.826 277.29 808.242 Q280.369 803.636 286.179 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M788.831 834.886 L805.15 834.886 L805.15 838.821 L783.206 838.821 L783.206 834.886 Q785.868 832.131 790.451 827.502 Q795.058 822.849 796.238 821.506 Q798.484 818.983 799.363 817.247 Q800.266 815.488 800.266 813.798 Q800.266 811.043 798.322 809.307 Q796.4 807.571 793.299 807.571 Q791.1 807.571 788.646 808.335 Q786.215 809.099 783.438 810.65 L783.438 805.928 Q786.262 804.793 788.715 804.215 Q791.169 803.636 793.206 803.636 Q798.576 803.636 801.771 806.321 Q804.965 809.006 804.965 813.497 Q804.965 815.627 804.155 817.548 Q803.368 819.446 801.262 822.039 Q800.683 822.71 797.581 825.928 Q794.479 829.122 788.831 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M1305.19 808.335 L1293.38 826.784 L1305.19 826.784 L1305.19 808.335 M1303.96 804.261 L1309.84 804.261 L1309.84 826.784 L1314.77 826.784 L1314.77 830.673 L1309.84 830.673 L1309.84 838.821 L1305.19 838.821 L1305.19 830.673 L1289.59 830.673 L1289.59 826.159 L1303.96 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M1810.58 819.678 Q1807.43 819.678 1805.58 821.83 Q1803.75 823.983 1803.75 827.733 Q1803.75 831.46 1805.58 833.636 Q1807.43 835.789 1810.58 835.789 Q1813.73 835.789 1815.56 833.636 Q1817.41 831.46 1817.41 827.733 Q1817.41 823.983 1815.56 821.83 Q1813.73 819.678 1810.58 819.678 M1819.86 805.025 L1819.86 809.284 Q1818.11 808.451 1816.3 808.011 Q1814.52 807.571 1812.76 807.571 Q1808.13 807.571 1805.67 810.696 Q1803.24 813.821 1802.9 820.141 Q1804.26 818.127 1806.32 817.062 Q1808.38 815.974 1810.86 815.974 Q1816.07 815.974 1819.08 819.145 Q1822.11 822.293 1822.11 827.733 Q1822.11 833.057 1818.96 836.275 Q1815.81 839.492 1810.58 839.492 Q1804.59 839.492 1801.42 834.909 Q1798.24 830.303 1798.24 821.576 Q1798.24 813.381 1802.13 808.52 Q1806.02 803.636 1812.57 803.636 Q1814.33 803.636 1816.11 803.983 Q1817.92 804.33 1819.86 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M2318.18 822.409 Q2314.84 822.409 2312.92 824.191 Q2311.02 825.974 2311.02 829.099 Q2311.02 832.224 2312.92 834.006 Q2314.84 835.789 2318.18 835.789 Q2321.51 835.789 2323.43 834.006 Q2325.35 832.201 2325.35 829.099 Q2325.35 825.974 2323.43 824.191 Q2321.53 822.409 2318.18 822.409 M2313.5 820.418 Q2310.49 819.678 2308.8 817.617 Q2307.13 815.557 2307.13 812.594 Q2307.13 808.451 2310.07 806.043 Q2313.04 803.636 2318.18 803.636 Q2323.34 803.636 2326.28 806.043 Q2329.22 808.451 2329.22 812.594 Q2329.22 815.557 2327.53 817.617 Q2325.86 819.678 2322.88 820.418 Q2326.25 821.205 2328.13 823.497 Q2330.03 825.789 2330.03 829.099 Q2330.03 834.122 2326.95 836.807 Q2323.89 839.492 2318.18 839.492 Q2312.46 839.492 2309.38 836.807 Q2306.32 834.122 2306.32 829.099 Q2306.32 825.789 2308.22 823.497 Q2310.12 821.205 2313.5 820.418 M2311.79 813.034 Q2311.79 815.719 2313.45 817.224 Q2315.14 818.729 2318.18 818.729 Q2321.19 818.729 2322.88 817.224 Q2324.59 815.719 2324.59 813.034 Q2324.59 810.349 2322.88 808.844 Q2321.19 807.34 2318.18 807.34 Q2315.14 807.34 2313.45 808.844 Q2311.79 810.349 2311.79 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M1413.36 873.776 L1419.25 873.776 L1419.25 903.026 L1436.72 887.653 L1444.2 887.653 L1425.29 904.331 L1445 923.301 L1437.36 923.301 L1419.25 905.891 L1419.25 923.301 L1413.36 923.301 L1413.36 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,774.117 217.599,47.2441 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,713.368 236.497,713.368 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,497.964 236.497,497.964 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,282.559 236.497,282.559 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,67.1551 236.497,67.1551 "></polyline>
<path clip-path="url(#clip530)" d="M116.214 713.82 L145.89 713.82 L145.89 717.755 L116.214 717.755 L116.214 713.82 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M170.149 712.014 Q173.506 712.732 175.381 715 Q177.279 717.269 177.279 720.602 Q177.279 725.718 173.76 728.519 Q170.242 731.32 163.76 731.32 Q161.585 731.32 159.27 730.88 Q156.978 730.463 154.524 729.607 L154.524 725.093 Q156.469 726.227 158.784 726.806 Q161.098 727.384 163.622 727.384 Q168.02 727.384 170.311 725.648 Q172.626 723.912 172.626 720.602 Q172.626 717.546 170.473 715.833 Q168.344 714.097 164.524 714.097 L160.497 714.097 L160.497 710.255 L164.71 710.255 Q168.159 710.255 169.987 708.889 Q171.816 707.5 171.816 704.908 Q171.816 702.246 169.918 700.834 Q168.043 699.398 164.524 699.398 Q162.603 699.398 160.404 699.815 Q158.205 700.232 155.566 701.111 L155.566 696.945 Q158.228 696.204 160.543 695.834 Q162.881 695.463 164.941 695.463 Q170.265 695.463 173.367 697.894 Q176.469 700.301 176.469 704.422 Q176.469 707.292 174.825 709.283 Q173.182 711.25 170.149 712.014 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M117.164 498.415 L146.839 498.415 L146.839 502.35 L117.164 502.35 L117.164 498.415 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M160.96 511.309 L177.279 511.309 L177.279 515.244 L155.335 515.244 L155.335 511.309 Q157.997 508.554 162.58 503.924 Q167.186 499.272 168.367 497.929 Q170.612 495.406 171.492 493.67 Q172.395 491.911 172.395 490.221 Q172.395 487.466 170.45 485.73 Q168.529 483.994 165.427 483.994 Q163.228 483.994 160.774 484.758 Q158.344 485.522 155.566 487.073 L155.566 482.35 Q158.39 481.216 160.844 480.638 Q163.298 480.059 165.335 480.059 Q170.705 480.059 173.899 482.744 Q177.094 485.429 177.094 489.92 Q177.094 492.05 176.284 493.971 Q175.497 495.869 173.39 498.462 Q172.811 499.133 169.71 502.35 Q166.608 505.545 160.96 511.309 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M116.793 283.011 L146.469 283.011 L146.469 286.946 L116.793 286.946 L116.793 283.011 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M157.372 295.904 L165.01 295.904 L165.01 269.539 L156.7 271.205 L156.7 266.946 L164.964 265.279 L169.64 265.279 L169.64 295.904 L177.279 295.904 L177.279 299.839 L157.372 299.839 L157.372 295.904 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M165.335 52.9538 Q161.723 52.9538 159.895 56.5186 Q158.089 60.0602 158.089 67.1898 Q158.089 74.2962 159.895 77.861 Q161.723 81.4027 165.335 81.4027 Q168.969 81.4027 170.774 77.861 Q172.603 74.2962 172.603 67.1898 Q172.603 60.0602 170.774 56.5186 Q168.969 52.9538 165.335 52.9538 M165.335 49.2501 Q171.145 49.2501 174.2 53.8565 Q177.279 58.4398 177.279 67.1898 Q177.279 75.9166 174.2 80.5231 Q171.145 85.1064 165.335 85.1064 Q159.524 85.1064 156.446 80.5231 Q153.39 75.9166 153.39 67.1898 Q153.39 58.4398 156.446 53.8565 Q159.524 49.2501 165.335 49.2501 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip532)" d="M286.179 737.545 L270.179 753.545 L286.179 769.545 L302.179 753.545 L286.179 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip532)" d="M540.179 385.915 L524.179 401.915 L540.179 417.915 L556.179 401.915 L540.179 385.915 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip532)" d="M794.178 207.303 L778.178 223.303 L794.178 239.303 L810.178 223.303 L794.178 207.303 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip532)" d="M1048.18 125.113 L1032.18 141.113 L1048.18 157.113 L1064.18 141.113 L1048.18 125.113 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip532)" d="M1302.18 85.9969 L1286.18 101.997 L1302.18 117.997 L1318.18 101.997 L1302.18 85.9969 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip532)" d="M1556.18 67.5944 L1540.18 83.5944 L1556.18 99.5944 L1572.18 83.5944 L1556.18 67.5944 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip532)" d="M1810.18 58.8965 L1794.18 74.8965 L1810.18 90.8965 L1826.18 74.8965 L1810.18 58.8965 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip532)" d="M2064.18 54.7799 L2048.18 70.7799 L2064.18 86.7799 L2080.18 70.7799 L2064.18 54.7799 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip532)" d="M2318.18 52.8049 L2302.18 68.8049 L2318.18 84.8049 L2334.18 68.8049 L2318.18 52.8049 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip532)" d="M2572.18 51.816 L2556.18 67.816 L2572.18 83.816 L2588.18 67.816 L2572.18 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip532)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,753.545 540.179,753.545 540.179,401.915 794.178,401.915 794.178,223.303 1048.18,223.303 1048.18,141.113 1302.18,141.113 1302.18,101.997 1556.18,101.997 1556.18,83.5944 1810.18,83.5944 1810.18,74.8965 2064.18,74.8965 2064.18,70.7799 2318.18,70.7799 2318.18,68.8049 2572.18,68.8049 2572.18,67.816 "></polyline>
<path clip-path="url(#clip530)" d="M2295.96 749.888 L2559.98 749.888 L2559.98 646.208 L2295.96 646.208  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2295.96,749.888 2559.98,749.888 2559.98,646.208 2295.96,646.208 2295.96,749.888 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2322.88,698.048 2484.42,698.048 "></polyline>
<path clip-path="url(#clip530)" d="M2511.35 705.096 L2511.35 689.402 L2515.61 689.402 L2515.61 704.934 Q2515.61 708.615 2517.04 710.467 Q2518.48 712.295 2521.35 712.295 Q2524.8 712.295 2526.79 710.096 Q2528.8 707.897 2528.8 704.101 L2528.8 689.402 L2533.06 689.402 L2533.06 715.328 L2528.8 715.328 L2528.8 711.346 Q2527.25 713.708 2525.19 714.865 Q2523.15 715.999 2520.44 715.999 Q2515.98 715.999 2513.66 713.221 Q2511.35 710.444 2511.35 705.096 M2522.06 688.777 L2522.06 688.777 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M217.599 1734.12 L2640.76 1734.12 L2640.76 1007.24 L217.599 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip533">
    <rect x="217" y="1007" width="2424" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip533)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="286.179,1734.12 286.179,1007.24 "></polyline>
<polyline clip-path="url(#clip533)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="857.678,1734.12 857.678,1007.24 "></polyline>
<polyline clip-path="url(#clip533)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1429.18,1734.12 1429.18,1007.24 "></polyline>
<polyline clip-path="url(#clip533)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2000.68,1734.12 2000.68,1007.24 "></polyline>
<polyline clip-path="url(#clip533)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2572.18,1734.12 2572.18,1007.24 "></polyline>
<polyline clip-path="url(#clip533)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,1705.54 2640.76,1705.54 "></polyline>
<polyline clip-path="url(#clip533)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,1479.63 2640.76,1479.63 "></polyline>
<polyline clip-path="url(#clip533)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,1253.72 2640.76,1253.72 "></polyline>
<polyline clip-path="url(#clip533)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,1734.12 286.179,1715.22 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="857.678,1734.12 857.678,1715.22 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1429.18,1734.12 1429.18,1715.22 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2000.68,1734.12 2000.68,1715.22 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2572.18,1734.12 2572.18,1715.22 "></polyline>
<path clip-path="url(#clip530)" d="M263.563 1767.34 Q259.952 1767.34 258.123 1770.9 Q256.318 1774.45 256.318 1781.58 Q256.318 1788.68 258.123 1792.25 Q259.952 1795.79 263.563 1795.79 Q267.197 1795.79 269.003 1792.25 Q270.832 1788.68 270.832 1781.58 Q270.832 1774.45 269.003 1770.9 Q267.197 1767.34 263.563 1767.34 M263.563 1763.64 Q269.373 1763.64 272.429 1768.24 Q275.508 1772.83 275.508 1781.58 Q275.508 1790.3 272.429 1794.91 Q269.373 1799.49 263.563 1799.49 Q257.753 1799.49 254.674 1794.91 Q251.619 1790.3 251.619 1781.58 Q251.619 1772.83 254.674 1768.24 Q257.753 1763.64 263.563 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M283.725 1792.94 L288.609 1792.94 L288.609 1798.82 L283.725 1798.82 L283.725 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M308.794 1767.34 Q305.183 1767.34 303.355 1770.9 Q301.549 1774.45 301.549 1781.58 Q301.549 1788.68 303.355 1792.25 Q305.183 1795.79 308.794 1795.79 Q312.429 1795.79 314.234 1792.25 Q316.063 1788.68 316.063 1781.58 Q316.063 1774.45 314.234 1770.9 Q312.429 1767.34 308.794 1767.34 M308.794 1763.64 Q314.605 1763.64 317.66 1768.24 Q320.739 1772.83 320.739 1781.58 Q320.739 1790.3 317.66 1794.91 Q314.605 1799.49 308.794 1799.49 Q302.984 1799.49 299.906 1794.91 Q296.85 1790.3 296.85 1781.58 Q296.85 1772.83 299.906 1768.24 Q302.984 1763.64 308.794 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M829.414 1794.89 L845.734 1794.89 L845.734 1798.82 L823.789 1798.82 L823.789 1794.89 Q826.451 1792.13 831.035 1787.5 Q835.641 1782.85 836.822 1781.51 Q839.067 1778.98 839.947 1777.25 Q840.85 1775.49 840.85 1773.8 Q840.85 1771.04 838.905 1769.31 Q836.984 1767.57 833.882 1767.57 Q831.683 1767.57 829.229 1768.34 Q826.799 1769.1 824.021 1770.65 L824.021 1765.93 Q826.845 1764.79 829.299 1764.21 Q831.752 1763.64 833.789 1763.64 Q839.16 1763.64 842.354 1766.32 Q845.549 1769.01 845.549 1773.5 Q845.549 1775.63 844.738 1777.55 Q843.951 1779.45 841.845 1782.04 Q841.266 1782.71 838.164 1785.93 Q835.063 1789.12 829.414 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M855.549 1792.94 L860.433 1792.94 L860.433 1798.82 L855.549 1798.82 L855.549 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M870.664 1764.26 L889.021 1764.26 L889.021 1768.2 L874.947 1768.2 L874.947 1776.67 Q875.965 1776.32 876.984 1776.16 Q878.002 1775.97 879.021 1775.97 Q884.808 1775.97 888.187 1779.15 Q891.567 1782.32 891.567 1787.73 Q891.567 1793.31 888.095 1796.41 Q884.622 1799.49 878.303 1799.49 Q876.127 1799.49 873.859 1799.12 Q871.613 1798.75 869.206 1798.01 L869.206 1793.31 Q871.289 1794.45 873.511 1795 Q875.734 1795.56 878.21 1795.56 Q882.215 1795.56 884.553 1793.45 Q886.891 1791.34 886.891 1787.73 Q886.891 1784.12 884.553 1782.02 Q882.215 1779.91 878.21 1779.91 Q876.335 1779.91 874.46 1780.33 Q872.609 1780.74 870.664 1781.62 L870.664 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M1396.34 1764.26 L1414.7 1764.26 L1414.7 1768.2 L1400.62 1768.2 L1400.62 1776.67 Q1401.64 1776.32 1402.66 1776.16 Q1403.68 1775.97 1404.7 1775.97 Q1410.49 1775.97 1413.87 1779.15 Q1417.24 1782.32 1417.24 1787.73 Q1417.24 1793.31 1413.77 1796.41 Q1410.3 1799.49 1403.98 1799.49 Q1401.8 1799.49 1399.54 1799.12 Q1397.29 1798.75 1394.88 1798.01 L1394.88 1793.31 Q1396.97 1794.45 1399.19 1795 Q1401.41 1795.56 1403.89 1795.56 Q1407.89 1795.56 1410.23 1793.45 Q1412.57 1791.34 1412.57 1787.73 Q1412.57 1784.12 1410.23 1782.02 Q1407.89 1779.91 1403.89 1779.91 Q1402.01 1779.91 1400.14 1780.33 Q1398.29 1780.74 1396.34 1781.62 L1396.34 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M1426.46 1792.94 L1431.34 1792.94 L1431.34 1798.82 L1426.46 1798.82 L1426.46 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M1451.53 1767.34 Q1447.92 1767.34 1446.09 1770.9 Q1444.28 1774.45 1444.28 1781.58 Q1444.28 1788.68 1446.09 1792.25 Q1447.92 1795.79 1451.53 1795.79 Q1455.16 1795.79 1456.97 1792.25 Q1458.8 1788.68 1458.8 1781.58 Q1458.8 1774.45 1456.97 1770.9 Q1455.16 1767.34 1451.53 1767.34 M1451.53 1763.64 Q1457.34 1763.64 1460.39 1768.24 Q1463.47 1772.83 1463.47 1781.58 Q1463.47 1790.3 1460.39 1794.91 Q1457.34 1799.49 1451.53 1799.49 Q1445.72 1799.49 1442.64 1794.91 Q1439.58 1790.3 1439.58 1781.58 Q1439.58 1772.83 1442.64 1768.24 Q1445.72 1763.64 1451.53 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M1967 1764.26 L1989.22 1764.26 L1989.22 1766.25 L1976.67 1798.82 L1971.79 1798.82 L1983.59 1768.2 L1967 1768.2 L1967 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M1998.34 1792.94 L2003.22 1792.94 L2003.22 1798.82 L1998.34 1798.82 L1998.34 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M2013.45 1764.26 L2031.81 1764.26 L2031.81 1768.2 L2017.74 1768.2 L2017.74 1776.67 Q2018.76 1776.32 2019.77 1776.16 Q2020.79 1775.97 2021.81 1775.97 Q2027.6 1775.97 2030.98 1779.15 Q2034.36 1782.32 2034.36 1787.73 Q2034.36 1793.31 2030.88 1796.41 Q2027.41 1799.49 2021.09 1799.49 Q2018.92 1799.49 2016.65 1799.12 Q2014.4 1798.75 2012 1798.01 L2012 1793.31 Q2014.08 1794.45 2016.3 1795 Q2018.52 1795.56 2021 1795.56 Q2025.01 1795.56 2027.34 1793.45 Q2029.68 1791.34 2029.68 1787.73 Q2029.68 1784.12 2027.34 1782.02 Q2025.01 1779.91 2021 1779.91 Q2019.13 1779.91 2017.25 1780.33 Q2015.4 1780.74 2013.45 1781.62 L2013.45 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M2524.25 1794.89 L2531.89 1794.89 L2531.89 1768.52 L2523.58 1770.19 L2523.58 1765.93 L2531.84 1764.26 L2536.52 1764.26 L2536.52 1794.89 L2544.16 1794.89 L2544.16 1798.82 L2524.25 1798.82 L2524.25 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M2563.6 1767.34 Q2559.99 1767.34 2558.16 1770.9 Q2556.35 1774.45 2556.35 1781.58 Q2556.35 1788.68 2558.16 1792.25 Q2559.99 1795.79 2563.6 1795.79 Q2567.23 1795.79 2569.04 1792.25 Q2570.87 1788.68 2570.87 1781.58 Q2570.87 1774.45 2569.04 1770.9 Q2567.23 1767.34 2563.6 1767.34 M2563.6 1763.64 Q2569.41 1763.64 2572.47 1768.24 Q2575.54 1772.83 2575.54 1781.58 Q2575.54 1790.3 2572.47 1794.91 Q2569.41 1799.49 2563.6 1799.49 Q2557.79 1799.49 2554.71 1794.91 Q2551.66 1790.3 2551.66 1781.58 Q2551.66 1772.83 2554.71 1768.24 Q2557.79 1763.64 2563.6 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M2583.76 1792.94 L2588.65 1792.94 L2588.65 1798.82 L2583.76 1798.82 L2583.76 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M2608.83 1767.34 Q2605.22 1767.34 2603.39 1770.9 Q2601.59 1774.45 2601.59 1781.58 Q2601.59 1788.68 2603.39 1792.25 Q2605.22 1795.79 2608.83 1795.79 Q2612.47 1795.79 2614.27 1792.25 Q2616.1 1788.68 2616.1 1781.58 Q2616.1 1774.45 2614.27 1770.9 Q2612.47 1767.34 2608.83 1767.34 M2608.83 1763.64 Q2614.64 1763.64 2617.7 1768.24 Q2620.78 1772.83 2620.78 1781.58 Q2620.78 1790.3 2617.7 1794.91 Q2614.64 1799.49 2608.83 1799.49 Q2603.02 1799.49 2599.94 1794.91 Q2596.89 1790.3 2596.89 1781.58 Q2596.89 1772.83 2599.94 1768.24 Q2603.02 1763.64 2608.83 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M1413.36 1833.78 L1419.25 1833.78 L1419.25 1863.03 L1436.72 1847.65 L1444.2 1847.65 L1425.29 1864.33 L1445 1883.3 L1437.36 1883.3 L1419.25 1865.89 L1419.25 1883.3 L1413.36 1883.3 L1413.36 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1734.12 217.599,1007.24 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1705.54 236.497,1705.54 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1479.63 236.497,1479.63 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1253.72 236.497,1253.72 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1027.82 236.497,1027.82 "></polyline>
<path clip-path="url(#clip530)" d="M165.335 1691.34 Q161.723 1691.34 159.895 1694.9 Q158.089 1698.44 158.089 1705.57 Q158.089 1712.68 159.895 1716.24 Q161.723 1719.79 165.335 1719.79 Q168.969 1719.79 170.774 1716.24 Q172.603 1712.68 172.603 1705.57 Q172.603 1698.44 170.774 1694.9 Q168.969 1691.34 165.335 1691.34 M165.335 1687.63 Q171.145 1687.63 174.2 1692.24 Q177.279 1696.82 177.279 1705.57 Q177.279 1714.3 174.2 1718.91 Q171.145 1723.49 165.335 1723.49 Q159.524 1723.49 156.446 1718.91 Q153.39 1714.3 153.39 1705.57 Q153.39 1696.82 156.446 1692.24 Q159.524 1687.63 165.335 1687.63 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M157.372 1492.98 L165.01 1492.98 L165.01 1466.61 L156.7 1468.28 L156.7 1464.02 L164.964 1462.35 L169.64 1462.35 L169.64 1492.98 L177.279 1492.98 L177.279 1496.91 L157.372 1496.91 L157.372 1492.98 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M160.96 1267.07 L177.279 1267.07 L177.279 1271 L155.335 1271 L155.335 1267.07 Q157.997 1264.31 162.58 1259.68 Q167.186 1255.03 168.367 1253.69 Q170.612 1251.17 171.492 1249.43 Q172.395 1247.67 172.395 1245.98 Q172.395 1243.23 170.45 1241.49 Q168.529 1239.75 165.427 1239.75 Q163.228 1239.75 160.774 1240.52 Q158.344 1241.28 155.566 1242.83 L155.566 1238.11 Q158.39 1236.98 160.844 1236.4 Q163.298 1235.82 165.335 1235.82 Q170.705 1235.82 173.899 1238.5 Q177.094 1241.19 177.094 1245.68 Q177.094 1247.81 176.284 1249.73 Q175.497 1251.63 173.39 1254.22 Q172.811 1254.89 169.71 1258.11 Q166.608 1261.3 160.96 1267.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M170.149 1026.46 Q173.506 1027.18 175.381 1029.45 Q177.279 1031.72 177.279 1035.05 Q177.279 1040.17 173.76 1042.97 Q170.242 1045.77 163.76 1045.77 Q161.585 1045.77 159.27 1045.33 Q156.978 1044.91 154.524 1044.05 L154.524 1039.54 Q156.469 1040.67 158.784 1041.25 Q161.098 1041.83 163.622 1041.83 Q168.02 1041.83 170.311 1040.1 Q172.626 1038.36 172.626 1035.05 Q172.626 1031.99 170.473 1030.28 Q168.344 1028.55 164.524 1028.55 L160.497 1028.55 L160.497 1024.7 L164.71 1024.7 Q168.159 1024.7 169.987 1023.34 Q171.816 1021.95 171.816 1019.36 Q171.816 1016.69 169.918 1015.28 Q168.043 1013.85 164.524 1013.85 Q162.603 1013.85 160.404 1014.26 Q158.205 1014.68 155.566 1015.56 L155.566 1011.39 Q158.228 1010.65 160.543 1010.28 Q162.881 1009.91 164.941 1009.91 Q170.265 1009.91 173.367 1012.34 Q176.469 1014.75 176.469 1018.87 Q176.469 1021.74 174.825 1023.73 Q173.182 1025.7 170.149 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M63.1662 1354.07 L80.5128 1366.96 L98.8142 1353.4 L98.8142 1360.3 L84.8096 1370.68 L98.8142 1381.06 L98.8142 1387.96 L80.1626 1374.12 L63.1662 1386.79 L63.1662 1379.88 L75.8658 1370.43 L63.1662 1360.97 L63.1662 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip533)" d="M286.179 1463.63 L270.179 1479.63 L286.179 1495.63 L302.179 1479.63 L286.179 1463.63 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M514.779 1697.55 L498.779 1713.55 L514.779 1729.55 L530.779 1713.55 L514.779 1697.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M743.378 1674.61 L727.378 1690.61 L743.378 1706.61 L759.378 1690.61 L743.378 1674.61 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M971.978 1685.55 L955.978 1701.55 L971.978 1717.55 L987.978 1701.55 L971.978 1685.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M1200.58 1687.16 L1184.58 1703.16 L1200.58 1719.16 L1216.58 1703.16 L1200.58 1687.16 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M1429.18 1688.49 L1413.18 1704.49 L1429.18 1720.49 L1445.18 1704.49 L1429.18 1688.49 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M1657.78 1689.02 L1641.78 1705.02 L1657.78 1721.02 L1673.78 1705.02 L1657.78 1689.02 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M1886.38 1689.28 L1870.38 1705.28 L1886.38 1721.28 L1902.38 1705.28 L1886.38 1689.28 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M2114.98 1689.38 L2098.98 1705.38 L2114.98 1721.38 L2130.98 1705.38 L2114.98 1689.38 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M2343.58 1689.38 L2327.58 1705.38 L2343.58 1721.38 L2359.58 1705.38 L2343.58 1689.38 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M2572.18 1689.29 L2556.18 1705.29 L2572.18 1721.29 L2588.18 1705.29 L2572.18 1689.29 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip533)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,1479.63 514.779,1479.63 514.779,1713.55 743.378,1713.55 743.378,1690.61 971.978,1690.61 971.978,1701.55 1200.58,1701.55 1200.58,1703.16 1429.18,1703.16 1429.18,1704.49 1657.78,1704.49 1657.78,1705.02 1886.38,1705.02 1886.38,1705.28 2114.98,1705.28 2114.98,1705.38 2343.58,1705.38 2343.58,1705.38 2572.18,1705.38 2572.18,1705.29 "></polyline>
<path clip-path="url(#clip533)" d="M286.179 1011.82 L270.179 1027.82 L286.179 1043.82 L302.179 1027.82 L286.179 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M514.779 1333.11 L498.779 1349.11 L514.779 1365.11 L530.779 1349.11 L514.779 1333.11 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M743.378 1527.37 L727.378 1543.37 L743.378 1559.37 L759.378 1543.37 L743.378 1527.37 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M971.978 1612.05 L955.978 1628.05 L971.978 1644.05 L987.978 1628.05 L971.978 1612.05 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M1200.58 1653.14 L1184.58 1669.14 L1200.58 1685.14 L1216.58 1669.14 L1200.58 1653.14 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M1429.18 1672.34 L1413.18 1688.34 L1429.18 1704.34 L1445.18 1688.34 L1429.18 1672.34 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M1657.78 1681.42 L1641.78 1697.42 L1657.78 1713.42 L1673.78 1697.42 L1657.78 1681.42 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M1886.38 1685.69 L1870.38 1701.69 L1886.38 1717.69 L1902.38 1701.69 L1886.38 1685.69 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M2114.98 1687.7 L2098.98 1703.7 L2114.98 1719.7 L2130.98 1703.7 L2114.98 1687.7 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M2343.58 1688.61 L2327.58 1704.61 L2343.58 1720.61 L2359.58 1704.61 L2343.58 1688.61 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip533)" d="M2572.18 1688.97 L2556.18 1704.97 L2572.18 1720.97 L2588.18 1704.97 L2572.18 1688.97 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip533)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,1027.82 514.779,1027.82 514.779,1349.11 743.378,1349.11 743.378,1543.37 971.978,1543.37 971.978,1628.05 1200.58,1628.05 1200.58,1669.14 1429.18,1669.14 1429.18,1688.34 1657.78,1688.34 1657.78,1697.42 1886.38,1697.42 1886.38,1701.69 2114.98,1701.69 2114.98,1703.7 2343.58,1703.7 2343.58,1704.61 2572.18,1704.61 2572.18,1704.97 "></polyline>
<path clip-path="url(#clip530)" d="M2274.57 1186.99 L2559.98 1186.99 L2559.98 1031.47 L2274.57 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip530)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2274.57,1186.99 2559.98,1186.99 2559.98,1031.47 2274.57,1031.47 2274.57,1186.99 "></polyline>
<polyline clip-path="url(#clip530)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2301.49,1083.31 2463.03,1083.31 "></polyline>
<path clip-path="url(#clip530)" d="M2514.61 1074.67 L2505.24 1087.28 L2515.1 1100.59 L2510.07 1100.59 L2502.53 1090.41 L2494.98 1100.59 L2489.96 1100.59 L2500.03 1087.03 L2490.81 1074.67 L2495.84 1074.67 L2502.71 1083.9 L2509.59 1074.67 L2514.61 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M2520.26 1098.05 L2524.98 1098.05 L2524.98 1083.9 L2519.82 1084.85 L2519.82 1082.17 L2525.14 1081.26 L2528.31 1081.26 L2528.31 1098.05 L2533.06 1098.05 L2533.06 1100.59 L2520.26 1100.59 L2520.26 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip530)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2301.49,1135.15 2463.03,1135.15 "></polyline>
<path clip-path="url(#clip530)" d="M2514.61 1126.51 L2505.24 1139.12 L2515.1 1152.43 L2510.07 1152.43 L2502.53 1142.25 L2494.98 1152.43 L2489.96 1152.43 L2500.03 1138.87 L2490.81 1126.51 L2495.84 1126.51 L2502.71 1135.74 L2509.59 1126.51 L2514.61 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip530)" d="M2522.85 1149.79 L2532.67 1149.79 L2532.67 1152.43 L2518.82 1152.43 L2518.82 1149.89 Q2519.61 1149.17 2521.07 1147.87 Q2529.03 1140.81 2529.03 1138.64 Q2529.03 1137.11 2527.83 1136.18 Q2526.62 1135.23 2524.66 1135.23 Q2523.45 1135.23 2522.04 1135.65 Q2520.63 1136.04 2518.96 1136.85 L2518.96 1134.01 Q2520.75 1133.36 2522.27 1133.04 Q2523.82 1132.71 2525.14 1132.71 Q2528.5 1132.71 2530.51 1134.24 Q2532.53 1135.77 2532.53 1138.27 Q2532.53 1141.48 2524.87 1148.06 Q2523.57 1149.17 2522.85 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
<section id="adding-the-constraints-on-controls" class="level3">
<h3 class="anchored" data-anchor-id="adding-the-constraints-on-controls">Adding the constraints on controls</h3>
<p>Adding constraints on <span class="math inline">\bar{\bm u}</span> is straightforward. It is just that instead of a linear system we will have a linear system with additional inequality constraints. Let’s get one <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bar{\bm u}} &amp; \quad \frac{1}{2}\bar{\bm u}^T \mathbf H \bar{\bm u} + \mathbf x_0^T\mathbf F^T \bar{\bm u}\\
\text{subject to} &amp;\quad \bar{\bm u} \leq \bar{\mathbf u}^\mathrm{max}\\
               &amp;\quad \bar{\bm u} \geq \bar{\mathbf u}^\mathrm{min},
\end{aligned}
</span> which we can rewrite more explicitly (in the matrix-vector format) as <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bar{\bm u}} &amp; \quad \frac{1}{2}\bar{\bm u}^T \mathbf H \bar{\bm u} + \mathbf x_0^T\mathbf F^T \bar{\bm u}\\
\text{subject to} &amp; \begin{bmatrix}
                  \mathbf{I}  &amp;    &amp;         &amp;    \\
                    &amp; \mathbf{I}  &amp;         &amp;    \\
                    &amp;    &amp; \ddots  &amp;    \\
                    &amp;    &amp;         &amp;  \mathbf{I} \\
                    -\mathbf{I}   &amp;   &amp;     &amp;    \\
                    &amp; -\mathbf{I} &amp;         &amp;    \\
                    &amp;    &amp; \ddots  &amp;    \\
                    &amp;    &amp;         &amp;  -\mathbf{I}
                 \end{bmatrix}
                 \begin{bmatrix}
                  \bm u_0 \\ \bm u_1 \\ \vdots \\ \bm u_{N-1}
                 \end{bmatrix}
                 \leq
                 \begin{bmatrix}
                  \mathbf u^\mathbf{max} \\ \mathbf u^\mathrm{max} \\ \vdots \\ \mathbf u^\mathrm{max}\\ -\mathbf u^\mathrm{min} \\ -\mathbf u^\mathrm{min} \\ \vdots \\ -\mathbf u^\mathrm{min}
                 \end{bmatrix}.
\end{aligned}
</span></p>
<div id="exm-direct-sequential-constrained-u" class="theorem example">
<p><span class="theorem-title"><strong>Example 4 (Reformulating the LQR problem with constraints on control as a quadratic program – sequential approach)</strong></span> &nbsp;</p>
<div id="8" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">BlockArrays</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">SparseArrays</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">JuMP</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">OSQP</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N,(umin,umax))</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">size</span>(A)[<span class="fl">1</span>]</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">size</span>(B)[<span class="fl">2</span>]</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    Q̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>n),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        Q̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> Q</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    Q̄[<span class="fu">Block</span>(N,N)] <span class="op">=</span> S</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    R̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>m,N<span class="op">*</span>m),<span class="fu">repeat</span>([m],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>        R̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> R</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    Ĉ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>m),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    Â <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,n),<span class="fu">repeat</span>([n],N),[n])</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="op">=</span> <span class="fl">1</span><span class="op">:</span>i</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>            Ĉ[<span class="fu">Block</span>(i,j)] <span class="op">=</span> A<span class="op">^</span>(i<span class="op">-</span>j)<span class="op">*</span>B</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>            Â[<span class="fu">Block</span>(i,<span class="fl">1</span>)] <span class="op">=</span> A<span class="op">^</span>i</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Ĉ + R̄</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> <span class="fu">Array</span>(H)</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Â</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> <span class="fu">Array</span>(F)</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> <span class="fu">Model</span>()</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@variable</span>(prob, u[<span class="fl">1</span><span class="op">:</span>N<span class="op">*</span>m])</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@objective</span>(prob, Min, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="fu">*dot</span>(u,H,u) <span class="op">+</span> <span class="fu">dot</span>(F<span class="op">*</span>x₀,u))</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@constraint</span>(prob, u <span class="op">.&gt;=</span> umin)</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@constraint</span>(prob, u <span class="op">.&lt;=</span> umax)</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_silent</span>(prob)</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_optimizer</span>(prob, OSQP.Optimizer)</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">optimize!</span>(prob)</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    uopt <span class="op">=</span> <span class="fu">value</span>.(u)</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> Ĉ<span class="op">*</span>uopt <span class="op">+</span> Â<span class="op">*</span>x₀</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> <span class="fu">reshape</span>(xopt,(<span class="fl">2</span>,<span class="op">:</span>))</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a><span class="co">#=     u = Variable(N*m)</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a><span class="co">    problem = minimize(1/2*quadform(u,H) + dot(F*x₀,u))</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a><span class="co">    problem.constraints = [u &gt;= umin, u &lt;= umax]</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a><span class="co">    Convex.solve!(problem, SCS.Optimizer; silent = true)</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a><span class="co">    xopt = Ĉ*u.value + Â*x₀</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="co">    xopt = reshape(xopt,(2,:))</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a><span class="co">    uopt = u.value =#</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> xopt,uopt</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>umin <span class="op">=</span> <span class="op">-</span><span class="fl">1.0</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>umax <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>xopt,uopt <span class="op">=</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N,(umin,umax))</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,<span class="fu">hcat</span>(x₀,xopt)<span class="ch">',marker=:diamond,label=["x₁" "x₂"],linetype=:steppost)</span></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip590">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip590)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip591">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip590)" d="M593.64 774.117 L2640.76 774.117 L2640.76 47.2441 L593.64 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip592">
    <rect x="593" y="47" width="2048" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip592)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="651.577,774.117 651.577,47.2441 "></polyline>
<polyline clip-path="url(#clip592)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1080.74,774.117 1080.74,47.2441 "></polyline>
<polyline clip-path="url(#clip592)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1509.91,774.117 1509.91,47.2441 "></polyline>
<polyline clip-path="url(#clip592)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1939.07,774.117 1939.07,47.2441 "></polyline>
<polyline clip-path="url(#clip592)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2368.24,774.117 2368.24,47.2441 "></polyline>
<polyline clip-path="url(#clip592)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="593.64,771.336 2640.76,771.336 "></polyline>
<polyline clip-path="url(#clip592)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="593.64,605.377 2640.76,605.377 "></polyline>
<polyline clip-path="url(#clip592)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="593.64,439.418 2640.76,439.418 "></polyline>
<polyline clip-path="url(#clip592)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="593.64,273.458 2640.76,273.458 "></polyline>
<polyline clip-path="url(#clip592)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="593.64,107.499 2640.76,107.499 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="651.577,774.117 651.577,755.219 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1080.74,774.117 1080.74,755.219 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1509.91,774.117 1509.91,755.219 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1939.07,774.117 1939.07,755.219 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2368.24,774.117 2368.24,755.219 "></polyline>
<path clip-path="url(#clip590)" d="M651.577 807.34 Q647.966 807.34 646.137 810.904 Q644.332 814.446 644.332 821.576 Q644.332 828.682 646.137 832.247 Q647.966 835.789 651.577 835.789 Q655.212 835.789 657.017 832.247 Q658.846 828.682 658.846 821.576 Q658.846 814.446 657.017 810.904 Q655.212 807.34 651.577 807.34 M651.577 803.636 Q657.387 803.636 660.443 808.242 Q663.522 812.826 663.522 821.576 Q663.522 830.303 660.443 834.909 Q657.387 839.492 651.577 839.492 Q645.767 839.492 642.688 834.909 Q639.633 830.303 639.633 821.576 Q639.633 812.826 642.688 808.242 Q645.767 803.636 651.577 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M1075.39 834.886 L1091.71 834.886 L1091.71 838.821 L1069.77 838.821 L1069.77 834.886 Q1072.43 832.131 1077.02 827.502 Q1081.62 822.849 1082.8 821.506 Q1085.05 818.983 1085.93 817.247 Q1086.83 815.488 1086.83 813.798 Q1086.83 811.043 1084.89 809.307 Q1082.96 807.571 1079.86 807.571 Q1077.66 807.571 1075.21 808.335 Q1072.78 809.099 1070 810.65 L1070 805.928 Q1072.83 804.793 1075.28 804.215 Q1077.73 803.636 1079.77 803.636 Q1085.14 803.636 1088.33 806.321 Q1091.53 809.006 1091.53 813.497 Q1091.53 815.627 1090.72 817.548 Q1089.93 819.446 1087.83 822.039 Q1087.25 822.71 1084.14 825.928 Q1081.04 829.122 1075.39 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M1512.92 808.335 L1501.11 826.784 L1512.92 826.784 L1512.92 808.335 M1511.69 804.261 L1517.57 804.261 L1517.57 826.784 L1522.5 826.784 L1522.5 830.673 L1517.57 830.673 L1517.57 838.821 L1512.92 838.821 L1512.92 830.673 L1497.31 830.673 L1497.31 826.159 L1511.69 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M1939.48 819.678 Q1936.33 819.678 1934.48 821.83 Q1932.65 823.983 1932.65 827.733 Q1932.65 831.46 1934.48 833.636 Q1936.33 835.789 1939.48 835.789 Q1942.62 835.789 1944.45 833.636 Q1946.31 831.46 1946.31 827.733 Q1946.31 823.983 1944.45 821.83 Q1942.62 819.678 1939.48 819.678 M1948.76 805.025 L1948.76 809.284 Q1947 808.451 1945.19 808.011 Q1943.41 807.571 1941.65 807.571 Q1937.02 807.571 1934.57 810.696 Q1932.14 813.821 1931.79 820.141 Q1933.16 818.127 1935.22 817.062 Q1937.28 815.974 1939.75 815.974 Q1944.96 815.974 1947.97 819.145 Q1951 822.293 1951 827.733 Q1951 833.057 1947.86 836.275 Q1944.71 839.492 1939.48 839.492 Q1933.48 839.492 1930.31 834.909 Q1927.14 830.303 1927.14 821.576 Q1927.14 813.381 1931.03 808.52 Q1934.92 803.636 1941.47 803.636 Q1943.23 803.636 1945.01 803.983 Q1946.81 804.33 1948.76 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M2368.24 822.409 Q2364.9 822.409 2362.98 824.191 Q2361.08 825.974 2361.08 829.099 Q2361.08 832.224 2362.98 834.006 Q2364.9 835.789 2368.24 835.789 Q2371.57 835.789 2373.49 834.006 Q2375.41 832.201 2375.41 829.099 Q2375.41 825.974 2373.49 824.191 Q2371.59 822.409 2368.24 822.409 M2363.56 820.418 Q2360.55 819.678 2358.86 817.617 Q2357.19 815.557 2357.19 812.594 Q2357.19 808.451 2360.13 806.043 Q2363.1 803.636 2368.24 803.636 Q2373.4 803.636 2376.34 806.043 Q2379.28 808.451 2379.28 812.594 Q2379.28 815.557 2377.59 817.617 Q2375.92 819.678 2372.94 820.418 Q2376.31 821.205 2378.19 823.497 Q2380.09 825.789 2380.09 829.099 Q2380.09 834.122 2377.01 836.807 Q2373.95 839.492 2368.24 839.492 Q2362.52 839.492 2359.44 836.807 Q2356.38 834.122 2356.38 829.099 Q2356.38 825.789 2358.28 823.497 Q2360.18 821.205 2363.56 820.418 M2361.85 813.034 Q2361.85 815.719 2363.51 817.224 Q2365.2 818.729 2368.24 818.729 Q2371.25 818.729 2372.94 817.224 Q2374.65 815.719 2374.65 813.034 Q2374.65 810.349 2372.94 808.844 Q2371.25 807.34 2368.24 807.34 Q2365.2 807.34 2363.51 808.844 Q2361.85 810.349 2361.85 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M1601.38 873.776 L1607.27 873.776 L1607.27 903.026 L1624.74 887.653 L1632.22 887.653 L1613.31 904.331 L1633.02 923.301 L1625.38 923.301 L1607.27 905.891 L1607.27 923.301 L1601.38 923.301 L1601.38 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,774.117 593.64,47.2441 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,771.336 612.538,771.336 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,605.377 612.538,605.377 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,439.418 612.538,439.418 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,273.458 612.538,273.458 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,107.499 612.538,107.499 "></polyline>
<path clip-path="url(#clip590)" d="M145.95 778.235 L175.625 778.235 L175.625 782.171 L145.95 782.171 L145.95 778.235 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M186.528 791.129 L194.167 791.129 L194.167 764.763 L185.857 766.43 L185.857 762.171 L194.121 760.504 L198.796 760.504 L198.796 791.129 L206.435 791.129 L206.435 795.064 L186.528 795.064 L186.528 791.129 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M215.88 789.184 L220.764 789.184 L220.764 795.064 L215.88 795.064 L215.88 789.184 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M240.949 763.583 Q237.338 763.583 235.509 767.147 Q233.704 770.689 233.704 777.819 Q233.704 784.925 235.509 788.49 Q237.338 792.032 240.949 792.032 Q244.583 792.032 246.389 788.49 Q248.217 784.925 248.217 777.819 Q248.217 770.689 246.389 767.147 Q244.583 763.583 240.949 763.583 M240.949 759.879 Q246.759 759.879 249.815 764.485 Q252.893 769.069 252.893 777.819 Q252.893 786.545 249.815 791.152 Q246.759 795.735 240.949 795.735 Q235.139 795.735 232.06 791.152 Q229.005 786.545 229.005 777.819 Q229.005 769.069 232.06 764.485 Q235.139 759.879 240.949 759.879 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M271.111 763.583 Q267.5 763.583 265.671 767.147 Q263.866 770.689 263.866 777.819 Q263.866 784.925 265.671 788.49 Q267.5 792.032 271.111 792.032 Q274.745 792.032 276.551 788.49 Q278.379 784.925 278.379 777.819 Q278.379 770.689 276.551 767.147 Q274.745 763.583 271.111 763.583 M271.111 759.879 Q276.921 759.879 279.977 764.485 Q283.055 769.069 283.055 777.819 Q283.055 786.545 279.977 791.152 Q276.921 795.735 271.111 795.735 Q265.301 795.735 262.222 791.152 Q259.167 786.545 259.167 777.819 Q259.167 769.069 262.222 764.485 Q265.301 759.879 271.111 759.879 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M301.273 763.583 Q297.662 763.583 295.833 767.147 Q294.027 770.689 294.027 777.819 Q294.027 784.925 295.833 788.49 Q297.662 792.032 301.273 792.032 Q304.907 792.032 306.713 788.49 Q308.541 784.925 308.541 777.819 Q308.541 770.689 306.713 767.147 Q304.907 763.583 301.273 763.583 M301.273 759.879 Q307.083 759.879 310.138 764.485 Q313.217 769.069 313.217 777.819 Q313.217 786.545 310.138 791.152 Q307.083 795.735 301.273 795.735 Q295.463 795.735 292.384 791.152 Q289.328 786.545 289.328 777.819 Q289.328 769.069 292.384 764.485 Q295.463 759.879 301.273 759.879 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M331.435 763.583 Q327.824 763.583 325.995 767.147 Q324.189 770.689 324.189 777.819 Q324.189 784.925 325.995 788.49 Q327.824 792.032 331.435 792.032 Q335.069 792.032 336.874 788.49 Q338.703 784.925 338.703 777.819 Q338.703 770.689 336.874 767.147 Q335.069 763.583 331.435 763.583 M331.435 759.879 Q337.245 759.879 340.3 764.485 Q343.379 769.069 343.379 777.819 Q343.379 786.545 340.3 791.152 Q337.245 795.735 331.435 795.735 Q325.624 795.735 322.546 791.152 Q319.49 786.545 319.49 777.819 Q319.49 769.069 322.546 764.485 Q325.624 759.879 331.435 759.879 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M352.407 791.129 L360.046 791.129 L360.046 764.763 L351.735 766.43 L351.735 762.171 L359.999 760.504 L364.675 760.504 L364.675 791.129 L372.314 791.129 L372.314 795.064 L352.407 795.064 L352.407 791.129 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M391.758 763.583 Q388.147 763.583 386.319 767.147 Q384.513 770.689 384.513 777.819 Q384.513 784.925 386.319 788.49 Q388.147 792.032 391.758 792.032 Q395.393 792.032 397.198 788.49 Q399.027 784.925 399.027 777.819 Q399.027 770.689 397.198 767.147 Q395.393 763.583 391.758 763.583 M391.758 759.879 Q397.569 759.879 400.624 764.485 Q403.703 769.069 403.703 777.819 Q403.703 786.545 400.624 791.152 Q397.569 795.735 391.758 795.735 Q385.948 795.735 382.87 791.152 Q379.814 786.545 379.814 777.819 Q379.814 769.069 382.87 764.485 Q385.948 759.879 391.758 759.879 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M421.92 763.583 Q418.309 763.583 416.48 767.147 Q414.675 770.689 414.675 777.819 Q414.675 784.925 416.48 788.49 Q418.309 792.032 421.92 792.032 Q425.555 792.032 427.36 788.49 Q429.189 784.925 429.189 777.819 Q429.189 770.689 427.36 767.147 Q425.555 763.583 421.92 763.583 M421.92 759.879 Q427.73 759.879 430.786 764.485 Q433.865 769.069 433.865 777.819 Q433.865 786.545 430.786 791.152 Q427.73 795.735 421.92 795.735 Q416.11 795.735 413.031 791.152 Q409.976 786.545 409.976 777.819 Q409.976 769.069 413.031 764.485 Q416.11 759.879 421.92 759.879 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M470.253 769.601 L459.675 780.226 L470.253 790.805 L467.499 793.606 L456.874 782.981 L446.249 793.606 L443.517 790.805 L454.073 780.226 L443.517 769.601 L446.249 766.8 L456.874 777.425 L467.499 766.8 L470.253 769.601 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M482.614 791.129 L490.253 791.129 L490.253 764.763 L481.943 766.43 L481.943 762.171 L490.207 760.504 L494.883 760.504 L494.883 791.129 L502.522 791.129 L502.522 795.064 L482.614 795.064 L482.614 791.129 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M521.966 763.583 Q518.355 763.583 516.526 767.147 Q514.721 770.689 514.721 777.819 Q514.721 784.925 516.526 788.49 Q518.355 792.032 521.966 792.032 Q525.6 792.032 527.406 788.49 Q529.235 784.925 529.235 777.819 Q529.235 770.689 527.406 767.147 Q525.6 763.583 521.966 763.583 M521.966 759.879 Q527.776 759.879 530.832 764.485 Q533.91 769.069 533.91 777.819 Q533.91 786.545 530.832 791.152 Q527.776 795.735 521.966 795.735 Q516.156 795.735 513.077 791.152 Q510.022 786.545 510.022 777.819 Q510.022 769.069 513.077 764.485 Q516.156 759.879 521.966 759.879 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M543.615 742.075 Q540.681 742.075 539.195 744.971 Q537.728 747.849 537.728 753.642 Q537.728 759.416 539.195 762.312 Q540.681 765.19 543.615 765.19 Q546.568 765.19 548.035 762.312 Q549.521 759.416 549.521 753.642 Q549.521 747.849 548.035 744.971 Q546.568 742.075 543.615 742.075 M543.615 739.066 Q548.336 739.066 550.819 742.808 Q553.32 746.532 553.32 753.642 Q553.32 760.732 550.819 764.475 Q548.336 768.199 543.615 768.199 Q538.894 768.199 536.393 764.475 Q533.91 760.732 533.91 753.642 Q533.91 746.532 536.393 742.808 Q538.894 739.066 543.615 739.066 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M145.95 612.276 L175.625 612.276 L175.625 616.211 L145.95 616.211 L145.95 612.276 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M186.528 625.169 L194.167 625.169 L194.167 598.804 L185.857 600.47 L185.857 596.211 L194.121 594.545 L198.796 594.545 L198.796 625.169 L206.435 625.169 L206.435 629.105 L186.528 629.105 L186.528 625.169 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M215.88 623.225 L220.764 623.225 L220.764 629.105 L215.88 629.105 L215.88 623.225 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M240.949 597.623 Q237.338 597.623 235.509 601.188 Q233.704 604.73 233.704 611.859 Q233.704 618.966 235.509 622.531 Q237.338 626.072 240.949 626.072 Q244.583 626.072 246.389 622.531 Q248.217 618.966 248.217 611.859 Q248.217 604.73 246.389 601.188 Q244.583 597.623 240.949 597.623 M240.949 593.92 Q246.759 593.92 249.815 598.526 Q252.893 603.109 252.893 611.859 Q252.893 620.586 249.815 625.193 Q246.759 629.776 240.949 629.776 Q235.139 629.776 232.06 625.193 Q229.005 620.586 229.005 611.859 Q229.005 603.109 232.06 598.526 Q235.139 593.92 240.949 593.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M271.111 597.623 Q267.5 597.623 265.671 601.188 Q263.866 604.73 263.866 611.859 Q263.866 618.966 265.671 622.531 Q267.5 626.072 271.111 626.072 Q274.745 626.072 276.551 622.531 Q278.379 618.966 278.379 611.859 Q278.379 604.73 276.551 601.188 Q274.745 597.623 271.111 597.623 M271.111 593.92 Q276.921 593.92 279.977 598.526 Q283.055 603.109 283.055 611.859 Q283.055 620.586 279.977 625.193 Q276.921 629.776 271.111 629.776 Q265.301 629.776 262.222 625.193 Q259.167 620.586 259.167 611.859 Q259.167 603.109 262.222 598.526 Q265.301 593.92 271.111 593.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M301.273 597.623 Q297.662 597.623 295.833 601.188 Q294.027 604.73 294.027 611.859 Q294.027 618.966 295.833 622.531 Q297.662 626.072 301.273 626.072 Q304.907 626.072 306.713 622.531 Q308.541 618.966 308.541 611.859 Q308.541 604.73 306.713 601.188 Q304.907 597.623 301.273 597.623 M301.273 593.92 Q307.083 593.92 310.138 598.526 Q313.217 603.109 313.217 611.859 Q313.217 620.586 310.138 625.193 Q307.083 629.776 301.273 629.776 Q295.463 629.776 292.384 625.193 Q289.328 620.586 289.328 611.859 Q289.328 603.109 292.384 598.526 Q295.463 593.92 301.273 593.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M331.435 597.623 Q327.824 597.623 325.995 601.188 Q324.189 604.73 324.189 611.859 Q324.189 618.966 325.995 622.531 Q327.824 626.072 331.435 626.072 Q335.069 626.072 336.874 622.531 Q338.703 618.966 338.703 611.859 Q338.703 604.73 336.874 601.188 Q335.069 597.623 331.435 597.623 M331.435 593.92 Q337.245 593.92 340.3 598.526 Q343.379 603.109 343.379 611.859 Q343.379 620.586 340.3 625.193 Q337.245 629.776 331.435 629.776 Q325.624 629.776 322.546 625.193 Q319.49 620.586 319.49 611.859 Q319.49 603.109 322.546 598.526 Q325.624 593.92 331.435 593.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M361.597 597.623 Q357.985 597.623 356.157 601.188 Q354.351 604.73 354.351 611.859 Q354.351 618.966 356.157 622.531 Q357.985 626.072 361.597 626.072 Q365.231 626.072 367.036 622.531 Q368.865 618.966 368.865 611.859 Q368.865 604.73 367.036 601.188 Q365.231 597.623 361.597 597.623 M361.597 593.92 Q367.407 593.92 370.462 598.526 Q373.541 603.109 373.541 611.859 Q373.541 620.586 370.462 625.193 Q367.407 629.776 361.597 629.776 Q355.786 629.776 352.708 625.193 Q349.652 620.586 349.652 611.859 Q349.652 603.109 352.708 598.526 Q355.786 593.92 361.597 593.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M381.805 594.545 L400.161 594.545 L400.161 598.48 L386.087 598.48 L386.087 606.952 Q387.106 606.605 388.124 606.443 Q389.143 606.258 390.161 606.258 Q395.948 606.258 399.328 609.429 Q402.707 612.6 402.707 618.017 Q402.707 623.595 399.235 626.697 Q395.763 629.776 389.444 629.776 Q387.268 629.776 384.999 629.406 Q382.754 629.035 380.346 628.294 L380.346 623.595 Q382.43 624.73 384.652 625.285 Q386.874 625.841 389.351 625.841 Q393.356 625.841 395.694 623.734 Q398.032 621.628 398.032 618.017 Q398.032 614.406 395.694 612.299 Q393.356 610.193 389.351 610.193 Q387.476 610.193 385.601 610.609 Q383.749 611.026 381.805 611.906 L381.805 594.545 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M421.92 597.623 Q418.309 597.623 416.48 601.188 Q414.675 604.73 414.675 611.859 Q414.675 618.966 416.48 622.531 Q418.309 626.072 421.92 626.072 Q425.555 626.072 427.36 622.531 Q429.189 618.966 429.189 611.859 Q429.189 604.73 427.36 601.188 Q425.555 597.623 421.92 597.623 M421.92 593.92 Q427.73 593.92 430.786 598.526 Q433.865 603.109 433.865 611.859 Q433.865 620.586 430.786 625.193 Q427.73 629.776 421.92 629.776 Q416.11 629.776 413.031 625.193 Q409.976 620.586 409.976 611.859 Q409.976 603.109 413.031 598.526 Q416.11 593.92 421.92 593.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M470.253 603.642 L459.675 614.267 L470.253 624.845 L467.499 627.646 L456.874 617.021 L446.249 627.646 L443.517 624.845 L454.073 614.267 L443.517 603.642 L446.249 600.841 L456.874 611.466 L467.499 600.841 L470.253 603.642 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M482.614 625.169 L490.253 625.169 L490.253 598.804 L481.943 600.47 L481.943 596.211 L490.207 594.545 L494.883 594.545 L494.883 625.169 L502.522 625.169 L502.522 629.105 L482.614 629.105 L482.614 625.169 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M521.966 597.623 Q518.355 597.623 516.526 601.188 Q514.721 604.73 514.721 611.859 Q514.721 618.966 516.526 622.531 Q518.355 626.072 521.966 626.072 Q525.6 626.072 527.406 622.531 Q529.235 618.966 529.235 611.859 Q529.235 604.73 527.406 601.188 Q525.6 597.623 521.966 597.623 M521.966 593.92 Q527.776 593.92 530.832 598.526 Q533.91 603.109 533.91 611.859 Q533.91 620.586 530.832 625.193 Q527.776 629.776 521.966 629.776 Q516.156 629.776 513.077 625.193 Q510.022 620.586 510.022 611.859 Q510.022 603.109 513.077 598.526 Q516.156 593.92 521.966 593.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M543.615 576.116 Q540.681 576.116 539.195 579.012 Q537.728 581.89 537.728 587.682 Q537.728 593.456 539.195 596.353 Q540.681 599.23 543.615 599.23 Q546.568 599.23 548.035 596.353 Q549.521 593.456 549.521 587.682 Q549.521 581.89 548.035 579.012 Q546.568 576.116 543.615 576.116 M543.615 573.106 Q548.336 573.106 550.819 576.849 Q553.32 580.573 553.32 587.682 Q553.32 594.773 550.819 598.516 Q548.336 602.24 543.615 602.24 Q538.894 602.24 536.393 598.516 Q533.91 594.773 533.91 587.682 Q533.91 580.573 536.393 576.849 Q538.894 573.106 543.615 573.106 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M145.95 446.317 L175.625 446.317 L175.625 450.252 L145.95 450.252 L145.95 446.317 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M186.528 459.21 L194.167 459.21 L194.167 432.844 L185.857 434.511 L185.857 430.252 L194.121 428.585 L198.796 428.585 L198.796 459.21 L206.435 459.21 L206.435 463.145 L186.528 463.145 L186.528 459.21 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M215.88 457.266 L220.764 457.266 L220.764 463.145 L215.88 463.145 L215.88 457.266 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M240.949 431.664 Q237.338 431.664 235.509 435.229 Q233.704 438.77 233.704 445.9 Q233.704 453.006 235.509 456.571 Q237.338 460.113 240.949 460.113 Q244.583 460.113 246.389 456.571 Q248.217 453.006 248.217 445.9 Q248.217 438.77 246.389 435.229 Q244.583 431.664 240.949 431.664 M240.949 427.96 Q246.759 427.96 249.815 432.567 Q252.893 437.15 252.893 445.9 Q252.893 454.627 249.815 459.233 Q246.759 463.817 240.949 463.817 Q235.139 463.817 232.06 459.233 Q229.005 454.627 229.005 445.9 Q229.005 437.15 232.06 432.567 Q235.139 427.96 240.949 427.96 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M271.111 431.664 Q267.5 431.664 265.671 435.229 Q263.866 438.77 263.866 445.9 Q263.866 453.006 265.671 456.571 Q267.5 460.113 271.111 460.113 Q274.745 460.113 276.551 456.571 Q278.379 453.006 278.379 445.9 Q278.379 438.77 276.551 435.229 Q274.745 431.664 271.111 431.664 M271.111 427.96 Q276.921 427.96 279.977 432.567 Q283.055 437.15 283.055 445.9 Q283.055 454.627 279.977 459.233 Q276.921 463.817 271.111 463.817 Q265.301 463.817 262.222 459.233 Q259.167 454.627 259.167 445.9 Q259.167 437.15 262.222 432.567 Q265.301 427.96 271.111 427.96 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M301.273 431.664 Q297.662 431.664 295.833 435.229 Q294.027 438.77 294.027 445.9 Q294.027 453.006 295.833 456.571 Q297.662 460.113 301.273 460.113 Q304.907 460.113 306.713 456.571 Q308.541 453.006 308.541 445.9 Q308.541 438.77 306.713 435.229 Q304.907 431.664 301.273 431.664 M301.273 427.96 Q307.083 427.96 310.138 432.567 Q313.217 437.15 313.217 445.9 Q313.217 454.627 310.138 459.233 Q307.083 463.817 301.273 463.817 Q295.463 463.817 292.384 459.233 Q289.328 454.627 289.328 445.9 Q289.328 437.15 292.384 432.567 Q295.463 427.96 301.273 427.96 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M331.435 431.664 Q327.824 431.664 325.995 435.229 Q324.189 438.77 324.189 445.9 Q324.189 453.006 325.995 456.571 Q327.824 460.113 331.435 460.113 Q335.069 460.113 336.874 456.571 Q338.703 453.006 338.703 445.9 Q338.703 438.77 336.874 435.229 Q335.069 431.664 331.435 431.664 M331.435 427.96 Q337.245 427.96 340.3 432.567 Q343.379 437.15 343.379 445.9 Q343.379 454.627 340.3 459.233 Q337.245 463.817 331.435 463.817 Q325.624 463.817 322.546 459.233 Q319.49 454.627 319.49 445.9 Q319.49 437.15 322.546 432.567 Q325.624 427.96 331.435 427.96 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M361.597 431.664 Q357.985 431.664 356.157 435.229 Q354.351 438.77 354.351 445.9 Q354.351 453.006 356.157 456.571 Q357.985 460.113 361.597 460.113 Q365.231 460.113 367.036 456.571 Q368.865 453.006 368.865 445.9 Q368.865 438.77 367.036 435.229 Q365.231 431.664 361.597 431.664 M361.597 427.96 Q367.407 427.96 370.462 432.567 Q373.541 437.15 373.541 445.9 Q373.541 454.627 370.462 459.233 Q367.407 463.817 361.597 463.817 Q355.786 463.817 352.708 459.233 Q349.652 454.627 349.652 445.9 Q349.652 437.15 352.708 432.567 Q355.786 427.96 361.597 427.96 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M391.758 431.664 Q388.147 431.664 386.319 435.229 Q384.513 438.77 384.513 445.9 Q384.513 453.006 386.319 456.571 Q388.147 460.113 391.758 460.113 Q395.393 460.113 397.198 456.571 Q399.027 453.006 399.027 445.9 Q399.027 438.77 397.198 435.229 Q395.393 431.664 391.758 431.664 M391.758 427.96 Q397.569 427.96 400.624 432.567 Q403.703 437.15 403.703 445.9 Q403.703 454.627 400.624 459.233 Q397.569 463.817 391.758 463.817 Q385.948 463.817 382.87 459.233 Q379.814 454.627 379.814 445.9 Q379.814 437.15 382.87 432.567 Q385.948 427.96 391.758 427.96 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M421.92 431.664 Q418.309 431.664 416.48 435.229 Q414.675 438.77 414.675 445.9 Q414.675 453.006 416.48 456.571 Q418.309 460.113 421.92 460.113 Q425.555 460.113 427.36 456.571 Q429.189 453.006 429.189 445.9 Q429.189 438.77 427.36 435.229 Q425.555 431.664 421.92 431.664 M421.92 427.96 Q427.73 427.96 430.786 432.567 Q433.865 437.15 433.865 445.9 Q433.865 454.627 430.786 459.233 Q427.73 463.817 421.92 463.817 Q416.11 463.817 413.031 459.233 Q409.976 454.627 409.976 445.9 Q409.976 437.15 413.031 432.567 Q416.11 427.96 421.92 427.96 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M470.253 437.682 L459.675 448.307 L470.253 458.886 L467.499 461.687 L456.874 451.062 L446.249 461.687 L443.517 458.886 L454.073 448.307 L443.517 437.682 L446.249 434.882 L456.874 445.506 L467.499 434.882 L470.253 437.682 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M482.614 459.21 L490.253 459.21 L490.253 432.844 L481.943 434.511 L481.943 430.252 L490.207 428.585 L494.883 428.585 L494.883 459.21 L502.522 459.21 L502.522 463.145 L482.614 463.145 L482.614 459.21 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M521.966 431.664 Q518.355 431.664 516.526 435.229 Q514.721 438.77 514.721 445.9 Q514.721 453.006 516.526 456.571 Q518.355 460.113 521.966 460.113 Q525.6 460.113 527.406 456.571 Q529.235 453.006 529.235 445.9 Q529.235 438.77 527.406 435.229 Q525.6 431.664 521.966 431.664 M521.966 427.96 Q527.776 427.96 530.832 432.567 Q533.91 437.15 533.91 445.9 Q533.91 454.627 530.832 459.233 Q527.776 463.817 521.966 463.817 Q516.156 463.817 513.077 459.233 Q510.022 454.627 510.022 445.9 Q510.022 437.15 513.077 432.567 Q516.156 427.96 521.966 427.96 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M543.615 410.156 Q540.681 410.156 539.195 413.053 Q537.728 415.93 537.728 421.723 Q537.728 427.497 539.195 430.393 Q540.681 433.271 543.615 433.271 Q546.568 433.271 548.035 430.393 Q549.521 427.497 549.521 421.723 Q549.521 415.93 548.035 413.053 Q546.568 410.156 543.615 410.156 M543.615 407.147 Q548.336 407.147 550.819 410.89 Q553.32 414.614 553.32 421.723 Q553.32 428.814 550.819 432.556 Q548.336 436.28 543.615 436.28 Q538.894 436.28 536.393 432.556 Q533.91 428.814 533.91 421.723 Q533.91 414.614 536.393 410.89 Q538.894 407.147 543.615 407.147 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M116.214 280.357 L145.89 280.357 L145.89 284.292 L116.214 284.292 L116.214 280.357 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M156.122 296.468 L156.122 292.209 Q157.881 293.042 159.686 293.482 Q161.492 293.922 163.228 293.922 Q167.858 293.922 170.288 290.82 Q172.742 287.695 173.089 281.353 Q171.747 283.343 169.686 284.408 Q167.626 285.473 165.126 285.473 Q159.941 285.473 156.909 282.348 Q153.899 279.2 153.899 273.76 Q153.899 268.436 157.048 265.218 Q160.196 262.001 165.427 262.001 Q171.422 262.001 174.571 266.607 Q177.742 271.191 177.742 279.941 Q177.742 288.112 173.853 292.996 Q169.987 297.857 163.436 297.857 Q161.677 297.857 159.872 297.51 Q158.066 297.163 156.122 296.468 M165.427 281.816 Q168.575 281.816 170.404 279.663 Q172.256 277.51 172.256 273.76 Q172.256 270.033 170.404 267.881 Q168.575 265.705 165.427 265.705 Q162.279 265.705 160.427 267.881 Q158.598 270.033 158.598 273.76 Q158.598 277.51 160.427 279.663 Q162.279 281.816 165.427 281.816 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M186.145 291.306 L191.029 291.306 L191.029 297.186 L186.145 297.186 L186.145 291.306 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M201.353 296.468 L201.353 292.209 Q203.112 293.042 204.918 293.482 Q206.723 293.922 208.459 293.922 Q213.089 293.922 215.519 290.82 Q217.973 287.695 218.32 281.353 Q216.978 283.343 214.918 284.408 Q212.857 285.473 210.357 285.473 Q205.172 285.473 202.14 282.348 Q199.131 279.2 199.131 273.76 Q199.131 268.436 202.279 265.218 Q205.427 262.001 210.658 262.001 Q216.654 262.001 219.802 266.607 Q222.973 271.191 222.973 279.941 Q222.973 288.112 219.084 292.996 Q215.219 297.857 208.668 297.857 Q206.908 297.857 205.103 297.51 Q203.297 297.163 201.353 296.468 M210.658 281.816 Q213.807 281.816 215.635 279.663 Q217.487 277.51 217.487 273.76 Q217.487 270.033 215.635 267.881 Q213.807 265.705 210.658 265.705 Q207.51 265.705 205.658 267.881 Q203.83 270.033 203.83 273.76 Q203.83 277.51 205.658 279.663 Q207.51 281.816 210.658 281.816 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M231.515 296.468 L231.515 292.209 Q233.274 293.042 235.08 293.482 Q236.885 293.922 238.621 293.922 Q243.251 293.922 245.681 290.82 Q248.135 287.695 248.482 281.353 Q247.14 283.343 245.079 284.408 Q243.019 285.473 240.519 285.473 Q235.334 285.473 232.302 282.348 Q229.293 279.2 229.293 273.76 Q229.293 268.436 232.441 265.218 Q235.589 262.001 240.82 262.001 Q246.816 262.001 249.964 266.607 Q253.135 271.191 253.135 279.941 Q253.135 288.112 249.246 292.996 Q245.38 297.857 238.83 297.857 Q237.07 297.857 235.265 297.51 Q233.459 297.163 231.515 296.468 M240.82 281.816 Q243.968 281.816 245.797 279.663 Q247.649 277.51 247.649 273.76 Q247.649 270.033 245.797 267.881 Q243.968 265.705 240.82 265.705 Q237.672 265.705 235.82 267.881 Q233.992 270.033 233.992 273.76 Q233.992 277.51 235.82 279.663 Q237.672 281.816 240.82 281.816 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M261.677 296.468 L261.677 292.209 Q263.436 293.042 265.241 293.482 Q267.047 293.922 268.783 293.922 Q273.413 293.922 275.843 290.82 Q278.297 287.695 278.644 281.353 Q277.302 283.343 275.241 284.408 Q273.181 285.473 270.681 285.473 Q265.496 285.473 262.464 282.348 Q259.454 279.2 259.454 273.76 Q259.454 268.436 262.603 265.218 Q265.751 262.001 270.982 262.001 Q276.977 262.001 280.126 266.607 Q283.297 271.191 283.297 279.941 Q283.297 288.112 279.408 292.996 Q275.542 297.857 268.991 297.857 Q267.232 297.857 265.427 297.51 Q263.621 297.163 261.677 296.468 M270.982 281.816 Q274.13 281.816 275.959 279.663 Q277.811 277.51 277.811 273.76 Q277.811 270.033 275.959 267.881 Q274.13 265.705 270.982 265.705 Q267.834 265.705 265.982 267.881 Q264.153 270.033 264.153 273.76 Q264.153 277.51 265.982 279.663 Q267.834 281.816 270.982 281.816 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M291.839 296.468 L291.839 292.209 Q293.598 293.042 295.403 293.482 Q297.209 293.922 298.945 293.922 Q303.575 293.922 306.005 290.82 Q308.459 287.695 308.806 281.353 Q307.463 283.343 305.403 284.408 Q303.343 285.473 300.843 285.473 Q295.658 285.473 292.626 282.348 Q289.616 279.2 289.616 273.76 Q289.616 268.436 292.764 265.218 Q295.913 262.001 301.144 262.001 Q307.139 262.001 310.287 266.607 Q313.459 271.191 313.459 279.941 Q313.459 288.112 309.57 292.996 Q305.704 297.857 299.153 297.857 Q297.394 297.857 295.588 297.51 Q293.783 297.163 291.839 296.468 M301.144 281.816 Q304.292 281.816 306.121 279.663 Q307.973 277.51 307.973 273.76 Q307.973 270.033 306.121 267.881 Q304.292 265.705 301.144 265.705 Q297.996 265.705 296.144 267.881 Q294.315 270.033 294.315 273.76 Q294.315 277.51 296.144 279.663 Q297.996 281.816 301.144 281.816 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M321.908 262.626 L340.264 262.626 L340.264 266.561 L326.19 266.561 L326.19 275.033 Q327.209 274.686 328.227 274.524 Q329.246 274.339 330.264 274.339 Q336.051 274.339 339.431 277.51 Q342.81 280.681 342.81 286.098 Q342.81 291.677 339.338 294.779 Q335.866 297.857 329.547 297.857 Q327.371 297.857 325.102 297.487 Q322.857 297.116 320.449 296.376 L320.449 291.677 Q322.533 292.811 324.755 293.366 Q326.977 293.922 329.454 293.922 Q333.459 293.922 335.797 291.816 Q338.135 289.709 338.135 286.098 Q338.135 282.487 335.797 280.38 Q333.459 278.274 329.454 278.274 Q327.579 278.274 325.704 278.691 Q323.852 279.107 321.908 279.987 L321.908 262.626 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M362.023 265.705 Q358.412 265.705 356.584 269.269 Q354.778 272.811 354.778 279.941 Q354.778 287.047 356.584 290.612 Q358.412 294.154 362.023 294.154 Q365.658 294.154 367.463 290.612 Q369.292 287.047 369.292 279.941 Q369.292 272.811 367.463 269.269 Q365.658 265.705 362.023 265.705 M362.023 262.001 Q367.833 262.001 370.889 266.607 Q373.968 271.191 373.968 279.941 Q373.968 288.667 370.889 293.274 Q367.833 297.857 362.023 297.857 Q356.213 297.857 353.134 293.274 Q350.079 288.667 350.079 279.941 Q350.079 271.191 353.134 266.607 Q356.213 262.001 362.023 262.001 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M392.185 265.705 Q388.574 265.705 386.745 269.269 Q384.94 272.811 384.94 279.941 Q384.94 287.047 386.745 290.612 Q388.574 294.154 392.185 294.154 Q395.819 294.154 397.625 290.612 Q399.454 287.047 399.454 279.941 Q399.454 272.811 397.625 269.269 Q395.819 265.705 392.185 265.705 M392.185 262.001 Q397.995 262.001 401.051 266.607 Q404.13 271.191 404.13 279.941 Q404.13 288.667 401.051 293.274 Q397.995 297.857 392.185 297.857 Q386.375 297.857 383.296 293.274 Q380.241 288.667 380.241 279.941 Q380.241 271.191 383.296 266.607 Q386.375 262.001 392.185 262.001 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M440.518 271.723 L429.94 282.348 L440.518 292.927 L437.764 295.728 L427.139 285.103 L416.514 295.728 L413.782 292.927 L424.338 282.348 L413.782 271.723 L416.514 268.922 L427.139 279.547 L437.764 268.922 L440.518 271.723 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M452.879 293.251 L460.518 293.251 L460.518 266.885 L452.208 268.552 L452.208 264.293 L460.472 262.626 L465.148 262.626 L465.148 293.251 L472.787 293.251 L472.787 297.186 L452.879 297.186 L452.879 293.251 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M492.231 265.705 Q488.62 265.705 486.791 269.269 Q484.986 272.811 484.986 279.941 Q484.986 287.047 486.791 290.612 Q488.62 294.154 492.231 294.154 Q495.865 294.154 497.671 290.612 Q499.499 287.047 499.499 279.941 Q499.499 272.811 497.671 269.269 Q495.865 265.705 492.231 265.705 M492.231 262.001 Q498.041 262.001 501.097 266.607 Q504.175 271.191 504.175 279.941 Q504.175 288.667 501.097 293.274 Q498.041 297.857 492.231 297.857 Q486.421 297.857 483.342 293.274 Q480.287 288.667 480.287 279.941 Q480.287 271.191 483.342 266.607 Q486.421 262.001 492.231 262.001 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M504.175 256.102 L528.287 256.102 L528.287 259.3 L504.175 259.3 L504.175 256.102 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M537.145 266.578 L543.352 266.578 L543.352 245.156 L536.6 246.51 L536.6 243.05 L543.314 241.696 L547.113 241.696 L547.113 266.578 L553.32 266.578 L553.32 269.776 L537.145 269.776 L537.145 266.578 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M116.214 114.398 L145.89 114.398 L145.89 118.333 L116.214 118.333 L116.214 114.398 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M156.122 130.509 L156.122 126.25 Q157.881 127.083 159.686 127.523 Q161.492 127.963 163.228 127.963 Q167.858 127.963 170.288 124.861 Q172.742 121.736 173.089 115.393 Q171.747 117.384 169.686 118.449 Q167.626 119.514 165.126 119.514 Q159.941 119.514 156.909 116.389 Q153.899 113.241 153.899 107.801 Q153.899 102.477 157.048 99.2591 Q160.196 96.0416 165.427 96.0416 Q171.422 96.0416 174.571 100.648 Q177.742 105.231 177.742 113.981 Q177.742 122.153 173.853 127.037 Q169.987 131.898 163.436 131.898 Q161.677 131.898 159.872 131.551 Q158.066 131.203 156.122 130.509 M165.427 115.856 Q168.575 115.856 170.404 113.703 Q172.256 111.551 172.256 107.801 Q172.256 104.074 170.404 101.921 Q168.575 99.7452 165.427 99.7452 Q162.279 99.7452 160.427 101.921 Q158.598 104.074 158.598 107.801 Q158.598 111.551 160.427 113.703 Q162.279 115.856 165.427 115.856 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M186.145 125.347 L191.029 125.347 L191.029 131.227 L186.145 131.227 L186.145 125.347 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M201.353 130.509 L201.353 126.25 Q203.112 127.083 204.918 127.523 Q206.723 127.963 208.459 127.963 Q213.089 127.963 215.519 124.861 Q217.973 121.736 218.32 115.393 Q216.978 117.384 214.918 118.449 Q212.857 119.514 210.357 119.514 Q205.172 119.514 202.14 116.389 Q199.131 113.241 199.131 107.801 Q199.131 102.477 202.279 99.2591 Q205.427 96.0416 210.658 96.0416 Q216.654 96.0416 219.802 100.648 Q222.973 105.231 222.973 113.981 Q222.973 122.153 219.084 127.037 Q215.219 131.898 208.668 131.898 Q206.908 131.898 205.103 131.551 Q203.297 131.203 201.353 130.509 M210.658 115.856 Q213.807 115.856 215.635 113.703 Q217.487 111.551 217.487 107.801 Q217.487 104.074 215.635 101.921 Q213.807 99.7452 210.658 99.7452 Q207.51 99.7452 205.658 101.921 Q203.83 104.074 203.83 107.801 Q203.83 111.551 205.658 113.703 Q207.51 115.856 210.658 115.856 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M231.515 130.509 L231.515 126.25 Q233.274 127.083 235.08 127.523 Q236.885 127.963 238.621 127.963 Q243.251 127.963 245.681 124.861 Q248.135 121.736 248.482 115.393 Q247.14 117.384 245.079 118.449 Q243.019 119.514 240.519 119.514 Q235.334 119.514 232.302 116.389 Q229.293 113.241 229.293 107.801 Q229.293 102.477 232.441 99.2591 Q235.589 96.0416 240.82 96.0416 Q246.816 96.0416 249.964 100.648 Q253.135 105.231 253.135 113.981 Q253.135 122.153 249.246 127.037 Q245.38 131.898 238.83 131.898 Q237.07 131.898 235.265 131.551 Q233.459 131.203 231.515 130.509 M240.82 115.856 Q243.968 115.856 245.797 113.703 Q247.649 111.551 247.649 107.801 Q247.649 104.074 245.797 101.921 Q243.968 99.7452 240.82 99.7452 Q237.672 99.7452 235.82 101.921 Q233.992 104.074 233.992 107.801 Q233.992 111.551 235.82 113.703 Q237.672 115.856 240.82 115.856 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M261.677 130.509 L261.677 126.25 Q263.436 127.083 265.241 127.523 Q267.047 127.963 268.783 127.963 Q273.413 127.963 275.843 124.861 Q278.297 121.736 278.644 115.393 Q277.302 117.384 275.241 118.449 Q273.181 119.514 270.681 119.514 Q265.496 119.514 262.464 116.389 Q259.454 113.241 259.454 107.801 Q259.454 102.477 262.603 99.2591 Q265.751 96.0416 270.982 96.0416 Q276.977 96.0416 280.126 100.648 Q283.297 105.231 283.297 113.981 Q283.297 122.153 279.408 127.037 Q275.542 131.898 268.991 131.898 Q267.232 131.898 265.427 131.551 Q263.621 131.203 261.677 130.509 M270.982 115.856 Q274.13 115.856 275.959 113.703 Q277.811 111.551 277.811 107.801 Q277.811 104.074 275.959 101.921 Q274.13 99.7452 270.982 99.7452 Q267.834 99.7452 265.982 101.921 Q264.153 104.074 264.153 107.801 Q264.153 111.551 265.982 113.703 Q267.834 115.856 270.982 115.856 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M291.839 130.509 L291.839 126.25 Q293.598 127.083 295.403 127.523 Q297.209 127.963 298.945 127.963 Q303.575 127.963 306.005 124.861 Q308.459 121.736 308.806 115.393 Q307.463 117.384 305.403 118.449 Q303.343 119.514 300.843 119.514 Q295.658 119.514 292.626 116.389 Q289.616 113.241 289.616 107.801 Q289.616 102.477 292.764 99.2591 Q295.913 96.0416 301.144 96.0416 Q307.139 96.0416 310.287 100.648 Q313.459 105.231 313.459 113.981 Q313.459 122.153 309.57 127.037 Q305.704 131.898 299.153 131.898 Q297.394 131.898 295.588 131.551 Q293.783 131.203 291.839 130.509 M301.144 115.856 Q304.292 115.856 306.121 113.703 Q307.973 111.551 307.973 107.801 Q307.973 104.074 306.121 101.921 Q304.292 99.7452 301.144 99.7452 Q297.996 99.7452 296.144 101.921 Q294.315 104.074 294.315 107.801 Q294.315 111.551 296.144 113.703 Q297.996 115.856 301.144 115.856 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M331.861 99.7452 Q328.25 99.7452 326.422 103.31 Q324.616 106.852 324.616 113.981 Q324.616 121.088 326.422 124.653 Q328.25 128.194 331.861 128.194 Q335.496 128.194 337.301 124.653 Q339.13 121.088 339.13 113.981 Q339.13 106.852 337.301 103.31 Q335.496 99.7452 331.861 99.7452 M331.861 96.0416 Q337.672 96.0416 340.727 100.648 Q343.806 105.231 343.806 113.981 Q343.806 122.708 340.727 127.315 Q337.672 131.898 331.861 131.898 Q326.051 131.898 322.973 127.315 Q319.917 122.708 319.917 113.981 Q319.917 105.231 322.973 100.648 Q326.051 96.0416 331.861 96.0416 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M362.023 99.7452 Q358.412 99.7452 356.584 103.31 Q354.778 106.852 354.778 113.981 Q354.778 121.088 356.584 124.653 Q358.412 128.194 362.023 128.194 Q365.658 128.194 367.463 124.653 Q369.292 121.088 369.292 113.981 Q369.292 106.852 367.463 103.31 Q365.658 99.7452 362.023 99.7452 M362.023 96.0416 Q367.833 96.0416 370.889 100.648 Q373.968 105.231 373.968 113.981 Q373.968 122.708 370.889 127.315 Q367.833 131.898 362.023 131.898 Q356.213 131.898 353.134 127.315 Q350.079 122.708 350.079 113.981 Q350.079 105.231 353.134 100.648 Q356.213 96.0416 362.023 96.0416 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M392.185 99.7452 Q388.574 99.7452 386.745 103.31 Q384.94 106.852 384.94 113.981 Q384.94 121.088 386.745 124.653 Q388.574 128.194 392.185 128.194 Q395.819 128.194 397.625 124.653 Q399.454 121.088 399.454 113.981 Q399.454 106.852 397.625 103.31 Q395.819 99.7452 392.185 99.7452 M392.185 96.0416 Q397.995 96.0416 401.051 100.648 Q404.13 105.231 404.13 113.981 Q404.13 122.708 401.051 127.315 Q397.995 131.898 392.185 131.898 Q386.375 131.898 383.296 127.315 Q380.241 122.708 380.241 113.981 Q380.241 105.231 383.296 100.648 Q386.375 96.0416 392.185 96.0416 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M440.518 105.764 L429.94 116.389 L440.518 126.967 L437.764 129.768 L427.139 119.143 L416.514 129.768 L413.782 126.967 L424.338 116.389 L413.782 105.764 L416.514 102.963 L427.139 113.588 L437.764 102.963 L440.518 105.764 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M452.879 127.291 L460.518 127.291 L460.518 100.926 L452.208 102.592 L452.208 98.3332 L460.472 96.6666 L465.148 96.6666 L465.148 127.291 L472.787 127.291 L472.787 131.227 L452.879 131.227 L452.879 127.291 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M492.231 99.7452 Q488.62 99.7452 486.791 103.31 Q484.986 106.852 484.986 113.981 Q484.986 121.088 486.791 124.653 Q488.62 128.194 492.231 128.194 Q495.865 128.194 497.671 124.653 Q499.499 121.088 499.499 113.981 Q499.499 106.852 497.671 103.31 Q495.865 99.7452 492.231 99.7452 M492.231 96.0416 Q498.041 96.0416 501.097 100.648 Q504.175 105.231 504.175 113.981 Q504.175 122.708 501.097 127.315 Q498.041 131.898 492.231 131.898 Q486.421 131.898 483.342 127.315 Q480.287 122.708 480.287 113.981 Q480.287 105.231 483.342 100.648 Q486.421 96.0416 492.231 96.0416 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M504.175 90.1429 L528.287 90.1429 L528.287 93.3402 L504.175 93.3402 L504.175 90.1429 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M537.145 100.619 L543.352 100.619 L543.352 79.1968 L536.6 80.5509 L536.6 77.0903 L543.314 75.7362 L547.113 75.7362 L547.113 100.619 L553.32 100.619 L553.32 103.816 L537.145 103.816 L537.145 100.619 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip592)" d="M651.577 136.269 L635.577 152.269 L651.577 168.269 L667.577 152.269 L651.577 136.269 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip592)" d="M866.16 380.345 L850.16 396.345 L866.16 412.345 L882.16 396.345 L866.16 380.345 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip592)" d="M1080.74 577.932 L1064.74 593.932 L1080.74 609.932 L1096.74 593.932 L1080.74 577.932 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip592)" d="M1295.32 723.35 L1279.32 739.35 L1295.32 755.35 L1311.32 739.35 L1295.32 723.35 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip592)" d="M1509.91 737.545 L1493.91 753.545 L1509.91 769.545 L1525.91 753.545 L1509.91 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip592)" d="M1724.49 595.892 L1708.49 611.892 L1724.49 627.892 L1740.49 611.892 L1724.49 595.892 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip592)" d="M1939.07 374.031 L1923.07 390.031 L1939.07 406.031 L1955.07 390.031 L1939.07 374.031 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip592)" d="M2153.65 51.816 L2137.65 67.816 L2153.65 83.816 L2169.65 67.816 L2153.65 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip592)" d="M2368.24 131.898 L2352.24 147.898 L2368.24 163.898 L2384.24 147.898 L2368.24 131.898 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip592)" d="M2582.82 492.253 L2566.82 508.253 L2582.82 524.253 L2598.82 508.253 L2582.82 492.253 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip592)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="651.577,152.269 866.16,152.269 866.16,396.345 1080.74,396.345 1080.74,593.932 1295.32,593.932 1295.32,739.35 1509.91,739.35 1509.91,753.545 1724.49,753.545 1724.49,611.892 1939.07,611.892 1939.07,390.031 2153.65,390.031 2153.65,67.816 2368.24,67.816 2368.24,147.898 2582.82,147.898 2582.82,508.253 "></polyline>
<path clip-path="url(#clip590)" d="M2346.09 749.888 L2572.52 749.888 L2572.52 646.208 L2346.09 646.208  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2346.09,749.888 2572.52,749.888 2572.52,646.208 2346.09,646.208 2346.09,749.888 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2368.84,698.048 2505.31,698.048 "></polyline>
<path clip-path="url(#clip590)" d="M2528.06 705.096 L2528.06 689.402 L2532.32 689.402 L2532.32 704.934 Q2532.32 708.615 2533.75 710.467 Q2535.19 712.295 2538.06 712.295 Q2541.51 712.295 2543.5 710.096 Q2545.51 707.897 2545.51 704.101 L2545.51 689.402 L2549.77 689.402 L2549.77 715.328 L2545.51 715.328 L2545.51 711.346 Q2543.96 713.708 2541.9 714.865 Q2539.87 715.999 2537.16 715.999 Q2532.69 715.999 2530.37 713.221 Q2528.06 710.444 2528.06 705.096 M2538.78 688.777 L2538.78 688.777 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M593.64 1734.12 L2640.76 1734.12 L2640.76 1007.24 L593.64 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip593">
    <rect x="593" y="1007" width="2048" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip593)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="651.577,1734.12 651.577,1007.24 "></polyline>
<polyline clip-path="url(#clip593)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1134.39,1734.12 1134.39,1007.24 "></polyline>
<polyline clip-path="url(#clip593)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1617.2,1734.12 1617.2,1007.24 "></polyline>
<polyline clip-path="url(#clip593)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2100.01,1734.12 2100.01,1007.24 "></polyline>
<polyline clip-path="url(#clip593)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2582.82,1734.12 2582.82,1007.24 "></polyline>
<polyline clip-path="url(#clip593)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="593.64,1713.55 2640.76,1713.55 "></polyline>
<polyline clip-path="url(#clip593)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="593.64,1519.42 2640.76,1519.42 "></polyline>
<polyline clip-path="url(#clip593)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="593.64,1325.29 2640.76,1325.29 "></polyline>
<polyline clip-path="url(#clip593)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="593.64,1131.17 2640.76,1131.17 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="651.577,1734.12 651.577,1715.22 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1134.39,1734.12 1134.39,1715.22 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1617.2,1734.12 1617.2,1715.22 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2100.01,1734.12 2100.01,1715.22 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2582.82,1734.12 2582.82,1715.22 "></polyline>
<path clip-path="url(#clip590)" d="M628.962 1767.34 Q625.351 1767.34 623.522 1770.9 Q621.716 1774.45 621.716 1781.58 Q621.716 1788.68 623.522 1792.25 Q625.351 1795.79 628.962 1795.79 Q632.596 1795.79 634.401 1792.25 Q636.23 1788.68 636.23 1781.58 Q636.23 1774.45 634.401 1770.9 Q632.596 1767.34 628.962 1767.34 M628.962 1763.64 Q634.772 1763.64 637.827 1768.24 Q640.906 1772.83 640.906 1781.58 Q640.906 1790.3 637.827 1794.91 Q634.772 1799.49 628.962 1799.49 Q623.151 1799.49 620.073 1794.91 Q617.017 1790.3 617.017 1781.58 Q617.017 1772.83 620.073 1768.24 Q623.151 1763.64 628.962 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M649.124 1792.94 L654.008 1792.94 L654.008 1798.82 L649.124 1798.82 L649.124 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M674.193 1767.34 Q670.582 1767.34 668.753 1770.9 Q666.948 1774.45 666.948 1781.58 Q666.948 1788.68 668.753 1792.25 Q670.582 1795.79 674.193 1795.79 Q677.827 1795.79 679.633 1792.25 Q681.461 1788.68 681.461 1781.58 Q681.461 1774.45 679.633 1770.9 Q677.827 1767.34 674.193 1767.34 M674.193 1763.64 Q680.003 1763.64 683.059 1768.24 Q686.137 1772.83 686.137 1781.58 Q686.137 1790.3 683.059 1794.91 Q680.003 1799.49 674.193 1799.49 Q668.383 1799.49 665.304 1794.91 Q662.249 1790.3 662.249 1781.58 Q662.249 1772.83 665.304 1768.24 Q668.383 1763.64 674.193 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M1106.12 1794.89 L1122.44 1794.89 L1122.44 1798.82 L1100.5 1798.82 L1100.5 1794.89 Q1103.16 1792.13 1107.74 1787.5 Q1112.35 1782.85 1113.53 1781.51 Q1115.78 1778.98 1116.66 1777.25 Q1117.56 1775.49 1117.56 1773.8 Q1117.56 1771.04 1115.61 1769.31 Q1113.69 1767.57 1110.59 1767.57 Q1108.39 1767.57 1105.94 1768.34 Q1103.51 1769.1 1100.73 1770.65 L1100.73 1765.93 Q1103.55 1764.79 1106.01 1764.21 Q1108.46 1763.64 1110.5 1763.64 Q1115.87 1763.64 1119.06 1766.32 Q1122.26 1769.01 1122.26 1773.5 Q1122.26 1775.63 1121.45 1777.55 Q1120.66 1779.45 1118.55 1782.04 Q1117.98 1782.71 1114.87 1785.93 Q1111.77 1789.12 1106.12 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M1132.26 1792.94 L1137.14 1792.94 L1137.14 1798.82 L1132.26 1798.82 L1132.26 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M1147.37 1764.26 L1165.73 1764.26 L1165.73 1768.2 L1151.66 1768.2 L1151.66 1776.67 Q1152.67 1776.32 1153.69 1776.16 Q1154.71 1775.97 1155.73 1775.97 Q1161.52 1775.97 1164.9 1779.15 Q1168.28 1782.32 1168.28 1787.73 Q1168.28 1793.31 1164.8 1796.41 Q1161.33 1799.49 1155.01 1799.49 Q1152.84 1799.49 1150.57 1799.12 Q1148.32 1798.75 1145.92 1798.01 L1145.92 1793.31 Q1148 1794.45 1150.22 1795 Q1152.44 1795.56 1154.92 1795.56 Q1158.92 1795.56 1161.26 1793.45 Q1163.6 1791.34 1163.6 1787.73 Q1163.6 1784.12 1161.26 1782.02 Q1158.92 1779.91 1154.92 1779.91 Q1153.04 1779.91 1151.17 1780.33 Q1149.32 1780.74 1147.37 1781.62 L1147.37 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M1584.36 1764.26 L1602.72 1764.26 L1602.72 1768.2 L1588.64 1768.2 L1588.64 1776.67 Q1589.66 1776.32 1590.68 1776.16 Q1591.7 1775.97 1592.72 1775.97 Q1598.51 1775.97 1601.89 1779.15 Q1605.27 1782.32 1605.27 1787.73 Q1605.27 1793.31 1601.79 1796.41 Q1598.32 1799.49 1592 1799.49 Q1589.83 1799.49 1587.56 1799.12 Q1585.31 1798.75 1582.9 1798.01 L1582.9 1793.31 Q1584.99 1794.45 1587.21 1795 Q1589.43 1795.56 1591.91 1795.56 Q1595.91 1795.56 1598.25 1793.45 Q1600.59 1791.34 1600.59 1787.73 Q1600.59 1784.12 1598.25 1782.02 Q1595.91 1779.91 1591.91 1779.91 Q1590.03 1779.91 1588.16 1780.33 Q1586.31 1780.74 1584.36 1781.62 L1584.36 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M1614.48 1792.94 L1619.36 1792.94 L1619.36 1798.82 L1614.48 1798.82 L1614.48 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M1639.55 1767.34 Q1635.94 1767.34 1634.11 1770.9 Q1632.3 1774.45 1632.3 1781.58 Q1632.3 1788.68 1634.11 1792.25 Q1635.94 1795.79 1639.55 1795.79 Q1643.18 1795.79 1644.99 1792.25 Q1646.82 1788.68 1646.82 1781.58 Q1646.82 1774.45 1644.99 1770.9 Q1643.18 1767.34 1639.55 1767.34 M1639.55 1763.64 Q1645.36 1763.64 1648.41 1768.24 Q1651.49 1772.83 1651.49 1781.58 Q1651.49 1790.3 1648.41 1794.91 Q1645.36 1799.49 1639.55 1799.49 Q1633.74 1799.49 1630.66 1794.91 Q1627.6 1790.3 1627.6 1781.58 Q1627.6 1772.83 1630.66 1768.24 Q1633.74 1763.64 1639.55 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M2066.33 1764.26 L2088.55 1764.26 L2088.55 1766.25 L2076 1798.82 L2071.12 1798.82 L2082.93 1768.2 L2066.33 1768.2 L2066.33 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M2097.67 1792.94 L2102.55 1792.94 L2102.55 1798.82 L2097.67 1798.82 L2097.67 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M2112.79 1764.26 L2131.14 1764.26 L2131.14 1768.2 L2117.07 1768.2 L2117.07 1776.67 Q2118.09 1776.32 2119.11 1776.16 Q2120.12 1775.97 2121.14 1775.97 Q2126.93 1775.97 2130.31 1779.15 Q2133.69 1782.32 2133.69 1787.73 Q2133.69 1793.31 2130.22 1796.41 Q2126.74 1799.49 2120.42 1799.49 Q2118.25 1799.49 2115.98 1799.12 Q2113.74 1798.75 2111.33 1798.01 L2111.33 1793.31 Q2113.41 1794.45 2115.63 1795 Q2117.86 1795.56 2120.33 1795.56 Q2124.34 1795.56 2126.67 1793.45 Q2129.01 1791.34 2129.01 1787.73 Q2129.01 1784.12 2126.67 1782.02 Q2124.34 1779.91 2120.33 1779.91 Q2118.46 1779.91 2116.58 1780.33 Q2114.73 1780.74 2112.79 1781.62 L2112.79 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M2534.89 1794.89 L2542.53 1794.89 L2542.53 1768.52 L2534.22 1770.19 L2534.22 1765.93 L2542.48 1764.26 L2547.16 1764.26 L2547.16 1794.89 L2554.8 1794.89 L2554.8 1798.82 L2534.89 1798.82 L2534.89 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M2574.24 1767.34 Q2570.63 1767.34 2568.8 1770.9 Q2567 1774.45 2567 1781.58 Q2567 1788.68 2568.8 1792.25 Q2570.63 1795.79 2574.24 1795.79 Q2577.88 1795.79 2579.68 1792.25 Q2581.51 1788.68 2581.51 1781.58 Q2581.51 1774.45 2579.68 1770.9 Q2577.88 1767.34 2574.24 1767.34 M2574.24 1763.64 Q2580.05 1763.64 2583.11 1768.24 Q2586.19 1772.83 2586.19 1781.58 Q2586.19 1790.3 2583.11 1794.91 Q2580.05 1799.49 2574.24 1799.49 Q2568.43 1799.49 2565.35 1794.91 Q2562.3 1790.3 2562.3 1781.58 Q2562.3 1772.83 2565.35 1768.24 Q2568.43 1763.64 2574.24 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M2594.4 1792.94 L2599.29 1792.94 L2599.29 1798.82 L2594.4 1798.82 L2594.4 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M2619.47 1767.34 Q2615.86 1767.34 2614.03 1770.9 Q2612.23 1774.45 2612.23 1781.58 Q2612.23 1788.68 2614.03 1792.25 Q2615.86 1795.79 2619.47 1795.79 Q2623.11 1795.79 2624.91 1792.25 Q2626.74 1788.68 2626.74 1781.58 Q2626.74 1774.45 2624.91 1770.9 Q2623.11 1767.34 2619.47 1767.34 M2619.47 1763.64 Q2625.28 1763.64 2628.34 1768.24 Q2631.42 1772.83 2631.42 1781.58 Q2631.42 1790.3 2628.34 1794.91 Q2625.28 1799.49 2619.47 1799.49 Q2613.66 1799.49 2610.58 1794.91 Q2607.53 1790.3 2607.53 1781.58 Q2607.53 1772.83 2610.58 1768.24 Q2613.66 1763.64 2619.47 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M1601.38 1833.78 L1607.27 1833.78 L1607.27 1863.03 L1624.74 1847.65 L1632.22 1847.65 L1613.31 1864.33 L1633.02 1883.3 L1625.38 1883.3 L1607.27 1865.89 L1607.27 1883.3 L1601.38 1883.3 L1601.38 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,1734.12 593.64,1007.24 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,1713.55 612.538,1713.55 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,1519.42 612.538,1519.42 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,1325.29 612.538,1325.29 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="593.64,1131.17 612.538,1131.17 "></polyline>
<path clip-path="url(#clip590)" d="M533.413 1726.89 L541.052 1726.89 L541.052 1700.52 L532.741 1702.19 L532.741 1697.93 L541.005 1696.27 L545.681 1696.27 L545.681 1726.89 L553.32 1726.89 L553.32 1730.83 L533.413 1730.83 L533.413 1726.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M537.001 1532.76 L553.32 1532.76 L553.32 1536.7 L531.376 1536.7 L531.376 1532.76 Q534.038 1530.01 538.621 1525.38 Q543.227 1520.73 544.408 1519.38 Q546.653 1516.86 547.533 1515.13 Q548.436 1513.37 548.436 1511.68 Q548.436 1508.92 546.491 1507.19 Q544.57 1505.45 541.468 1505.45 Q539.269 1505.45 536.815 1506.21 Q534.385 1506.98 531.607 1508.53 L531.607 1503.81 Q534.431 1502.67 536.885 1502.09 Q539.339 1501.51 541.376 1501.51 Q546.746 1501.51 549.94 1504.2 Q553.135 1506.88 553.135 1511.38 Q553.135 1513.5 552.325 1515.43 Q551.538 1517.32 549.431 1519.92 Q548.852 1520.59 545.751 1523.81 Q542.649 1527 537.001 1532.76 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M546.19 1323.94 Q549.547 1324.66 551.422 1326.93 Q553.32 1329.19 553.32 1332.53 Q553.32 1337.64 549.802 1340.44 Q546.283 1343.24 539.802 1343.24 Q537.626 1343.24 535.311 1342.8 Q533.019 1342.39 530.566 1341.53 L530.566 1337.02 Q532.51 1338.15 534.825 1338.73 Q537.14 1339.31 539.663 1339.31 Q544.061 1339.31 546.352 1337.57 Q548.667 1335.84 548.667 1332.53 Q548.667 1329.47 546.515 1327.76 Q544.385 1326.02 540.565 1326.02 L536.538 1326.02 L536.538 1322.18 L540.751 1322.18 Q544.2 1322.18 546.028 1320.81 Q547.857 1319.43 547.857 1316.83 Q547.857 1314.17 545.959 1312.76 Q544.084 1311.32 540.565 1311.32 Q538.644 1311.32 536.445 1311.74 Q534.246 1312.16 531.607 1313.04 L531.607 1308.87 Q534.269 1308.13 536.584 1307.76 Q538.922 1307.39 540.982 1307.39 Q546.306 1307.39 549.408 1309.82 Q552.51 1312.23 552.51 1316.35 Q552.51 1319.22 550.866 1321.21 Q549.223 1323.18 546.19 1323.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M543.737 1117.96 L531.931 1136.41 L543.737 1136.41 L543.737 1117.96 M542.51 1113.89 L548.39 1113.89 L548.39 1136.41 L553.32 1136.41 L553.32 1140.3 L548.39 1140.3 L548.39 1148.45 L543.737 1148.45 L543.737 1140.3 L528.135 1140.3 L528.135 1135.79 L542.51 1113.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M437.911 1354.07 L455.258 1366.96 L473.559 1353.4 L473.559 1360.3 L459.554 1370.68 L473.559 1381.06 L473.559 1387.96 L454.907 1374.12 L437.911 1386.79 L437.911 1379.88 L450.611 1370.43 L437.911 1360.97 L437.911 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip593)" d="M651.577 1697.55 L635.577 1713.55 L651.577 1729.55 L667.577 1713.55 L651.577 1697.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M844.701 1559.16 L828.701 1575.16 L844.701 1591.16 L860.701 1575.16 L844.701 1559.16 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M1037.83 1565.76 L1021.83 1581.76 L1037.83 1597.76 L1053.83 1581.76 L1037.83 1565.76 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M1230.95 1532.99 L1214.95 1548.99 L1230.95 1564.99 L1246.95 1548.99 L1230.95 1532.99 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M1424.07 1500.97 L1408.07 1516.97 L1424.07 1532.97 L1440.07 1516.97 L1424.07 1500.97 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M1617.2 1458.46 L1601.2 1474.46 L1617.2 1490.46 L1633.2 1474.46 L1617.2 1458.46 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M1810.32 1405.31 L1794.32 1421.31 L1810.32 1437.31 L1826.32 1421.31 L1810.32 1405.31 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M2003.45 1338.16 L1987.45 1354.16 L2003.45 1370.16 L2019.45 1354.16 L2003.45 1338.16 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M2196.57 1253.46 L2180.57 1269.46 L2196.57 1285.46 L2212.57 1269.46 L2196.57 1253.46 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M2389.69 1146.61 L2373.69 1162.61 L2389.69 1178.61 L2405.69 1162.61 L2389.69 1146.61 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M2582.82 1011.82 L2566.82 1027.82 L2582.82 1043.82 L2598.82 1027.82 L2582.82 1011.82 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip593)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="651.577,1713.55 844.701,1713.55 844.701,1575.16 1037.83,1575.16 1037.83,1581.76 1230.95,1581.76 1230.95,1548.99 1424.07,1548.99 1424.07,1516.97 1617.2,1516.97 1617.2,1474.46 1810.32,1474.46 1810.32,1421.31 2003.45,1421.31 2003.45,1354.16 2196.57,1354.16 2196.57,1269.46 2389.69,1269.46 2389.69,1162.61 2582.82,1162.61 2582.82,1027.82 "></polyline>
<path clip-path="url(#clip593)" d="M651.577 1309.29 L635.577 1325.29 L651.577 1341.29 L667.577 1325.29 L651.577 1309.29 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M844.701 1691.58 L828.701 1707.58 L844.701 1723.58 L860.701 1707.58 L844.701 1691.58 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M1037.83 1584.33 L1021.83 1600.33 L1037.83 1616.33 L1053.83 1600.33 L1037.83 1584.33 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M1230.95 1582.79 L1214.95 1598.79 L1230.95 1614.79 L1246.95 1598.79 L1230.95 1582.79 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M1424.07 1550.5 L1408.07 1566.5 L1424.07 1582.5 L1440.07 1566.5 L1424.07 1550.5 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M1617.2 1516.65 L1601.2 1532.65 L1617.2 1548.65 L1633.2 1532.65 L1617.2 1516.65 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M1810.32 1472.38 L1794.32 1488.38 L1810.32 1504.38 L1826.32 1488.38 L1810.32 1472.38 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M2003.45 1416.9 L1987.45 1432.9 L2003.45 1448.9 L2019.45 1432.9 L2003.45 1416.9 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M2196.57 1346.82 L2180.57 1362.82 L2196.57 1378.82 L2212.57 1362.82 L2196.57 1346.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M2389.69 1258.43 L2373.69 1274.43 L2389.69 1290.43 L2405.69 1274.43 L2389.69 1258.43 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip593)" d="M2582.82 1146.92 L2566.82 1162.92 L2582.82 1178.92 L2598.82 1162.92 L2582.82 1146.92 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip593)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="651.577,1325.29 844.701,1325.29 844.701,1707.58 1037.83,1707.58 1037.83,1600.33 1230.95,1600.33 1230.95,1598.79 1424.07,1598.79 1424.07,1566.5 1617.2,1566.5 1617.2,1532.65 1810.32,1532.65 1810.32,1488.38 2003.45,1488.38 2003.45,1432.9 2196.57,1432.9 2196.57,1362.82 2389.69,1362.82 2389.69,1274.43 2582.82,1274.43 2582.82,1162.92 "></polyline>
<path clip-path="url(#clip590)" d="M661.877 1186.99 L909.69 1186.99 L909.69 1031.47 L661.877 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip590)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="661.877,1186.99 909.69,1186.99 909.69,1031.47 661.877,1031.47 661.877,1186.99 "></polyline>
<polyline clip-path="url(#clip590)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="684.623,1083.31 821.097,1083.31 "></polyline>
<path clip-path="url(#clip590)" d="M868.496 1074.67 L859.121 1087.28 L868.982 1100.59 L863.959 1100.59 L856.412 1090.41 L848.866 1100.59 L843.843 1100.59 L853.912 1087.03 L844.7 1074.67 L849.723 1074.67 L856.598 1083.9 L863.473 1074.67 L868.496 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M874.144 1098.05 L878.866 1098.05 L878.866 1083.9 L873.704 1084.85 L873.704 1082.17 L879.028 1081.26 L882.199 1081.26 L882.199 1098.05 L886.945 1098.05 L886.945 1100.59 L874.144 1100.59 L874.144 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip590)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="684.623,1135.15 821.097,1135.15 "></polyline>
<path clip-path="url(#clip590)" d="M868.496 1126.51 L859.121 1139.12 L868.982 1152.43 L863.959 1152.43 L856.412 1142.25 L848.866 1152.43 L843.843 1152.43 L853.912 1138.87 L844.7 1126.51 L849.723 1126.51 L856.598 1135.74 L863.473 1126.51 L868.496 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip590)" d="M876.736 1149.79 L886.551 1149.79 L886.551 1152.43 L872.709 1152.43 L872.709 1149.89 Q873.496 1149.17 874.954 1147.87 Q882.917 1140.81 882.917 1138.64 Q882.917 1137.11 881.713 1136.18 Q880.51 1135.23 878.542 1135.23 Q877.338 1135.23 875.926 1135.65 Q874.514 1136.04 872.848 1136.85 L872.848 1134.01 Q874.63 1133.36 876.158 1133.04 Q877.709 1132.71 879.028 1132.71 Q882.385 1132.71 884.398 1134.24 Q886.412 1135.77 886.412 1138.27 Q886.412 1141.48 878.75 1148.06 Q877.454 1149.17 876.736 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
</section>
<section id="adding-the-constraints-on-states" class="level3">
<h3 class="anchored" data-anchor-id="adding-the-constraints-on-states">Adding the constraints on states</h3>
<p>We might feel a little bit uneasy about loosing an immediate access to <span class="math inline">\bar{\bm x}</span>. But the game is not lost. We just need to express <span class="math inline">\bar{\bm x}</span> as a function of <span class="math inline">\bar{\bm u}</span> and <span class="math inline">\mathbf x_0</span> and impose the constraint on the result. But such expression is already available, see (<a href="#eq-x_as_function_of_u_and_x0" class="quarto-xref">Eq.&nbsp;2</a>). Therefore, we can formulate the constraint, say, an upper bound on the state vector <span class="math display">
\bm x_k \leq \mathbf x_\mathrm{max}
</span> as <span class="math display">
\bar{\mathbf x}^\mathrm{min} \leq \widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0 \leq \bar{\mathbf x}^\mathrm{max},
</span> where the the bars in <span class="math inline">\bar{\mathbf x}^\mathrm{min}</span> and <span class="math inline">\bar{\mathbf x}^\mathrm{max}</span> obviously indicates that these vectors were obtained by stacking the corresponding vectors for all times <span class="math inline">k=1,\ldots,N</span>.</p>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/uchytil\.github\.io\/orr\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./discr_dir_general.html" class="pagination-link" aria-label="General finite-horizon nonlinear optimal control as an NLP">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">General finite-horizon nonlinear optimal control as an NLP</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./discr_dir_mpc.html" class="pagination-link" aria-label="Model predictive control (MPC)">
        <span class="nav-page-text">Model predictive control (MPC)</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2025, Zdeněk Hurák</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hurak/orr/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>